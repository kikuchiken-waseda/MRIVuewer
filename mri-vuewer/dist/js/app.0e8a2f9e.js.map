{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/App.vue?c9ac","webpack:///./src/components/MAppBar.vue?5510","webpack:///src/components/MAppBar.vue","webpack:///./src/components/MAppBar.vue?939f","webpack:///./src/components/MAppBar.vue","webpack:///./src/components/MSideBar.vue?334e","webpack:///./src/models/audioStream.js","webpack:///./src/models/videoStream.js","webpack:///./src/models/videoSize.js","webpack:///./src/models/item.js","webpack:///./src/models/tier.js","webpack:///./src/models/file.js","webpack:///./src/components/dialog/MMovieUploadDialog.vue?6ea3","webpack:///./src/components/dialog/MBaseFormDialog.vue?d5cf","webpack:///src/components/dialog/MBaseFormDialog.vue","webpack:///./src/components/dialog/MBaseFormDialog.vue?6ab0","webpack:///./src/components/dialog/MBaseFormDialog.vue","webpack:///./src/components/form/MMovieInput.vue?ce96","webpack:///./src/utils/video.js","webpack:///./src/utils/file.js","webpack:///src/components/form/MMovieInput.vue","webpack:///./src/components/form/MMovieInput.vue?b88d","webpack:///./src/components/form/MMovieInput.vue","webpack:///src/components/dialog/MMovieUploadDialog.vue","webpack:///./src/components/dialog/MMovieUploadDialog.vue?4be5","webpack:///./src/components/dialog/MMovieUploadDialog.vue","webpack:///src/components/MSideBar.vue","webpack:///./src/components/MSideBar.vue?a61e","webpack:///./src/components/MSideBar.vue","webpack:///src/App.vue","webpack:///./src/App.vue?5b92","webpack:///./src/App.vue","webpack:///./src/registerServiceWorker.js","webpack:///./src/views/Home.vue?14d2","webpack:///./src/components/util/MSampleVideoBotton.vue?43a6","webpack:///src/components/util/MSampleVideoBotton.vue","webpack:///./src/components/util/MSampleVideoBotton.vue?ce19","webpack:///./src/components/util/MSampleVideoBotton.vue","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?231f","webpack:///./src/views/Home.vue","webpack:///./src/views/About.vue?7563","webpack:///src/views/About.vue","webpack:///./src/views/About.vue?5ed7","webpack:///./src/views/About.vue","webpack:///./src/views/Config.vue?6903","webpack:///src/views/Config.vue","webpack:///./src/views/Config.vue?857c","webpack:///./src/views/Config.vue","webpack:///./src/views/MovieAnnotation.vue?c741","webpack:///./src/components/MovieAnnotaion/MToolBar.vue?a2ab","webpack:///./src/components/MovieAnnotaion/MInfoMenu.vue?fa05","webpack:///./src/components/util/MInfoList.vue?baef","webpack:///src/components/util/MInfoList.vue","webpack:///./src/components/util/MInfoList.vue?0832","webpack:///./src/components/util/MInfoList.vue","webpack:///src/components/MovieAnnotaion/MInfoMenu.vue","webpack:///./src/components/MovieAnnotaion/MInfoMenu.vue?c12c","webpack:///./src/components/MovieAnnotaion/MInfoMenu.vue","webpack:///./src/components/util/MFuncList.vue?dc26","webpack:///src/components/util/MFuncList.vue","webpack:///./src/components/util/MFuncList.vue?f45b","webpack:///./src/components/util/MFuncList.vue","webpack:///src/components/MovieAnnotaion/MToolBar.vue","webpack:///./src/components/MovieAnnotaion/MToolBar.vue?6d74","webpack:///./src/components/MovieAnnotaion/MToolBar.vue","webpack:///./src/components/MovieAnnotaion/MSettingMenu.vue?9864","webpack:///src/components/MovieAnnotaion/MSettingMenu.vue","webpack:///./src/components/MovieAnnotaion/MSettingMenu.vue?392e","webpack:///./src/components/MovieAnnotaion/MSettingMenu.vue","webpack:///./src/components/MovieAnnotaion/MTierList.vue?2666","webpack:///./src/components/MovieAnnotaion/MIntervalTierTable.vue?87d1","webpack:///src/components/MovieAnnotaion/MIntervalTierTable.vue","webpack:///./src/components/MovieAnnotaion/MIntervalTierTable.vue?0295","webpack:///./src/components/MovieAnnotaion/MIntervalTierTable.vue","webpack:///./src/components/MovieAnnotaion/MPointTierTable.vue?f6cd","webpack:///src/components/MovieAnnotaion/MPointTierTable.vue","webpack:///./src/components/MovieAnnotaion/MPointTierTable.vue?8698","webpack:///./src/components/MovieAnnotaion/MPointTierTable.vue","webpack:///src/components/MovieAnnotaion/MTierList.vue","webpack:///./src/components/MovieAnnotaion/MTierList.vue?0f90","webpack:///./src/components/MovieAnnotaion/MTierList.vue","webpack:///./src/components/MovieAnnotaion/MVideoArray.vue?c6dd","webpack:///src/components/MovieAnnotaion/MVideoArray.vue","webpack:///./src/components/MovieAnnotaion/MVideoArray.vue?8d53","webpack:///./src/components/MovieAnnotaion/MVideoArray.vue","webpack:///./src/components/wavesurfer/util/observer.js","webpack:///./src/components/wavesurfer/util/ajax.js","webpack:///./src/components/wavesurfer/util/get-id.js","webpack:///./src/components/wavesurfer/util/max.js","webpack:///./src/components/wavesurfer/util/min.js","webpack:///./src/components/wavesurfer/util/extend.js","webpack:///./src/components/wavesurfer/util/style.js","webpack:///./src/components/wavesurfer/util/request-animation-frame.js","webpack:///./src/components/wavesurfer/util/frame.js","webpack:///./src/components/wavesurfer/util/prevent-click.js","webpack:///./src/components/wavesurfer/util/fetch.js","webpack:///./src/components/wavesurfer/drawer.js","webpack:///./src/components/wavesurfer/drawer.canvasentry.js","webpack:///./src/components/wavesurfer/drawer.multicanvas.js","webpack:///./src/components/wavesurfer/webaudio.js","webpack:///./src/components/wavesurfer/mediaelement.js","webpack:///./src/components/wavesurfer/peakcache.js","webpack:///./src/components/wavesurfer/mediaelement-webaudio.js","webpack:///./src/components/wavesurfer/wavesurfer.js","webpack:///./src/components/wavesurfer/plugin/spectrogram.js","webpack:///./src/components/wavesurfer/plugin/timeline.js","webpack:///./src/components/wavesurfer/plugin/minimap.js","webpack:///./src/components/wavesurfer/plugin/multiline.js","webpack:///src/views/MovieAnnotation.vue","webpack:///./src/views/MovieAnnotation.vue?034d","webpack:///./src/views/MovieAnnotation.vue","webpack:///./src/views/ImageAnnotation.vue?9b7a","webpack:///src/views/ImageAnnotation.vue","webpack:///./src/views/ImageAnnotation.vue?b114","webpack:///./src/views/ImageAnnotation.vue","webpack:///./src/views/ComponentDebug.vue?b342","webpack:///./src/components/videos/BackgroundSubtractor.vue?7ef1","webpack:///./src/utils/color.js","webpack:///src/components/videos/BackgroundSubtractor.vue","webpack:///./src/components/videos/BackgroundSubtractor.vue?5b2d","webpack:///./src/components/videos/BackgroundSubtractor.vue","webpack:///./src/components/videos/OpticalFlow.vue?96c5","webpack:///src/components/videos/OpticalFlow.vue","webpack:///./src/components/videos/OpticalFlow.vue?0972","webpack:///./src/components/videos/OpticalFlow.vue","webpack:///./src/components/videos/MeanShift.vue?24e5","webpack:///src/components/videos/MeanShift.vue","webpack:///./src/components/videos/MeanShift.vue?430f","webpack:///./src/components/videos/MeanShift.vue","webpack:///src/views/ComponentDebug.vue","webpack:///./src/views/ComponentDebug.vue?d202","webpack:///./src/views/ComponentDebug.vue","webpack:///./src/router/index.js","webpack:///./src/store/current.js","webpack:///./src/store/index.js","webpack:///./src/locales/ja.ts","webpack:///./src/locales/en.ts","webpack:///./src/locales/zh-Hans.ts","webpack:///./src/plugins/vuetify.js","webpack:///./src/main.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","map","webpackContext","req","id","webpackContextResolve","e","Error","code","keys","resolve","_vm","this","_h","$createElement","_c","_self","staticRenderFns","staticStyle","attrs","_v","_s","version","on","$event","to","computed","$store","state","appName","appVersion","methods","log","debug","console","info","tag","msg","payload","$router","component","VAppBar","VBtn","VIcon","VSpacer","VToolbarTitle","VToolbar","mini","search","label","model","callback","$$v","$set","expression","_e","$vuetify","lang","scopedSlots","_u","fn","ref","_g","files","menu","icon","proxy","_l","item","selectFile","fps","clearCache","importCache","exportCache","AudioStream","attr","codec_name","string","bitrate","number","channel_layout","sample_fmt","sample_rate","Model","VideoStream","pix_fmt","tbc","tbn","tbr","VideoSize","width","height","Item","tier_id","text","time","dataUrl","Tier","file_id","tierType","items","hasMany","File","audioStream_id","videoStream_id","videoSize_id","duration","fileSize","fileType","lastModifiedDate","moment","format","currentTime","audioStream","belongsTo","videoStream","size","tiers","video","loading","onValid","_t","nameMaxSize","nameRules","fpsRules","dialog","valid","staticClass","title","reset","isloading","validate","props","type","String","Boolean","default","$refs","form","$emit","warn","resetValidation","VCard","VCardActions","VCardText","VCardTitle","VDialog","VForm","onChangeFileInput","stdout","stderr","ffmpeg","arguments","print","printErr","onExit","buff","Uint8Array","MEMFS","split","line","indexOf","timeInfo","val","Number","detail","filter","x","match","getFrames","toBase64","file","Promise","reject","reader","FileReader","readAsDataURL","onload","onerror","error","toBlob","byteString","atob","mimeString","ab","ArrayBuffer","ia","charCodeAt","Blob","toBuff","toUnit8Array","download","url","filename","metadata","fetch","response","blob","required","set","initItem","VFileInput","components","MBaseFormDialog","MMovieInput","step","frameRate","frames","VContainer","VTextField","MMovieUploadDialog","watch","open","$route","VDivider","VList","VListGroup","VListItem","VListItemAction","VListItemContent","VListItemSubtitle","VListItemTitle","VNavigationDrawer","mounted","current","VApp","VContent","register","process","ready","registered","cached","updatefound","updated","offline","breakpoint","smAndDown","importSampleMovie","MSampleVideoBotton","_m","directives","rawName","menuFuncs","frameOffset","onLoadeddata","onSyncCanvas","skip","skipConf","long","short","play","pause","tierActions","ws","videoHeight","onChangeText","_k","keyCode","onEnterText","debugItem","fileName","show","help","Array","VSubheader","VTooltip","MInfoList","v","a","VMenu","domProps","VListItemIcon","MInfoMenu","MFuncList","onUpdateFiler","funcs","eq","zoom","f","requested","eqs","handler","setFilters","deep","gain","Q","frequency","filters","VSlider","style","tab","actions","interval","point","headers","act","color","Math","round","startTime","endTime","idx","VDataTable","MIntervalTierTable","MPointTierTable","maxHeight","cardStyle","VTab","VTabItem","VTabs","VTabsItems","VTabsSlider","src","onTimeupdate","syncVideos","syncCanvas","offsetTime","videoPre","getDuration","videoPos","canvas","clientWidth","ctx","drawImage","getFrame","getCurrentTime","VCol","VRow","VSystemBar","Observer","handlers","event","un","args","setTimeout","forEach","ajax","options","instance","xhr","XMLHttpRequest","fired100","method","responseType","requestHeaders","header","setRequestHeader","withCredentials","addEventListener","fireEvent","lengthComputable","loaded","total","status","send","getId","prefix","undefined","random","toString","substring","max","values","largest","Infinity","min","smallest","extend","dest","sources","source","el","styles","prop","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","element","frame","func","reqAnimationFrame","preventClickHandler","stopPropagation","document","body","removeEventListener","preventClick","ProgressHandler","contentLength","_reader","getReader","parseInt","controller","read","then","done","onProgress","close","byteLength","enqueue","catch","fetchFile","fetchHeaders","Headers","fetchRequest","Request","AbortController","append","fetchOptions","credentials","cache","redirect","referrer","signal","progressAvailable","Response","ReadableStream","errMsg","ok","arrayBuffer","json","Drawer","container","params","pixelRatio","lastPos","wrapper","util","appendChild","createElement","display","position","userSelect","webkitUserSelect","fillParent","scrollParent","overflowX","hideScrollbar","overflowY","setupWrapperEvents","noPrevent","preventDefault","progress","clientX","targetTouches","bbox","getBoundingClientRect","nominalWidth","parentWidth","getWidth","rtl","right","left","scrollLeft","scrollWidth","scrollbarHeight","offsetHeight","clientHeight","clientY","bottom","interact","handleEvent","peaks","start","end","setWidth","clearWave","barWidth","drawBars","drawWave","percent","recenterOnPosition","immediate","half","maxScroll","target","offset","rate","autoCenterRate","updateSize","minPxDelta","pos","autoCenter","newPos","autoCenterImmediately","updateProgress","unAll","parentNode","removeChild","channelIndex","CanvasEntry","wave","waveCtx","progressCtx","constructor","toLowerCase","canvasContextAttributes","getContext","elementWidth","totalWidth","offsetLeft","elementSize","hasProgressCanvas","clearRect","waveColor","progressColor","fillStyle","y","radius","fillRectToContext","drawRoundedRect","fillRect","beginPath","moveTo","lineTo","quadraticCurveTo","closePath","fill","absmax","halfH","offsetY","drawLineToContext","peak","h","first","last","canvasStart","canvasEnd","scale","halfOffset","absmaxHalf","halfPixel","quality","toDataURL","MultiCanvas","maxCanvasWidth","maxCanvasElementWidth","canvases","progressWave","EntryClass","drawingContextAttributes","overlap","ceil","barRadius","createWrapper","createElements","zIndex","top","overflow","boxSizing","borderRightStyle","pointerEvents","addCanvas","updateCursor","borderRightWidth","cursorWidth","borderRightColor","cursorColor","requiredCanvases","removeCanvas","canvasWidth","lastCanvas","entry","updateDimensions","leftOffset","initWave","initProgress","lastEntry","parentElement","destroy","pop","prepareDraw","hasMinVals","peakIndexScale","bar","gap","barGap","floor","barMinHeight","reflectedPeaks","len","drawLine","setFillStyles","drawLines","startCanvas","endCanvas","intersection","x1","y1","x2","y2","fillRects","channels","splitChannels","setHeight","channelPeaks","barHeight","normalize","some","all","getImage","images","PLAYING","PAUSED","FINISHED","WebAudio","init","addOnAudioProcess","getPlayedPercents","startPosition","getPlayedTime","removeOnAudioProcess","ac","audioContext","supportsWebAudio","getAudioContext","lastPlay","scheduledPause","states","stateBehaviors","buffer","gainNode","mergedPeaks","offlineAc","playbackRate","analyser","scriptNode","splitPeaks","explicitDuration","destroyed","AudioContext","webkitAudioContext","WaveSurferAudioContext","sampleRate","WaveSurferOfflineAudioContext","OfflineAudioContext","webkitOfflineAudioContext","createVolumeNode","createScriptNode","createAnalyserNode","setState","setPlaybackRate","audioRate","setLength","disconnect","connect","disconnectFilters","reduce","prev","curr","audioScriptProcessor","createScriptProcessor","scriptBufferSize","createJavaScriptNode","destination","onaudioprocess","createAnalyser","createGain","createGainNode","deviceId","audio","Audio","setSinkId","autoplay","createMediaStreamDestination","srcObject","stream","setValueAtTime","arraybuffer","errback","getOfflineAudioContext","decodeAudioData","numberOfChannels","newBuffer","createBuffer","sampleSize","sampleStep","chan","getChannelData","disconnectSource","closeAudioContext","isPaused","destroyWebAudio","createSource","createBufferSource","noteGrainOn","stop","noteOff","adjustedTime","seekTo","resume","MediaElement","media","paused","volume","mediaType","elementPosition","isMuted","onPlayEnd","mediaListeners","createTimer","canplay","ended","seeked","volumechange","muted","onAudioProcess","preload","controls","mediaControls","prevMedia","querySelector","_load","elt","HTMLMediaElement","load","_setupMediaListeners","setVolume","seekable","clearPlayEnd","promise","setPlayEnd","_onPlayEnd","removeMediaElementOnDestroy","PeakCache","clearPeakCache","peakCacheRanges","peakCacheLength","uncachedRanges","arr","concat","sort","b","uncachedRangePairs","peakCacheRangePairs","MediaElementWebAudio","sourceMediaElement","createMediaElementSource","mediaElement","WaveSurfer","backend","backgroundColor","dragSelection","desynchronized","forceDecode","loopSelection","mediaContainer","minPxPerSec","partialRender","devicePixelRatio","screen","deviceXDPI","logicalXDPI","plugins","renderer","responsive","skipLength","assign","defaultParams","transform","setBackgroundColor","savedVolume","tmpEvents","currentRequest","drawer","peakCache","Backend","backends","initialisedPluginList","isDestroyed","isReady","prevWidth","_onResize","wavesurfer","registerPlugins","createDrawer","createBackend","createPeakCache","plugin","addPlugin","deferInit","initPlugin","staticProps","pluginStaticProp","Instance","observerPrototypeKeys","getOwnPropertyNames","destroyPlugin","drawBuffer","newVolume","getVolume","seconds","seekAndCenter","recenter","isFinite","oldScrollParent","getPlaybackRate","setMute","mute","background","newRanges","addRangeToPeakCache","getPeaks","drawPeaks","pxPerSec","decodeArrayBuffer","loadDecodedBuffer","loadArrayBuffer","readAsArrayBuffer","empty","preloadIgnoreReasons","activeReasons","reason","join","loadBuffer","loadMediaElement","action","once","getArrayBuffer","setPeaks","urlOrElt","loadElt","err","request","percentComplete","accuracy","noWindow","JSON","stringify","encodeURIComponent","abort","cancelAjax","clearTmpEvents","destroyAllPlugins","FFT","bufferSize","windowFunc","alpha","bandwidth","sinTable","Float32Array","cosTable","windowValues","reverseTable","Uint32Array","peakBand","abs","cos","PI","pow","E","sin","limit","bit","calculateSpectrum","rval","ival","mag","real","imag","bSi","sqrt","spectrum","k","LN2","phaseShiftStepReal","phaseShiftStepImag","currentPhaseShiftReal","currentPhaseShiftImag","off","tr","ti","tmpReal","halfSize","fftStep","N","SpectrogramPlugin","frequenciesDataUrl","_onScroll","updateScroll","_onRender","render","_onWrapperClick","_wrapperClickHandler","_onReady","colorMap","cmEntry","fftSamples","noverlap","createCanvas","prevSpectrogram","wsParams","labels","labelsEl","classList","add","loadLabels","relX","offsetX","layerX","spectrCc","updateCanvasStyle","loadFrequenciesData","getFrequencies","drawSpectrogram","frequenciesData","my","pixels","resample","heightFactor","channelOne","frequencies","uniqueSamplesPerPx","fft","currentOffset","segment","array","log10","parse","freq","toFixed","bgFill","fontSizeFreq","fontSizeUnit","fontType","textColorFreq","textColorUnit","textAlign","frequenciesHeight","bgWidth","getMaxY","labelIndex","freqStart","textBaseline","freqType","units","unitType","yLabelOffset","font","fillText","oldMatrix","columnsNumber","newMatrix","oldPiece","newPiece","column","oldStart","oldEnd","newStart","newEnd","intColumn","TimelinePlugin","_onRedraw","_onZoom","notchPercentHeight","labelPadding","unlabeledNotchColor","primaryColor","secondaryColor","primaryFontColor","secondaryFontColor","fontFamily","fontSize","zoomDebounce","formatTimeCallback","defaultFormatTimeCallback","timeInterval","defaultTimeInterval","primaryLabelInterval","defaultPrimaryLabelInterval","secondaryLabelInterval","defaultSecondaryLabelInterval","debounce","innerHTML","updateCanvases","updateCanvasesPositioning","renderCanvases","canvasesLength","totalSeconds","height1","height2","pixelsPerSecond","formatTime","intervalFnOrVal","option","curPixel","curSeconds","positioning","renderPositions","cb","setFonts","textWidth","xOffset","context","measureText","minutes","MinimapPlugin","showRegions","showOverview","overviewBorderColor","overviewBorderSize","renderEvent","overviewRegion","isInitialised","_onShouldRender","bindWavesurferEvents","bindMinimapEvents","contains","insertBefore","regions","_onAudioprocess","_onSeek","draggingOverview","moveOverviewRegion","ratio","_onMouseover","region","renderRegions","regionElements","querySelectorAll","regionElement","cursor","border","opacity","overviewOpacity","positionMouseDown","relativePositionX","seek","waveShowedWidth","waveWidth","overviewWidth","offsetWidth","overviewPosition","TIERS","MultilinePlugin","isDragging","draggingItemIdx","wsp","getCurrentItemIndex","focusColor","focusPointColor","lastIdx","addItem","isCollisioned","csd","_onKeyBackSpace","_onTab","onCtrl","deleteItem","lastTime","isPlaying","getTierNum","children","getTiers","res","focusBgColor","Color","find","check","getCurrentItem","findIndex","isRender","_onDblClick","_onMouseMove","_onMouseDown","_onMouseUp","focus","_onMouseOut","_onKeyDown","setAttribute","fillLine","rectDuration","rectWidth","fs","_x","_y","MToolBar","MTierList","MSettingMenu","MVideoArray","where","isVideoLoaded","initWs","tier","onRedy","onDestroy","onError","onUpdateMultiline","setVideoHeight","$nextTick","addTier","setCurrentTime","currentTier","putText","currentIdx","isLoading","multiline","textField","onResize","VProgressLinear","Resize","VImg","conf","bs","history","threshold","detectShadows","next","getCode","colors","base","replace","css2rgb","codeArr","g","getRgb","require","fgbg","cv","BackgroundSubtractorMOG2","cap","imshow","fgmask","VideoCapture","Mat","CV_8UC4","CV_8UC1","frame2","cvtColor","COLOR_RGBA2GRAY","calcOpticalFlowFarneback","flow","flowVec","cartToPolar","u","ang","delete","convertTo","hsv0","hsv2","NORM_MINMAX","merge","hsvVec","hsv","rgb","COLOR_HSV2RGB","copyTo","prvs","CV_32FC2","MatVector","CV_32FC1","frame1","push_back","hsv1","CV_8UC3","COLOR_RGBA2RGB","COLOR_RGB2HSV","calcBackProject","pts","trackWindow","Rect","roi","hsvRoi","inRange","low","high","mask","roiHist","hsvRoiVec","calcHist","termCrit","TermCriteria","dst","trackBox","BackgroundSubtractor","OpticalFlow","MeanShift","backgroundSubtractor","meanShift","opticalFlow","videoArray","VSwitch","Vue","use","VueRouter","routes","path","Home","About","Config","MovieAnnotation","ImageAnnotation","ComponentDebug","router","TAG","MUTATIONTAG","ACTIONTAG","namespaced","mutations","setName","setLastModifiedData","setFileSize","setFileType","setFps","setDataUrl","setSize","setVideoStream","setAudioStream","setItem","commit","setMovieHeight","database","VuexORM","Database","VuexORMLocalForage","localforage","VUE_APP_LOCAlFORAGE_NAME","Vuex","Store","install","badge","dataIterator","noResultsText","loadingText","dataTable","itemsPerPageText","ariaLabel","sortDescending","sortAscending","sortNone","activateNone","activateDescending","activateAscending","sortBy","dataFooter","itemsPerPageAll","nextPage","prevPage","firstPage","lastPage","pageText","datePicker","itemsSelected","noDataText","carousel","delimiter","calendar","moreEvents","fileInput","counter","counterSize","timePicker","am","pm","lessThen","moreThen","isFloat","baseFromDialog","hint","save","movieUploadDialog","sidebar","list","export","import","home","disc","upload","btn","demo","movieAnnotation","codec","Vuetify","theme","themes","light","primary","blueGrey","secondary","darken3","accent","teal","grey","lighten3","dark","locales","ja","en","zhHans","config","productionTip","store","vuetify","App","$mount"],"mappings":"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CX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,aAAc,OACd,gBAAiB,OACjB,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,UAAW,OACX,aAAc,OACd,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,aAAc,OACd,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW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","file":"js/app.0e8a2f9e.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/mri-vuewer/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var map = {\n\t\"./af\": \"2bfb\",\n\t\"./af.js\": \"2bfb\",\n\t\"./ar\": \"8e73\",\n\t\"./ar-dz\": \"a356\",\n\t\"./ar-dz.js\": \"a356\",\n\t\"./ar-kw\": \"423e\",\n\t\"./ar-kw.js\": \"423e\",\n\t\"./ar-ly\": \"1cfd\",\n\t\"./ar-ly.js\": \"1cfd\",\n\t\"./ar-ma\": \"0a84\",\n\t\"./ar-ma.js\": \"0a84\",\n\t\"./ar-sa\": \"8230\",\n\t\"./ar-sa.js\": \"8230\",\n\t\"./ar-tn\": \"6d83\",\n\t\"./ar-tn.js\": \"6d83\",\n\t\"./ar.js\": \"8e73\",\n\t\"./az\": \"485c\",\n\t\"./az.js\": \"485c\",\n\t\"./be\": \"1fc1\",\n\t\"./be.js\": \"1fc1\",\n\t\"./bg\": \"84aa\",\n\t\"./bg.js\": \"84aa\",\n\t\"./bm\": \"a7fa\",\n\t\"./bm.js\": \"a7fa\",\n\t\"./bn\": \"9043\",\n\t\"./bn.js\": \"9043\",\n\t\"./bo\": \"d26a\",\n\t\"./bo.js\": \"d26a\",\n\t\"./br\": \"6887\",\n\t\"./br.js\": \"6887\",\n\t\"./bs\": \"2554\",\n\t\"./bs.js\": \"2554\",\n\t\"./ca\": \"d716\",\n\t\"./ca.js\": \"d716\",\n\t\"./cs\": \"3c0d\",\n\t\"./cs.js\": \"3c0d\",\n\t\"./cv\": \"03ec\",\n\t\"./cv.js\": \"03ec\",\n\t\"./cy\": \"9797\",\n\t\"./cy.js\": \"9797\",\n\t\"./da\": \"0f14\",\n\t\"./da.js\": \"0f14\",\n\t\"./de\": \"b469\",\n\t\"./de-at\": \"b3eb\",\n\t\"./de-at.js\": \"b3eb\",\n\t\"./de-ch\": \"bb71\",\n\t\"./de-ch.js\": \"bb71\",\n\t\"./de.js\": \"b469\",\n\t\"./dv\": \"598a\",\n\t\"./dv.js\": \"598a\",\n\t\"./el\": \"8d47\",\n\t\"./el.js\": \"8d47\",\n\t\"./en-SG\": \"cdab\",\n\t\"./en-SG.js\": \"cdab\",\n\t\"./en-au\": \"0e6b\",\n\t\"./en-au.js\": \"0e6b\",\n\t\"./en-ca\": \"3886\",\n\t\"./en-ca.js\": \"3886\",\n\t\"./en-gb\": \"39a6\",\n\t\"./en-gb.js\": \"39a6\",\n\t\"./en-ie\": \"e1d3\",\n\t\"./en-ie.js\": \"e1d3\",\n\t\"./en-il\": \"7333\",\n\t\"./en-il.js\": \"7333\",\n\t\"./en-nz\": \"6f50\",\n\t\"./en-nz.js\": \"6f50\",\n\t\"./eo\": \"65db\",\n\t\"./eo.js\": \"65db\",\n\t\"./es\": \"898b\",\n\t\"./es-do\": \"0a3c\",\n\t\"./es-do.js\": \"0a3c\",\n\t\"./es-us\": \"55c9\",\n\t\"./es-us.js\": \"55c9\",\n\t\"./es.js\": \"898b\",\n\t\"./et\": \"ec18\",\n\t\"./et.js\": \"ec18\",\n\t\"./eu\": \"0ff2\",\n\t\"./eu.js\": \"0ff2\",\n\t\"./fa\": \"8df4\",\n\t\"./fa.js\": \"8df4\",\n\t\"./fi\": \"81e9\",\n\t\"./fi.js\": \"81e9\",\n\t\"./fo\": \"0721\",\n\t\"./fo.js\": \"0721\",\n\t\"./fr\": \"9f26\",\n\t\"./fr-ca\": \"d9f8\",\n\t\"./fr-ca.js\": \"d9f8\",\n\t\"./fr-ch\": \"0e49\",\n\t\"./fr-ch.js\": \"0e49\",\n\t\"./fr.js\": \"9f26\",\n\t\"./fy\": \"7118\",\n\t\"./fy.js\": \"7118\",\n\t\"./ga\": \"5120\",\n\t\"./ga.js\": \"5120\",\n\t\"./gd\": \"f6b4\",\n\t\"./gd.js\": \"f6b4\",\n\t\"./gl\": \"8840\",\n\t\"./gl.js\": \"8840\",\n\t\"./gom-latn\": \"0caa\",\n\t\"./gom-latn.js\": \"0caa\",\n\t\"./gu\": \"e0c5\",\n\t\"./gu.js\": \"e0c5\",\n\t\"./he\": \"c7aa\",\n\t\"./he.js\": \"c7aa\",\n\t\"./hi\": \"dc4d\",\n\t\"./hi.js\": \"dc4d\",\n\t\"./hr\": \"4ba9\",\n\t\"./hr.js\": \"4ba9\",\n\t\"./hu\": \"5b14\",\n\t\"./hu.js\": \"5b14\",\n\t\"./hy-am\": \"d6b6\",\n\t\"./hy-am.js\": \"d6b6\",\n\t\"./id\": \"5038\",\n\t\"./id.js\": \"5038\",\n\t\"./is\": \"0558\",\n\t\"./is.js\": \"0558\",\n\t\"./it\": \"6e98\",\n\t\"./it-ch\": \"6f12\",\n\t\"./it-ch.js\": \"6f12\",\n\t\"./it.js\": \"6e98\",\n\t\"./ja\": \"079e\",\n\t\"./ja.js\": \"079e\",\n\t\"./jv\": \"b540\",\n\t\"./jv.js\": \"b540\",\n\t\"./ka\": \"201b\",\n\t\"./ka.js\": \"201b\",\n\t\"./kk\": \"6d79\",\n\t\"./kk.js\": \"6d79\",\n\t\"./km\": \"e81d\",\n\t\"./km.js\": \"e81d\",\n\t\"./kn\": \"3e92\",\n\t\"./kn.js\": \"3e92\",\n\t\"./ko\": \"22f8\",\n\t\"./ko.js\": \"22f8\",\n\t\"./ku\": \"2421\",\n\t\"./ku.js\": \"2421\",\n\t\"./ky\": \"9609\",\n\t\"./ky.js\": \"9609\",\n\t\"./lb\": \"440c\",\n\t\"./lb.js\": \"440c\",\n\t\"./lo\": \"b29d\",\n\t\"./lo.js\": \"b29d\",\n\t\"./lt\": \"26f9\",\n\t\"./lt.js\": \"26f9\",\n\t\"./lv\": \"b97c\",\n\t\"./lv.js\": \"b97c\",\n\t\"./me\": \"293c\",\n\t\"./me.js\": \"293c\",\n\t\"./mi\": \"688b\",\n\t\"./mi.js\": \"688b\",\n\t\"./mk\": \"6909\",\n\t\"./mk.js\": \"6909\",\n\t\"./ml\": \"02fb\",\n\t\"./ml.js\": \"02fb\",\n\t\"./mn\": \"958b\",\n\t\"./mn.js\": \"958b\",\n\t\"./mr\": \"39bd\",\n\t\"./mr.js\": \"39bd\",\n\t\"./ms\": \"ebe4\",\n\t\"./ms-my\": \"6403\",\n\t\"./ms-my.js\": \"6403\",\n\t\"./ms.js\": \"ebe4\",\n\t\"./mt\": \"1b45\",\n\t\"./mt.js\": \"1b45\",\n\t\"./my\": \"8689\",\n\t\"./my.js\": \"8689\",\n\t\"./nb\": \"6ce3\",\n\t\"./nb.js\": \"6ce3\",\n\t\"./ne\": \"3a39\",\n\t\"./ne.js\": \"3a39\",\n\t\"./nl\": \"facd\",\n\t\"./nl-be\": \"db29\",\n\t\"./nl-be.js\": \"db29\",\n\t\"./nl.js\": \"facd\",\n\t\"./nn\": \"b84c\",\n\t\"./nn.js\": \"b84c\",\n\t\"./pa-in\": \"f3ff\",\n\t\"./pa-in.js\": \"f3ff\",\n\t\"./pl\": \"8d57\",\n\t\"./pl.js\": \"8d57\",\n\t\"./pt\": \"f260\",\n\t\"./pt-br\": \"d2d4\",\n\t\"./pt-br.js\": \"d2d4\",\n\t\"./pt.js\": \"f260\",\n\t\"./ro\": \"972c\",\n\t\"./ro.js\": \"972c\",\n\t\"./ru\": \"957c\",\n\t\"./ru.js\": \"957c\",\n\t\"./sd\": \"6784\",\n\t\"./sd.js\": \"6784\",\n\t\"./se\": \"ffff\",\n\t\"./se.js\": \"ffff\",\n\t\"./si\": \"eda5\",\n\t\"./si.js\": \"eda5\",\n\t\"./sk\": \"7be6\",\n\t\"./sk.js\": \"7be6\",\n\t\"./sl\": \"8155\",\n\t\"./sl.js\": \"8155\",\n\t\"./sq\": \"c8f3\",\n\t\"./sq.js\": \"c8f3\",\n\t\"./sr\": \"cf1e\",\n\t\"./sr-cyrl\": \"13e9\",\n\t\"./sr-cyrl.js\": \"13e9\",\n\t\"./sr.js\": \"cf1e\",\n\t\"./ss\": \"52bd\",\n\t\"./ss.js\": \"52bd\",\n\t\"./sv\": \"5fbd\",\n\t\"./sv.js\": \"5fbd\",\n\t\"./sw\": \"74dc\",\n\t\"./sw.js\": \"74dc\",\n\t\"./ta\": \"3de5\",\n\t\"./ta.js\": \"3de5\",\n\t\"./te\": \"5cbb\",\n\t\"./te.js\": \"5cbb\",\n\t\"./tet\": \"576c\",\n\t\"./tet.js\": \"576c\",\n\t\"./tg\": \"3b1b\",\n\t\"./tg.js\": \"3b1b\",\n\t\"./th\": \"10e8\",\n\t\"./th.js\": \"10e8\",\n\t\"./tl-ph\": \"0f38\",\n\t\"./tl-ph.js\": \"0f38\",\n\t\"./tlh\": \"cf75\",\n\t\"./tlh.js\": \"cf75\",\n\t\"./tr\": \"0e81\",\n\t\"./tr.js\": \"0e81\",\n\t\"./tzl\": \"cf51\",\n\t\"./tzl.js\": \"cf51\",\n\t\"./tzm\": \"c109\",\n\t\"./tzm-latn\": \"b53d\",\n\t\"./tzm-latn.js\": \"b53d\",\n\t\"./tzm.js\": \"c109\",\n\t\"./ug-cn\": \"6117\",\n\t\"./ug-cn.js\": \"6117\",\n\t\"./uk\": \"ada2\",\n\t\"./uk.js\": \"ada2\",\n\t\"./ur\": \"5294\",\n\t\"./ur.js\": \"5294\",\n\t\"./uz\": \"2e8c\",\n\t\"./uz-latn\": \"010e\",\n\t\"./uz-latn.js\": \"010e\",\n\t\"./uz.js\": \"2e8c\",\n\t\"./vi\": \"2921\",\n\t\"./vi.js\": \"2921\",\n\t\"./x-pseudo\": \"fd7e\",\n\t\"./x-pseudo.js\": \"fd7e\",\n\t\"./yo\": \"7f33\",\n\t\"./yo.js\": \"7f33\",\n\t\"./zh-cn\": \"5c3a\",\n\t\"./zh-cn.js\": \"5c3a\",\n\t\"./zh-hk\": \"49ab\",\n\t\"./zh-hk.js\": \"49ab\",\n\t\"./zh-tw\": \"90ea\",\n\t\"./zh-tw.js\": \"90ea\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"4678\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('m-app-bar'),_c('v-content',[_c('m-side-bar'),_c('router-view')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app-bar',{staticStyle:{\"z-index\":\"99\"},attrs:{\"app\":\"\",\"color\":\"primary\",\"dark\":\"\"}},[_c('v-toolbar-title',[_vm._v(_vm._s(_vm.name)+\" ver. \"+_vm._s(_vm.version))]),_c('v-spacer'),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.to({ name: 'Home' })}}},[_c('v-icon',[_vm._v(\"mdi-home\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-app-bar app color=\"primary\" dark style=\"z-index:99\">\n    <v-toolbar-title>{{ name }} ver. {{ version }}</v-toolbar-title>\n    <v-spacer></v-spacer>\n    <v-btn icon @click=\"to({ name: 'Home' })\">\n      <v-icon>mdi-home</v-icon>\n    </v-btn>\n  </v-app-bar>\n</template>\n\n<script>\nexport default {\n  name: \"MAppBar\",\n  data: () => ({\n    debug: false\n  }),\n  computed: {\n    name: {\n      get() {\n        return this.$store.state.appName;\n      }\n    },\n    version: {\n      get() {\n        return this.$store.state.appVersion;\n      }\n    }\n  },\n  methods: {\n    log: function(tag, msg) {\n      if (this.debug) {\n        console.info(tag, msg);\n      }\n    },\n    to: function(payload) {\n      const tag = `${this.$options.name}:to`;\n      this.log(tag, payload);\n      this.$router.push(payload);\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MAppBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MAppBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MAppBar.vue?vue&type=template&id=1fafffbe&\"\nimport script from \"./MAppBar.vue?vue&type=script&lang=js&\"\nexport * from \"./MAppBar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAppBar } from 'vuetify/lib/components/VAppBar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VAppBar,VBtn,VIcon,VSpacer,VToolbarTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-navigation-drawer',{attrs:{\"app\":\"\",\"dark\":\"\",\"expand-on-hover\":\"\",\"mini-variant\":_vm.mini,\"permanent\":\"\"},on:{\"update:miniVariant\":function($event){_vm.mini=$event},\"update:mini-variant\":function($event){_vm.mini=$event}}},[_c('v-list',{attrs:{\"dense\":\"\",\"nav\":\"\"}},[(!_vm.mini)?_c('v-list-item',[_c('v-text-field',{attrs:{\"label\":_vm.search.label,\"single-line\":\"\",\"solo\":\"\",\"dense\":\"\",\"rounded\":\"\"},model:{value:(_vm.search.key),callback:function ($$v) {_vm.$set(_vm.search, \"key\", $$v)},expression:\"search.key\"}})],1):_c('v-list-item',[_c('v-list-item-action',[_c('v-icon',[_vm._v(\"mdi-menu-open\")])],1)],1),(!_vm.mini)?_c('v-list-item',[_c('v-list-item-subtitle',[_vm._v(\" \"+_vm._s(_vm.$vuetify.lang.t(\"$vuetify.sidebar.files.title\"))+\" \")])],1):_vm._e(),_c('m-movie-upload-dialog',{scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-list-item',_vm._g({attrs:{\"ripple\":\"\"}},on),[_c('v-list-item-action',[_c('v-icon',[_vm._v(\"mdi-playlist-plus\")])],1),_c('v-list-item-title',[_vm._v(\" \"+_vm._s(_vm.$vuetify.lang.t(\"$vuetify.sidebar.files.add\"))+\" \")])],1)]}}])}),(_vm.files.length > 0)?_c('v-list-group',{attrs:{\"prepend-icon\":_vm.menu.icon},scopedSlots:_vm._u([{key:\"activator\",fn:function(){return [_c('v-list-item-title',[_vm._v(\" \"+_vm._s(_vm.$vuetify.lang.t(\"$vuetify.sidebar.files.list\"))+\" \")])]},proxy:true}],null,false,979820808),model:{value:(_vm.menu.open),callback:function ($$v) {_vm.$set(_vm.menu, \"open\", $$v)},expression:\"menu.open\"}},_vm._l((_vm.files),function(item){return _c('v-list-item',{key:item.id,on:{\"click\":function($event){return _vm.selectFile(item)}}},[_c('v-list-item-title',[_vm._v(\" \"+_vm._s(item.name)+\" \"),_c('v-spacer'),_vm._v(\" (\"+_vm._s(item.fps)+\" fps) \")],1),_c('v-list-item-action',[_c('v-icon',[_vm._v(\"mdi-file-video\")])],1)],1)}),1):_vm._e(),_c('v-divider'),_c('v-list-item',{attrs:{\"ripple\":\"\"},on:{\"click\":_vm.clearCache}},[_c('v-list-item-action',[_c('v-icon',[_vm._v(\"mdi-database-remove\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\" \"+_vm._s(_vm.$vuetify.lang.t(\"$vuetify.sidebar.cache.destroy\"))+\" \")])],1)],1),_c('v-list-item',{attrs:{\"ripple\":\"\"},on:{\"click\":_vm.importCache}},[_c('v-list-item-action',[_c('v-icon',[_vm._v(\"mdi-database-import\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\" \"+_vm._s(_vm.$vuetify.lang.t(\"$vuetify.sidebar.cache.import\"))+\" \")])],1)],1),_c('v-list-item',{attrs:{\"ripple\":\"\"},on:{\"click\":_vm.exportCache}},[_c('v-list-item-action',[_c('v-icon',[_vm._v(\"mdi-database-export\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\" \"+_vm._s(_vm.$vuetify.lang.t(\"$vuetify.sidebar.cache.export\"))+\" \")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { Model } from \"@vuex-orm/core\";\n\nexport default class AudioStream extends Model {\n  static entity = \"audioStreams\";\n\n  static fields() {\n    return {\n      id: this.attr(null),\n      codec_name: this.string(\"\"),\n      bitrate: this.number(0),\n      channel_layout: this.string(\"mono\"),\n      sample_fmt: this.string(\"\"),\n      sample_rate: this.number(0)\n    };\n  }\n}\n","import { Model } from \"@vuex-orm/core\";\n\nexport default class VideoStream extends Model {\n  static entity = \"videoStreams\";\n\n  static fields() {\n    return {\n      id: this.attr(null),\n      codec_name: this.string(\"\"),\n      pix_fmt: this.string(\"\"),\n      bitrate: this.number(0),\n      fps: this.number(0),\n      tbc: this.number(0),\n      tbn: this.number(0),\n      tbr: this.number(0)\n    };\n  }\n}\n","import { Model } from \"@vuex-orm/core\";\n\nexport default class VideoSize extends Model {\n  static entity = \"videoSizes\";\n\n  static fields() {\n    return {\n      id: this.attr(null),\n      width: this.attr(0),\n      height: this.attr(0)\n    };\n  }\n}\n","import { Model } from \"@vuex-orm/core\";\nexport default class Item extends Model {\n  static entity = \"items\";\n  static fields() {\n    return {\n      id: this.attr(null),\n      tier_id: this.attr(null),\n      text: this.attr(\"\"),\n      time: this.attr(0),\n      dataUrl: this.attr(\"\")\n    };\n  }\n}\n","import { Model } from \"@vuex-orm/core\";\nimport Item from \"./item.js\";\nexport default class Tier extends Model {\n  static entity = \"tiers\";\n  static fields() {\n    return {\n      id: this.attr(null),\n      file_id: this.attr(null),\n      name: this.attr(\"\"),\n      tierType: this.attr(\"\"),\n      items: this.hasMany(Item, \"tier_id\")\n    };\n  }\n}\n","/**\n * store/files.js\n *\n * \n */\nimport moment from \"moment\";\nimport { Model } from \"@vuex-orm/core\";\nimport AudioStream from \"./audioStream.js\";\nimport VideoStream from \"./videoStream.js\";\nimport VideoSize from \"./videoSize.js\";\nimport Tier from \"./tier.js\";\n\nexport default class File extends Model {\n  static entity = \"files\";\n  static fields() {\n    return {\n      id: this.attr(null),\n      audioStream_id: this.attr(null),\n      videoStream_id: this.attr(null),\n      videoSize_id: this.attr(null),\n      name: this.attr(\"\"),\n      duration: this.attr(0),\n      fileSize: this.attr(\"\"),\n      fileType: this.attr(\"\"),\n      fps: this.number(0),\n      dataUrl: this.attr(\"\"),\n      lastModifiedDate: this.string(moment().format()),\n      currentTime: this.number(0),\n      audioStream: this.belongsTo(AudioStream, \"audioStream_id\"),\n      videoStream: this.belongsTo(VideoStream, \"videoStream_id\"),\n      size: this.belongsTo(VideoSize, \"videoSize_id\"),\n      tiers: this.hasMany(Tier, \"file_id\")\n    };\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('m-base-form-dialog',{ref:\"form\",attrs:{\"title\":\"Movie Upload\",\"isloading\":_vm.video.loading},on:{\"valid\":_vm.onValid},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_vm._t(\"activator\",[_c('v-btn',_vm._g({attrs:{\"color\":\"primary\",\"dark\":\"\"}},on),[_vm._v(\" \"+_vm._s(_vm.$vuetify.lang.t(\"$vuetify.baseFromDialog.save\"))+\" \")])],{\"on\":on})]}},{key:\"form\",fn:function(){return [_c('v-container',[_c('m-movie-input',{model:{value:(_vm.video),callback:function ($$v) {_vm.video=$$v},expression:\"video\"}}),_c('v-text-field',{attrs:{\"label\":((_vm.$vuetify.lang.t('$vuetify.movieUploadDialog.name.title')) + \"*\"),\"counter\":_vm.nameMaxSize,\"rules\":_vm.nameRules,\"disabled\":_vm.video.loading,\"prepend-icon\":\"mdi-movie\",\"hint\":_vm.$vuetify.lang.t('$vuetify.movieUploadDialog.name.hint'),\"required\":\"\"},model:{value:(_vm.video.name),callback:function ($$v) {_vm.$set(_vm.video, \"name\", $$v)},expression:\"video.name\"}}),_c('v-text-field',{attrs:{\"label\":((_vm.$vuetify.lang.t('$vuetify.movieUploadDialog.fps.title')) + \"*\"),\"rules\":_vm.fpsRules,\"disabled\":_vm.video.loading,\"hint\":_vm.$vuetify.lang.t('$vuetify.movieUploadDialog.fps.hint'),\"prepend-icon\":\"mdi-movie-edit\",\"required\":\"\"},model:{value:(_vm.video.fps),callback:function ($$v) {_vm.$set(_vm.video, \"fps\", $$v)},expression:\"video.fps\"}})],1),(_vm.debug)?_c('v-container',[_c('pre',[_vm._v(_vm._s(_vm.video))])]):_vm._e()]},proxy:true}],null,true)})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"600px\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_vm._t(\"activator\",[_c('v-btn',_vm._g({},on),[_vm._v(\" \"+_vm._s(_vm.$vuetify.lang.t(\"$vuetify.baseFromDialog.open\"))+\" \")])],{\"on\":on})]}}],null,true),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[(_vm.title)?_c('v-card-title',[_c('span',{staticClass:\"headline\"},[_vm._v(_vm._s(_vm.title))])]):_vm._e(),_c('v-card-text',[_vm._t(\"form\"),_c('small',[_vm._v(\" \"+_vm._s(_vm.$vuetify.lang.t(\"$vuetify.baseFromDialog.hint\"))+\" \")])],2),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":_vm.reset}},[_vm._v(\" \"+_vm._s(_vm.$vuetify.lang.t(\"$vuetify.baseFromDialog.close\"))+\" \")]),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\",\"loading\":_vm.isloading},on:{\"click\":_vm.validate}},[_vm._v(\" \"+_vm._s(_vm.$vuetify.lang.t(\"$vuetify.baseFromDialog.save\"))+\" \")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-dialog v-model=\"dialog\" persistent max-width=\"600px\">\n    <template v-slot:activator=\"{ on }\">\n      <slot name=\"activator\" v-bind:on=\"on\">\n        <v-btn v-on=\"on\">\n          {{ $vuetify.lang.t(\"$vuetify.baseFromDialog.open\") }}\n        </v-btn>\n      </slot>\n    </template>\n    <v-card>\n      <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n        <v-card-title v-if=\"title\">\n          <span class=\"headline\">{{ title }}</span>\n        </v-card-title>\n        <v-card-text>\n          <slot name=\"form\"> </slot>\n          <small>\n            {{ $vuetify.lang.t(\"$vuetify.baseFromDialog.hint\") }}\n          </small>\n        </v-card-text>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"blue darken-1\" text @click=\"reset\">\n            {{ $vuetify.lang.t(\"$vuetify.baseFromDialog.close\") }}\n          </v-btn>\n          <v-btn\n            color=\"blue darken-1\"\n            text\n            @click=\"validate\"\n            :loading=\"isloading\"\n          >\n            {{ $vuetify.lang.t(\"$vuetify.baseFromDialog.save\") }}\n          </v-btn>\n        </v-card-actions>\n      </v-form>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nexport default {\n  name: \"MBaseFormDialog\",\n  props: {\n    title: {\n      type: String\n    },\n    isloading: {\n      type: Boolean,\n      default: () => false\n    }\n  },\n  data: () => ({\n    valid: true,\n    dialog: false\n  }),\n  methods: {\n    validate() {\n      const tag = `${this.$options.name}:validate`;\n      this.valid = this.$refs.form.validate();\n      if (this.valid) {\n        console.info(tag, this.valid);\n        this.$emit(\"valid\");\n        this.dialog = false;\n      } else {\n        console.warn(tag, this.valid);\n      }\n    },\n    reset() {\n      const tag = `${this.$options.name}:reset`;\n      console.info(tag);\n      this.$refs.form.reset();\n      this.dialog = false;\n    },\n    resetValidation() {\n      const tag = `${this.$options.name}:resetValidation`;\n      console.info(tag);\n      this.$refs.form.resetValidation();\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MBaseFormDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MBaseFormDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MBaseFormDialog.vue?vue&type=template&id=35731476&\"\nimport script from \"./MBaseFormDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./MBaseFormDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VDialog,VForm,VSpacer})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-file-input',{attrs:{\"label\":((_vm.$vuetify.lang.t('$vuetify.movieUploadDialog.file.title')) + \"*\"),\"hint\":_vm.$vuetify.lang.t('$vuetify.movieUploadDialog.file.hint'),\"prepend-icon\":\"mdi-file-video\",\"accept\":\"video/*\",\"show-size\":\"\"},on:{\"change\":_vm.onChangeFileInput},model:{value:(_vm.video.file),callback:function ($$v) {_vm.$set(_vm.video, \"file\", $$v)},expression:\"video.file\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import ffmpeg from \"ffmpeg.js/ffmpeg-mp4.js\";\n\nconst version = callback => {\n  let stdout = \"\";\n  let stderr = \"\";\n  // Print FFmpeg's version.\n  const result = ffmpeg({\n    arguments: [\"-version\"],\n    print: function(data) {\n      stdout += data + \"\\n\";\n    },\n    printErr: function(data) {\n      stderr += data + \"\\n\";\n    },\n    onExit: function(code) {\n      if (code == 0) {\n        console.info(stdout);\n        callback(code, stdout);\n      } else {\n        console.info(stderr);\n        callback(code, stdout);\n      }\n    }\n  });\n  return result;\n};\n\nconst info = (buff, callback) => {\n  const video = new Uint8Array(buff);\n  let stdout = \"\";\n  // Print FFmpeg's version.\n  const result = ffmpeg({\n    MEMFS: [{ name: \"data.mp4\", data: video }],\n    arguments: [\"-i\", \"data.mp4\"],\n    print: function(data) {\n      stdout += data + \"\\n\";\n    },\n    printErr: function(data) {\n      stdout += data + \"\\n\";\n    },\n    onExit: function() {\n      let item = {};\n      for (const line of stdout.split(\"\\n\")) {\n        if (~line.indexOf(\"Duration\")) {\n          const timeInfo = line\n            .split(\",\")[0]\n            .split(\": \")[1]\n            .split(\":\")\n            .map(val => {\n              return Number(val);\n            });\n          item.duration =\n            timeInfo[0] * 60 * 60 + timeInfo[1] * 60 + timeInfo[2];\n        }\n        if (~line.indexOf(\"Stream\")) {\n          const info = line.split(\": \");\n          if (info.length == 3) {\n            const detail = info[2].split(\", \");\n            if (info[1] == \"Video\") {\n              item.videoStream = {};\n              const size = detail\n                .filter(\n                  x =>\n                    x.match(/x/) &&\n                    x.match(/\\[/) &&\n                    x.match(/\\]/) &&\n                    x.match(/ /)\n                )[0]\n                .split(\" \")[0]\n                .split(\"x\");\n              item.size = {\n                width: Number(size[0]),\n                height: Number(size[1])\n              };\n              item.videoStream.codec_name = detail[0];\n              item.videoStream.pix_fmt = detail[1];\n              item.videoStream.bitrate = Number(\n                detail.filter(x => x.match(/kb\\/s/))[0].split(\" \")[0]\n              );\n              item.videoStream.fps = Number(\n                detail.filter(x => x.match(/fps/))[0].split(\" \")[0]\n              );\n              item.videoStream.tbr = Number(\n                detail.filter(x => x.match(/tbr/))[0].split(\" \")[0]\n              );\n              item.videoStream.tbn = Number(\n                detail.filter(x => x.match(/tbn/))[0].split(\" \")[0]\n              );\n              item.videoStream.tbc = Number(\n                detail.filter(x => x.match(/tbc/))[0].split(\" \")[0]\n              );\n            } else {\n              item.audioStream = {};\n              item.audioStream.codec_name = detail[0];\n              item.audioStream.sample_rate = Number(detail[1].split(\" \")[0]);\n              item.audioStream.channel_layout = detail[2];\n              item.audioStream.sample_fmt = detail[3];\n              item.audioStream.bitrate = Number(detail[4].split(\" \")[0]);\n            }\n          }\n        }\n      }\n      callback(item);\n    }\n  });\n  return result;\n};\n\nconst getFrames = buff => {\n  let stdout = \"\";\n  let stderr = \"\";\n  const video = new Uint8Array(buff);\n  const result = ffmpeg({\n    MEMFS: [{ name: \"data.mp4\", data: video }],\n    arguments: [\"-i\", \"data.mp4\", \"-vcodec\", \"mjpeg\", \"image_%03d.jpg\"],\n    print: function(data) {\n      stdout += data + \"\\n\";\n    },\n    printErr: function(data) {\n      stderr += data + \"\\n\";\n    },\n    onExit: function(code) {\n      console.info(\"Process exited with code \" + code);\n      if (code == 0) {\n        console.log(stdout);\n      } else {\n        console.log(stderr);\n      }\n    }\n  });\n  return result;\n};\n\nexport default {\n  version: version,\n  info: info,\n  getFrames: getFrames\n};\n","const toBase64 = file =>\n  new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = () => resolve(reader.result);\n    reader.onerror = error => reject(error);\n  });\n\nconst toBlob = dataUrl => {\n  const byteString = atob(dataUrl.split(\",\")[1]);\n  const mimeString = dataUrl\n    .split(\",\")[0]\n    .split(\":\")[1]\n    .split(\";\")[0];\n  const ab = new ArrayBuffer(byteString.length);\n  const ia = new Uint8Array(ab);\n  for (var i = 0; i < byteString.length; i++) {\n    ia[i] = byteString.charCodeAt(i);\n  }\n  return new Blob([ab], { type: mimeString });\n};\n\nconst toBuff = dataUrl => {\n  const byteString = atob(dataUrl.split(\",\")[1]);\n  const ab = new ArrayBuffer(byteString.length);\n  const ia = new Uint8Array(ab);\n  for (var i = 0; i < byteString.length; i++) {\n    ia[i] = byteString.charCodeAt(i);\n  }\n  return ab;\n};\n\nconst toUnit8Array = file =>\n  new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = () => resolve(new Uint8Array(reader.result));\n    reader.onerror = error => reject(error);\n  });\n\nconst download = async function(url, filename, metadata) {\n  const response = await fetch(url);\n  const data = await response.blob();\n  const file = new File([data], filename, metadata);\n  return file;\n};\n\nexport default {\n  toBase64: toBase64,\n  toBlob: toBlob,\n  toBuff: toBuff,\n  toUnit8Array: toUnit8Array,\n  download: download\n};\n","<template>\n  <div>\n    <v-file-input\n      :label=\"`${$vuetify.lang.t('$vuetify.movieUploadDialog.file.title')}*`\"\n      :hint=\"$vuetify.lang.t('$vuetify.movieUploadDialog.file.hint')\"\n      v-model=\"video.file\"\n      prepend-icon=\"mdi-file-video\"\n      accept=\"video/*\"\n      show-size\n      @change=\"onChangeFileInput\"\n    />\n  </div>\n</template>\n\n<script>\nimport VideoUtil from \"@/utils/video.js\";\nimport FileUtil from \"@/utils/file.js\";\nexport default {\n  name: \"MMovieInput\",\n  props: {\n    value: {\n      type: Object,\n      required: true\n    }\n  },\n  data: () => ({\n    debug: false\n  }),\n  computed: {\n    video: {\n      get() {\n        return this.value;\n      },\n      set(val) {\n        this.$emit(\"onChangeFileInput\", val);\n      }\n    }\n  },\n  methods: {\n    log: function(tag, msg) {\n      if (this.debug) {\n        console.info(tag, msg);\n      }\n    },\n    initItem: function() {\n      this.video.dataUrl = null;\n      this.video.name = null;\n      this.video.fps = null;\n      this.video.duration = null;\n      this.video.size = {\n        width: null,\n        height: null\n      };\n      this.video.videoStream = {\n        codec_name: null,\n        pix_fmt: null,\n        bitrate: null,\n        fps: null,\n        tbc: null,\n        tbn: null,\n        tbr: null\n      };\n      this.video.audioStream = {\n        bitrate: null,\n        channel_layout: null,\n        codec_name: null,\n        sample_fmt: null,\n        sample_rate: null\n      };\n    },\n    onChangeFileInput: async function(e) {\n      const tag = `${this.$options.name}:onChangeFileInput`;\n      this.video.loading = true;\n      if (e) {\n        this.video.name = e.name;\n        if (e.arrayBuffer) {\n          const buff = await e.arrayBuffer();\n          VideoUtil.info(buff, res => {\n            this.video.size = res.size;\n            if (res.duration) {\n              this.log(tag + \":set duration\", res.duration);\n              this.video.duration = res.duration;\n            }\n            if (res.videoStream) {\n              this.log(tag + \":set video\", res.videoStream);\n              this.video.fps = res.videoStream.fps\n                ? res.videoStream.fps\n                : this.video.fps;\n              this.video.videoStream = {\n                codec_name: res.videoStream.codec_name,\n                pix_fmt: res.videoStream.pix_fmt,\n                bitrate: res.videoStream.bitrate,\n                fps: res.videoStream.fps,\n                tbc: res.videoStream.tbc,\n                tbn: res.videoStream.tbn,\n                tbr: res.videoStream.tbr\n              };\n            }\n            if (res.audioStream) {\n              this.log(tag + \":set audio\", res.videoStream);\n              this.video.audioStream = {\n                codec_name: res.audioStream.codec_name,\n                sample_rate: res.audioStream.sample_rate,\n                channel_layout: res.audioStream.channel_layout,\n                sample_fmt: res.audioStream.sample_fmt,\n                bitrate: res.audioStream.bitrate\n              };\n            }\n          });\n          this.video.dataUrl = await FileUtil.toBase64(this.video.file);\n        } else {\n          this.initItem();\n        }\n        this.video.loading = false;\n      } else {\n        this.initItem();\n        console.warn(tag, \"no video\", this.video);\n        this.video.loading = false;\n      }\n    }\n  }\n};\n</script>\n\n<style scoped></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MMovieInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MMovieInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MMovieInput.vue?vue&type=template&id=1dc0700d&scoped=true&\"\nimport script from \"./MMovieInput.vue?vue&type=script&lang=js&\"\nexport * from \"./MMovieInput.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1dc0700d\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VFileInput } from 'vuetify/lib/components/VFileInput';\ninstallComponents(component, {VFileInput})\n","<template>\n  <m-base-form-dialog\n    ref=\"form\"\n    title=\"Movie Upload\"\n    @valid=\"onValid\"\n    :isloading=\"video.loading\"\n  >\n    <template v-slot:activator=\"{ on }\">\n      <slot name=\"activator\" v-bind:on=\"on\">\n        <v-btn color=\"primary\" dark v-on=\"on\">\n          {{ $vuetify.lang.t(\"$vuetify.baseFromDialog.save\") }}\n        </v-btn>\n      </slot>\n    </template>\n    <template v-slot:form>\n      <v-container>\n        <m-movie-input v-model=\"video\" />\n        <v-text-field\n          :label=\"\n            `${$vuetify.lang.t('$vuetify.movieUploadDialog.name.title')}*`\n          \"\n          v-model=\"video.name\"\n          :counter=\"nameMaxSize\"\n          :rules=\"nameRules\"\n          :disabled=\"video.loading\"\n          prepend-icon=\"mdi-movie\"\n          :hint=\"$vuetify.lang.t('$vuetify.movieUploadDialog.name.hint')\"\n          required\n        />\n        <v-text-field\n          :label=\"`${$vuetify.lang.t('$vuetify.movieUploadDialog.fps.title')}*`\"\n          v-model=\"video.fps\"\n          :rules=\"fpsRules\"\n          :disabled=\"video.loading\"\n          :hint=\"$vuetify.lang.t('$vuetify.movieUploadDialog.fps.hint')\"\n          prepend-icon=\"mdi-movie-edit\"\n          required\n        />\n      </v-container>\n      <v-container v-if=\"debug\">\n        <pre>{{ video }}</pre>\n      </v-container>\n    </template>\n  </m-base-form-dialog>\n</template>\n\n<script>\nimport File from \"@/models/file.js\";\nimport MBaseFormDialog from \"./MBaseFormDialog.vue\";\nimport MMovieInput from \"../form/MMovieInput.vue\";\nconst nameMaxSize = 30;\n\nexport default {\n  name: \"MMovieUploadDialog\",\n  components: {\n    MBaseFormDialog,\n    MMovieInput\n  },\n  data: () => ({\n    debug: false,\n    dialog: false,\n    video: {\n      loading: false,\n      name: null,\n      fps: 0\n    },\n    nameMaxSize: nameMaxSize,\n    nameRules: null,\n    fpsRules: null\n  }),\n  methods: {\n    log: function(tag, msg) {\n      if (this.debug) {\n        console.info(tag, msg);\n      }\n    },\n    onValid: function() {\n      const tag = `${this.$options.name}:onValid`;\n      const frameRate = 1 / this.video.fps;\n      let time = 0;\n      const frames = [];\n      for (let step = 0; time <= this.video.duration; step++) {\n        time = step * frameRate;\n        frames.push({\n          time: time,\n          text: `frame_${step}`\n        });\n      }\n      const item = {\n        name: this.video.name,\n        fileSize: this.video.file.size,\n        fileType: this.video.file.type,\n        fps: this.video.fps,\n        frameRate: frameRate,\n        dataUrl: this.video.dataUrl,\n        lastModifiedDate: this.video.file.lastModifiedDate,\n        duration: this.video.duration,\n        audioStream: this.video.audioStream,\n        videoStream: this.video.videoStream,\n        size: {\n          width: this.video.size.width,\n          height: this.video.size.height\n        }\n      };\n      item.tiers = [\n        {\n          name: \"Interval\",\n          tierType: \"interval\",\n          items: [{ time: 0, text: \"\" }]\n        },\n        {\n          name: \"Frame\",\n          tierType: \"point\",\n          items: frames\n        }\n      ];\n      File.$create({ data: item }).then(() => {\n        const file = File.query().last();\n        this.log(tag + \":insertedItem\", file);\n        this.$refs.form.reset();\n        this.$router.push({ name: \"MovieAnnotation\", params: { id: file.id } });\n      });\n    }\n  },\n  async mounted() {\n    this.fpsRules = [\n      v => !!v || this.$vuetify.lang.t(\"$vuetify.validate.required\"),\n      v => {\n        const regex = /^([1-9]\\d*|0)(\\.\\d+)?$/;\n        if (v) {\n          if (!regex.test(v)) {\n            return this.$vuetify.lang.t(\"$vuetify.validate.isFloat\");\n          }\n          return true;\n        }\n        return true;\n      }\n    ];\n    this.nameRules = [\n      v => !!v || this.$vuetify.lang.t(\"$vuetify.validate.required\"),\n      v =>\n        (v && v.length < nameMaxSize) ||\n        this.$vuetify.lang.t(\"$vuetify.validate.lessThen\", nameMaxSize)\n    ];\n    await File.$fetch();\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MMovieUploadDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MMovieUploadDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MMovieUploadDialog.vue?vue&type=template&id=eb427fd4&\"\nimport script from \"./MMovieUploadDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./MMovieUploadDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VContainer,VTextField})\n","<template>\n  <v-navigation-drawer\n    app\n    dark\n    expand-on-hover\n    :mini-variant.sync=\"mini\"\n    permanent\n  >\n    <v-list dense nav>\n      <v-list-item v-if=\"!mini\">\n        <v-text-field\n          :label=\"search.label\"\n          v-model=\"search.key\"\n          single-line\n          solo\n          dense\n          rounded\n        />\n      </v-list-item>\n      <v-list-item v-else>\n        <v-list-item-action>\n          <v-icon>mdi-menu-open</v-icon>\n        </v-list-item-action>\n      </v-list-item>\n      <v-list-item v-if=\"!mini\">\n        <v-list-item-subtitle>\n          {{ $vuetify.lang.t(\"$vuetify.sidebar.files.title\") }}\n        </v-list-item-subtitle>\n      </v-list-item>\n      <!--  -->\n      <m-movie-upload-dialog>\n        <template v-slot:activator=\"{ on }\">\n          <v-list-item ripple v-on=\"on\">\n            <v-list-item-action>\n              <v-icon>mdi-playlist-plus</v-icon>\n            </v-list-item-action>\n            <v-list-item-title>\n              {{ $vuetify.lang.t(\"$vuetify.sidebar.files.add\") }}\n            </v-list-item-title>\n          </v-list-item>\n        </template>\n      </m-movie-upload-dialog>\n\n      <!--  -->\n      <v-list-group\n        v-if=\"files.length > 0\"\n        :prepend-icon=\"menu.icon\"\n        v-model=\"menu.open\"\n      >\n        <template v-slot:activator>\n          <v-list-item-title>\n            {{ $vuetify.lang.t(\"$vuetify.sidebar.files.list\") }}\n          </v-list-item-title>\n        </template>\n        <v-list-item\n          v-for=\"item in files\"\n          :key=\"item.id\"\n          @click=\"selectFile(item)\"\n        >\n          <v-list-item-title>\n            {{ item.name }}\n            <v-spacer />\n            ({{ item.fps }} fps)\n          </v-list-item-title>\n          <v-list-item-action>\n            <v-icon>mdi-file-video</v-icon>\n          </v-list-item-action>\n        </v-list-item>\n      </v-list-group>\n      <v-divider></v-divider>\n      <v-list-item ripple @click=\"clearCache\">\n        <v-list-item-action>\n          <v-icon>mdi-database-remove</v-icon>\n        </v-list-item-action>\n        <v-list-item-content>\n          <v-list-item-title>\n            {{ $vuetify.lang.t(\"$vuetify.sidebar.cache.destroy\") }}\n          </v-list-item-title>\n        </v-list-item-content>\n      </v-list-item>\n      <v-list-item ripple @click=\"importCache\">\n        <v-list-item-action>\n          <v-icon>mdi-database-import</v-icon>\n        </v-list-item-action>\n        <v-list-item-content>\n          <v-list-item-title>\n            {{ $vuetify.lang.t(\"$vuetify.sidebar.cache.import\") }}\n          </v-list-item-title>\n        </v-list-item-content>\n      </v-list-item>\n\n      <v-list-item ripple @click=\"exportCache\">\n        <v-list-item-action>\n          <v-icon>mdi-database-export</v-icon>\n        </v-list-item-action>\n        <v-list-item-content>\n          <v-list-item-title>\n            {{ $vuetify.lang.t(\"$vuetify.sidebar.cache.export\") }}\n          </v-list-item-title>\n        </v-list-item-content>\n      </v-list-item>\n    </v-list>\n  </v-navigation-drawer>\n</template>\n\n<script>\nimport File from \"@/models/file.js\";\nimport MMovieUploadDialog from \"@/components/dialog/MMovieUploadDialog.vue\";\n// import Cache from \"@/utils/cache.js\";\nexport default {\n  name: \"MSideBar\",\n  components: {\n    MMovieUploadDialog\n  },\n  data: () => ({\n    name: \"MSideBar\",\n    debug: false,\n    mini: true,\n    menu: {\n      icon: \"mdi-playlist-play\",\n      open: false\n    },\n    search: {\n      key: \"\",\n      label: \"search\"\n    }\n  }),\n  watch: {\n    \"search.key\": function(val) {\n      // \n      const tag = `${this.$options.name}:watch:search.key`;\n      if (val) {\n        this.log(tag, val);\n        this.menu.open = true;\n      } else {\n        this.menu.open = false;\n      }\n    },\n    mini: function(val) {\n      // \n      const tag = `${this.$options.name}:watch:mini`;\n      this.log(tag, val);\n      if (val === true) {\n        this.menu.open = false;\n      }\n    }\n  },\n  methods: {\n    log: function(tag, msg) {\n      if (this.debug) {\n        console.info(tag, msg);\n      }\n    },\n    selectFile: function(item) {\n      const tag = `${this.$options.name}:selectFile`;\n      this.log(tag, item.id);\n      this.$router.push({ name: \"MovieAnnotation\", params: { id: item.id } });\n    },\n    clearCache: function() {\n      const tag = `${this.$options.name}`;\n      // await Cache.destroy();\n      this.log(tag, \"clearCache\");\n      if (this.$route.name != \"Home\") {\n        this.$router.push({ name: \"Home\" });\n      }\n    },\n    importCache: function() {\n      const tag = `${this.$options.name}`;\n      this.log(tag, \"importCache\");\n    },\n    exportCache: function() {\n      const tag = `${this.$options.name}:exportCache`;\n      // const cache = Cache.get();\n      // const json = JSON.stringify(cache);\n      // const blob = new Blob([json], {\n      //   type: \"application/json\"\n      // });\n      // const link = document.createElement(\"a\");\n      // link.href = window.URL.createObjectURL(blob);\n      // link.download = \"Cache.json\";\n      // link.click();\n      this.log(tag, \"\");\n    }\n  },\n  computed: {\n    files: function() {\n      const tag = `${this.$options.name}:conputed:files:get`;\n      let files;\n      if (this.search.key) {\n        // \n        const key = this.search.key;\n        files = File.query()\n          .where(file => {\n            if (~file.name.indexOf(key)) {\n              return true;\n            }\n            if (~key.indexOf(\"fps\")) {\n              const fps = Number(key.split(\"fps\")[0].trim());\n              return file.fps > fps;\n            }\n            return false;\n          })\n          .get();\n      } else {\n        files = File.query().all();\n      }\n      this.log(tag, files);\n      return files;\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MSideBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MSideBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MSideBar.vue?vue&type=template&id=61f5029e&\"\nimport script from \"./MSideBar.vue?vue&type=script&lang=js&\"\nexport * from \"./MSideBar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListGroup } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VNavigationDrawer } from 'vuetify/lib/components/VNavigationDrawer';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VDivider,VIcon,VList,VListGroup,VListItem,VListItemAction,VListItemContent,VListItemSubtitle,VListItemTitle,VNavigationDrawer,VSpacer,VTextField})\n","<template>\n  <v-app>\n    <m-app-bar />\n    <v-content>\n      <m-side-bar />\n      <router-view></router-view>\n    </v-content>\n  </v-app>\n</template>\n\n<script>\nimport MAppBar from \"@/components/MAppBar.vue\";\nimport MSideBar from \"@/components/MSideBar.vue\";\nexport default {\n  name: \"App\",\n  components: { MAppBar, MSideBar },\n  data: () => ({\n    //\n  }),\n  mounted: function() {\n    const lang = navigator.language;\n    if (lang == \"ja\") {\n      this.$vuetify.lang.current = \"ja\";\n    } else if (~lang.indexOf(\"zh\")) {\n      this.$vuetify.lang.current = \"zhHans\";\n    } else {\n      this.$vuetify.lang.current = \"en\";\n    }\n    console.log();\n  }\n};\n</script>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=36c53b52&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VContent } from 'vuetify/lib/components/VContent';\ninstallComponents(component, {VApp,VContent})\n","/* eslint-disable no-console */\n\nimport { register } from \"register-service-worker\";\n\nif (process.env.NODE_ENV === \"production\") {\n  register(`${process.env.BASE_URL}service-worker.js`, {\n    ready() {\n      console.log(\n        \"App is being served from cache by a service worker.\\n\" +\n          \"For more details, visit https://goo.gl/AFskqB\"\n      );\n    },\n    registered() {\n      console.log(\"Service worker has been registered.\");\n    },\n    cached() {\n      console.log(\"Content has been cached for offline use.\");\n    },\n    updatefound() {\n      console.log(\"New content is downloading.\");\n    },\n    updated() {\n      console.log(\"New content is available; please refresh.\");\n    },\n    offline() {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    },\n    error(error) {\n      console.error(\"Error during service worker registration:\", error);\n    }\n  });\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"home\"},[_c('v-card',{attrs:{\"flat\":\"\"}},[(!_vm.$vuetify.breakpoint.smAndDown)?_c('div',[_c('h3',{staticClass:\"display-3\"},[_vm._v(_vm._s(_vm.name)+\" ver.\"+_vm._s(_vm.version))]),_c('div',{staticClass:\"subheading\"},[_vm._v(\" \"+_vm._s(_vm.$vuetify.lang.t(\"$vuetify.home.disc\"))+\" \")]),_c('v-divider',{staticClass:\"my-3\"})],1):_vm._e(),_c('div',{staticClass:\"title mb-3\"},[_vm._v(\" \"+_vm._s(_vm.$vuetify.lang.t(\"$vuetify.home.upload.title\"))+\" \")]),_c('m-movie-upload-dialog',{scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({staticClass:\"mx-0\",attrs:{\"color\":\"primary\",\"dark\":\"\",\"large\":\"\"}},on),[_vm._v(\" \"+_vm._s(_vm.$vuetify.lang.t(\"$vuetify.home.upload.btn\"))+\" \")])]}}])}),_c('div',{staticClass:\"caption py-1\"},[_c('v-icon',[_vm._v(\"mdi-information\")]),_vm._v(\" \"+_vm._s(_vm.$vuetify.lang.t(\"$vuetify.home.upload.hint\"))+\" \")],1),_c('v-divider',{staticClass:\"my-3\"}),_c('div',{staticClass:\"title mb-3\"},[_vm._v(\" \"+_vm._s(_vm.$vuetify.lang.t(\"$vuetify.home.demo.title\"))+\" \")]),_c('m-sample-video-botton',{staticClass:\"mx-0\"}),_c('div',{staticClass:\"caption\"},[_c('v-icon',[_vm._v(\"mdi-information\")]),_vm._v(\" \"+_vm._s(_vm.$vuetify.lang.t(\"$vuetify.home.demo.hint\"))+\" \")],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-btn',{attrs:{\"color\":\"primary\",\"dark\":\"\",\"large\":\"\",\"loading\":_vm.video.loading},on:{\"click\":_vm.importSampleMovie}},[_vm._v(\" \"+_vm._s(_vm.$vuetify.lang.t(\"$vuetify.home.demo.btn\"))+\" \")]),(_vm.debug)?_c('pre',[_vm._v(\"  \"+_vm._s(_vm.item)+\"\\n  \")]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <v-btn\n      color=\"primary\"\n      dark\n      large\n      @click=\"importSampleMovie\"\n      :loading=\"video.loading\"\n    >\n      {{ $vuetify.lang.t(\"$vuetify.home.demo.btn\") }}\n    </v-btn>\n    <pre v-if=\"debug\">\n    {{ item }}\n    </pre>\n  </div>\n</template>\n\n<script>\nimport File from \"@/models/file.js\";\nimport FileUtil from \"@/utils/file.js\";\nimport VideoUtil from \"@/utils/video.js\";\nexport default {\n  data: () => ({\n    debug: false,\n    item: {\n      fps: 13.79\n    },\n    video: {\n      loading: false\n    }\n  }),\n  methods: {\n    log: function(tag, msg) {\n      if (this.debug) {\n        console.info(tag, msg);\n      }\n    },\n    importSampleMovie: async function() {\n      const tag = `${this.$options.name}:importSampleMovie`;\n      this.item.name = \"sample.mp4\";\n      this.item.loading = true;\n      this.item.fileSize = 1571328;\n      this.item.fileType = \"video/mp4\";\n      const url = \"https://kikuchiken-waseda.github.io/MRIVuewer/misc/6.mp4\";\n      const file = await FileUtil.download(url, this.item.name, {\n        type: \"video/mp4\"\n      });\n      this.item.dataUrl = await FileUtil.toBase64(file);\n      const buff = FileUtil.toBuff(this.item.dataUrl);\n      VideoUtil.info(buff, res => {\n        this.item.size = res.size;\n        if (res.videoStream) {\n          this.item.fps = res.videoStream.fps\n            ? res.videoStream.fps\n            : this.item.fps;\n          this.item.videoStream = {\n            codec_name: res.videoStream.codec_name,\n            pix_fmt: res.videoStream.pix_fmt,\n            bitrate: res.videoStream.bitrate,\n            fps: res.videoStream.fps,\n            tbc: res.videoStream.tbc,\n            tbn: res.videoStream.tbn,\n            tbr: res.videoStream.tbr\n          };\n        }\n        if (res.audioStream) {\n          this.item.audioStream = {\n            codec_name: res.audioStream.codec_name,\n            sample_rate: res.audioStream.sample_rate,\n            channel_layout: res.audioStream.channel_layout,\n            sample_fmt: res.audioStream.sample_fmt,\n            bitrate: res.audioStream.bitrate\n          };\n        }\n        this.log(tag + \":inserteItem\", this.item);\n        File.insertOrUpdate({ data: this.item }).then(() => {\n          const file = File.query().last();\n          this.log(tag + \":insertedItem\", file);\n          this.video.loading = false;\n          this.$router.push({\n            name: \"MovieAnnotation\",\n            params: { id: file.id }\n          });\n        });\n      });\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MSampleVideoBotton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MSampleVideoBotton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MSampleVideoBotton.vue?vue&type=template&id=4205b2c1&\"\nimport script from \"./MSampleVideoBotton.vue?vue&type=script&lang=js&\"\nexport * from \"./MSampleVideoBotton.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\ninstallComponents(component, {VBtn})\n","<template>\n  <v-container class=\"home\">\n    <v-card flat>\n      <div v-if=\"!$vuetify.breakpoint.smAndDown\">\n        <h3 class=\"display-3\">{{ name }} ver.{{ version }}</h3>\n        <div class=\"subheading\">\n          {{ $vuetify.lang.t(\"$vuetify.home.disc\") }}\n        </div>\n        <v-divider class=\"my-3\"></v-divider>\n      </div>\n      <div class=\"title mb-3\">\n        {{ $vuetify.lang.t(\"$vuetify.home.upload.title\") }}\n      </div>\n      <m-movie-upload-dialog>\n        <template v-slot:activator=\"{ on }\">\n          <v-btn class=\"mx-0\" color=\"primary\" dark large v-on=\"on\">\n            {{ $vuetify.lang.t(\"$vuetify.home.upload.btn\") }}\n          </v-btn>\n        </template>\n      </m-movie-upload-dialog>\n      <div class=\"caption py-1\">\n        <v-icon>mdi-information</v-icon>\n        {{ $vuetify.lang.t(\"$vuetify.home.upload.hint\") }}\n      </div>\n      <v-divider class=\"my-3\"></v-divider>\n\n      <div class=\"title mb-3\">\n        {{ $vuetify.lang.t(\"$vuetify.home.demo.title\") }}\n      </div>\n      <m-sample-video-botton class=\"mx-0\" />\n      <div class=\"caption\">\n        <v-icon>mdi-information</v-icon>\n        {{ $vuetify.lang.t(\"$vuetify.home.demo.hint\") }}\n      </div>\n    </v-card>\n  </v-container>\n</template>\n\n<script>\n// @ is an alias to /src\nimport MMovieUploadDialog from \"@/components/dialog/MMovieUploadDialog.vue\";\nimport MSampleVideoBotton from \"@/components/util/MSampleVideoBotton.vue\";\nexport default {\n  name: \"Home\",\n  components: {\n    MMovieUploadDialog,\n    MSampleVideoBotton\n  },\n  computed: {\n    name: {\n      get() {\n        return this.$store.state.appName;\n      }\n    },\n    version: {\n      get() {\n        return this.$store.state.appVersion;\n      }\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=5149b018&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VBtn,VCard,VContainer,VDivider,VIcon})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"about\"},[_c('h1',[_vm._v(\"This is an about page\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"about\">\n    <h1>This is an about page</h1>\n  </div>\n</template>\n<script>\n// @ is an alias to /src\n// import HelloWorld from \"@/components/HelloWorld.vue\";\nexport default {\n  name: \"About\"\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./About.vue?vue&type=template&id=31e1c72d&\"\nimport script from \"./About.vue?vue&type=script&lang=js&\"\nexport * from \"./About.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"config\"},[_c('h1',[_vm._v(\"This is a config page\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"config\">\n    <h1>This is a config page</h1>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\n// import HelloWorld from \"@/components/HelloWorld.vue\";\nexport default {\n  name: \"Config\"\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Config.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Config.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Config.vue?vue&type=template&id=36507eae&\"\nimport script from \"./Config.vue?vue&type=script&lang=js&\"\nexport * from \"./Config.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{directives:[{name:\"resize\",rawName:\"v-resize\",value:(_vm.onResize),expression:\"onResize\"}],staticClass:\"pa-0 movie-annotaion\",attrs:{\"fluid\":\"\"}},[(_vm.item)?_c('m-tool-bar',{attrs:{\"file-name\":_vm.item.name,\"menu-funcs\":_vm.menuFuncs},scopedSlots:_vm._u([{key:\"setting\",fn:function(){return [_c('m-setting-menu',{attrs:{\"menuFuncs\":_vm.menuFuncs}})]},proxy:true}],null,false,2857358650)}):_vm._e(),_c('v-card',{attrs:{\"color\":\"background\"}},[(_vm.item)?_c('v-container',[_c('v-row',[_c('v-col',{staticClass:\"flex-grow-1 flex-shrink-1\"},[_c('v-card',{ref:\"videoCard\",attrs:{\"flat\":\"\",\"color\":\"background\"}},[_c('m-video-array',{ref:\"videoArray\",attrs:{\"src\":_vm.item.dataUrl,\"frameOffset\":_vm.frameOffset,\"fps\":_vm.item.fps},on:{\"loadeddata\":_vm.onLoadeddata,\"syncCanvas\":_vm.onSyncCanvas}}),_c('v-card',[_c('v-card-actions',[_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.skip(-1 * _vm.skipConf.long)}}},[_c('v-icon',[_vm._v(\"mdi-skip-backward\")])],1),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.skip(-1 * _vm.skipConf.short)}}},[_c('v-icon',[_vm._v(\"mdi-skip-previous\")])],1),_c('v-spacer'),_c('v-btn',{attrs:{\"fab\":\"\",\"dark\":\"\",\"small\":\"\",\"color\":\"accent\"},on:{\"click\":_vm.play}},[_c('v-icon',[_vm._v(\" mdi-play \")])],1),_c('v-btn',{attrs:{\"fab\":\"\",\"dark\":\"\",\"small\":\"\",\"color\":\"accent\"},on:{\"click\":_vm.pause}},[_c('v-icon',[_vm._v(\" mdi-pause \")])],1),_c('v-spacer'),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.skip(_vm.skipConf.short)}}},[_c('v-icon',[_vm._v(\"mdi-skip-next\")])],1),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.skip(_vm.skipConf.long)}}},[_c('v-icon',[_vm._v(\"mdi-skip-forward\")])],1)],1)],1)],1)],1),_c('v-col',{staticClass:\"flex-grow-1 flex-shrink-1 d-none d-sm-flex\",attrs:{\"cols\":\"5\"}},[(_vm.tiers)?_c('m-tier-list',{attrs:{\"actions\":_vm.tierActions,\"items\":_vm.tiers,\"ws\":_vm.ws,\"max-height\":_vm.videoHeight}}):_vm._e()],1)],1),(_vm.isLoading)?_c('v-progress-linear',{attrs:{\"color\":\"accent\",\"height\":\"10\",\"indeterminate\":\"\"}}):_vm._e(),_c('v-card',[_c('v-card',{attrs:{\"id\":\"wave-spectrogram\"}}),_c('v-card',{attrs:{\"id\":\"wave-timeline\"}}),_c('v-text-field',{ref:\"textField\",attrs:{\"label\":\"Text\",\"hide-details\":\"\",\"solo\":\"\",\"dense\":\"\"},on:{\"input\":_vm.onChangeText,\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.onEnterText($event)}},model:{value:(_vm.text),callback:function ($$v) {_vm.text=$$v},expression:\"text\"}}),_c('v-card',{attrs:{\"id\":\"wave-multiline\"}}),_c('v-card',{attrs:{\"id\":\"waveform\"}}),_c('v-card',{attrs:{\"id\":\"wave-minimap\"}})],1)],1):_vm._e()],1),(_vm.debug)?_c('v-card',[(_vm.item)?_c('v-container',[_c('pre',[_vm._v(_vm._s(_vm.debugItem))])]):_vm._e()],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-toolbar',{attrs:{\"dark\":\"\",\"color\":\"secondary\",\"dense\":\"\"}},[_c('v-toolbar-title',[_vm._v(\" \"+_vm._s(_vm.fileName)+\" \")]),_c('v-spacer'),_c('m-info-menu'),_vm._t(\"setting\"),_c('v-menu',{attrs:{\"left\":\"\",\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"icon\":\"\"}},on),[_c('v-icon',[_vm._v(\"mdi-dots-vertical\")])],1)]}}])},[_c('m-func-list',{attrs:{\"title\":\"\",\"items\":_vm.menuFuncs}})],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-menu',{attrs:{\"bottom\":\"\",\"left\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"icon\":\"\"}},on),[_c('v-icon',[_vm._v(_vm._s(_vm.icon))])],1)]}}]),model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('v-card',{staticClass:\"mx-auto\"},[_c('v-toolbar',{attrs:{\"color\":\"primary\",\"dark\":\"\",\"dense\":\"\"}},[_c('v-toolbar-title',[_vm._v(\" \"+_vm._s(_vm.$vuetify.lang.t(\"$vuetify.movieAnnotation.info.title\"))+\" \")])],1),(_vm.items.videoStream)?_c('m-info-list',{attrs:{\"title\":\"video stream\",\"items\":_vm.items.videoStream}}):_vm._e(),(_vm.items.audioStream)?_c('m-info-list',{attrs:{\"title\":\"audio stream\",\"items\":_vm.items.audioStream}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-list',[(_vm.title)?_c('v-subheader',[_vm._v(_vm._s(_vm.title))]):_vm._e(),_vm._l((_vm.items),function(item,key){return _c('v-list-item',{key:key,attrs:{\"two-line\":\"\"}},[_c('v-list-item-title',[_vm._v(\" \"+_vm._s(item.title)+\" \"),(item.help)?_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-icon',_vm._g({},on),[_vm._v(\" mdi-information \")])]}}],null,true)},[_c('span',[_vm._v(_vm._s(item.help))])]):_vm._e()],1),_c('v-list-item-subtitle',[_vm._v(\" \"+_vm._s(item.val)+\" \")])],1)})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-list>\n    <v-subheader v-if=\"title\">{{ title }}</v-subheader>\n    <v-list-item two-line v-for=\"(item, key) in items\" :key=\"key\">\n      <v-list-item-title>\n        {{ item.title }}\n        <v-tooltip bottom v-if=\"item.help\">\n          <template v-slot:activator=\"{ on }\">\n            <v-icon v-on=\"on\">\n              mdi-information\n            </v-icon>\n          </template>\n          <span>{{ item.help }}</span>\n        </v-tooltip>\n      </v-list-item-title>\n      <v-list-item-subtitle>\n        {{ item.val }}\n      </v-list-item-subtitle>\n    </v-list-item>\n  </v-list>\n</template>\n\n<script>\nexport default {\n  props: {\n    items: {\n      type: Array\n    },\n    title: {\n      type: String\n    }\n  }\n};\n</script>\n\n<style scoped></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MInfoList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MInfoList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MInfoList.vue?vue&type=template&id=f32d7fa0&scoped=true&\"\nimport script from \"./MInfoList.vue?vue&type=script&lang=js&\"\nexport * from \"./MInfoList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f32d7fa0\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VSubheader } from 'vuetify/lib/components/VSubheader';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VIcon,VList,VListItem,VListItemSubtitle,VListItemTitle,VSubheader,VTooltip})\n","<template>\n  <v-menu bottom v-model=\"show\" left>\n    <template v-slot:activator=\"{ on }\">\n      <v-btn icon v-on=\"on\">\n        <v-icon>{{ icon }}</v-icon>\n      </v-btn>\n    </template>\n    <v-card class=\"mx-auto\">\n      <v-toolbar color=\"primary\" dark dense>\n        <v-toolbar-title>\n          {{ $vuetify.lang.t(\"$vuetify.movieAnnotation.info.title\") }}\n        </v-toolbar-title>\n      </v-toolbar>\n      <m-info-list\n        title=\"video stream\"\n        :items=\"items.videoStream\"\n        v-if=\"items.videoStream\"\n      />\n      <m-info-list\n        title=\"audio stream\"\n        :items=\"items.audioStream\"\n        v-if=\"items.audioStream\"\n      />\n    </v-card>\n  </v-menu>\n</template>\n\n<script>\nimport MInfoList from \"@/components/util/MInfoList.vue\";\nimport File from \"@/models/file.js\";\nimport VideoStream from \"@/models/videoStream.js\";\nimport AudioStream from \"@/models/audioStream.js\";\nexport default {\n  name: \"movie-annotaion-m-info-menu\",\n  components: {\n    MInfoList\n  },\n  data: () => ({\n    debug: false,\n    show: false\n  }),\n  methods: {\n    log: function(tag, msg) {\n      if (this.debug) {\n        console.info(tag, msg);\n      }\n    }\n  },\n  computed: {\n    items: function() {\n      const tag = `${this.$options.name}:computed:items`;\n      const id = this.$route.params.id;\n      const result = {\n        audioStream: [],\n        videoStream: []\n      };\n      if (id) {\n        const file = File.find(id);\n        this.log(tag, file);\n        const v = VideoStream.find(file.videoStream_id);\n        if (v) {\n          result.videoStream = [\n            {\n              title: this.$vuetify.lang.t(\n                \"$vuetify.movieAnnotation.info.videoStream.codec.title\"\n              ),\n              val: `${v.codec_name}, ${v.pix_fmt}`\n            },\n            {\n              title: this.$vuetify.lang.t(\n                \"$vuetify.movieAnnotation.info.videoStream.bitrate.title\"\n              ),\n              val: `${v.bitrate} kb/s`\n            },\n            {\n              title: this.$vuetify.lang.t(\n                \"$vuetify.movieAnnotation.info.videoStream.fps.title\"\n              ),\n              val: `${v.fps} fps`\n            },\n            {\n              title: this.$vuetify.lang.t(\n                \"$vuetify.movieAnnotation.info.videoStream.tbr.title\"\n              ),\n              val: `${v.tbr} tbr`,\n              help: this.$vuetify.lang.t(\n                \"$vuetify.movieAnnotation.info.videoStream.tbr.help\"\n              )\n            },\n            {\n              title: this.$vuetify.lang.t(\n                \"$vuetify.movieAnnotation.info.videoStream.tbn.title\"\n              ),\n              val: `${v.tbn} tbn`,\n              help: this.$vuetify.lang.t(\n                \"$vuetify.movieAnnotation.info.videoStream.tbn.help\"\n              )\n            },\n            {\n              title: this.$vuetify.lang.t(\n                \"$vuetify.movieAnnotation.info.videoStream.tbc.title\"\n              ),\n              val: `${v.tbc} tbc`,\n              help: this.$vuetify.lang.t(\n                \"$vuetify.movieAnnotation.info.videoStream.tbc.help\"\n              )\n            }\n          ];\n        }\n        const a = AudioStream.find(file.audioStream_id);\n        this.log(tag + \":audioStream\", a);\n        if (a) {\n          result.audioStream = [\n            {\n              title: this.$vuetify.lang.t(\n                \"$vuetify.movieAnnotation.info.audioStream.codec.title\"\n              ),\n              val: a.codec_name\n            },\n            {\n              title: this.$vuetify.lang.t(\n                \"$vuetify.movieAnnotation.info.audioStream.bitrate.title\"\n              ),\n              val: `${a.bitrate} kb/s`\n            },\n            {\n              title: this.$vuetify.lang.t(\n                \"$vuetify.movieAnnotation.info.audioStream.channel_layout.title\"\n              ),\n              val: a.channel_layout\n            },\n            {\n              title: this.$vuetify.lang.t(\n                \"$vuetify.movieAnnotation.info.audioStream.sample_rate.title\"\n              ),\n              val: `${a.sample_rate} Hz`\n            }\n          ];\n        }\n      } else {\n        this.log(tag, \"no id\");\n      }\n      return result;\n    }\n  },\n  props: {\n    icon: {\n      type: String,\n      default: \"mdi-help-circle\"\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MInfoMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MInfoMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MInfoMenu.vue?vue&type=template&id=5b36273a&\"\nimport script from \"./MInfoMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./MInfoMenu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VCard,VIcon,VMenu,VToolbar,VToolbarTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-list',[(_vm.title)?_c('v-subheader',[_vm._v(_vm._s(_vm.title))]):_vm._e(),_vm._l((_vm.items),function(item,key){return _c('v-list-item',{key:key,on:{\"click\":item.callback}},[(item.icon)?_c('v-list-item-icon',[_c('v-icon',{domProps:{\"textContent\":_vm._s(item.icon)}})],1):_vm._e(),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\" \"+_vm._s(item.title)+\" \"),(item.help)?_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-icon',_vm._g({},on),[_vm._v(\" mdi-information \")])]}}],null,true)},[_c('span',[_vm._v(_vm._s(item.help))])]):_vm._e()],1)],1)],1)})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-list>\n    <v-subheader v-if=\"title\">{{ title }}</v-subheader>\n    <v-list-item v-for=\"(item, key) in items\" :key=\"key\" @click=\"item.callback\">\n      <v-list-item-icon v-if=\"item.icon\">\n        <v-icon v-text=\"item.icon\"></v-icon>\n      </v-list-item-icon>\n      <v-list-item-content>\n        <v-list-item-title>\n          {{ item.title }}\n          <v-tooltip bottom v-if=\"item.help\">\n            <template v-slot:activator=\"{ on }\">\n              <v-icon v-on=\"on\">\n                mdi-information\n              </v-icon>\n            </template>\n            <span>{{ item.help }}</span>\n          </v-tooltip>\n        </v-list-item-title>\n      </v-list-item-content>\n    </v-list-item>\n  </v-list>\n</template>\n\n<script>\nexport default {\n  props: {\n    items: {\n      type: Array\n    },\n    title: {\n      type: String\n    }\n  }\n};\n</script>\n\n<style scoped></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MFuncList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MFuncList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MFuncList.vue?vue&type=template&id=197a6350&scoped=true&\"\nimport script from \"./MFuncList.vue?vue&type=script&lang=js&\"\nexport * from \"./MFuncList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"197a6350\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemIcon } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VSubheader } from 'vuetify/lib/components/VSubheader';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VIcon,VList,VListItem,VListItemContent,VListItemIcon,VListItemTitle,VSubheader,VTooltip})\n","<template>\n  <v-toolbar dark color=\"secondary\" dense>\n    <v-toolbar-title>\n      {{ fileName }}\n    </v-toolbar-title>\n    <v-spacer />\n    <m-info-menu />\n    <slot name=\"setting\"></slot>\n    <v-menu left bottom>\n      <template v-slot:activator=\"{ on }\">\n        <v-btn icon v-on=\"on\">\n          <v-icon>mdi-dots-vertical</v-icon>\n        </v-btn>\n      </template>\n      <m-func-list title=\"\" :items=\"menuFuncs\" />\n    </v-menu>\n  </v-toolbar>\n</template>\n\n<script>\nimport MInfoMenu from \"@/components/MovieAnnotaion/MInfoMenu.vue\";\nimport MFuncList from \"@/components/util/MFuncList.vue\";\nexport default {\n  name: \"movie-annotaion-tool-bar\",\n  components: {\n    MInfoMenu,\n    MFuncList\n  },\n  props: {\n    fileName: {\n      type: String\n    },\n    menuFuncs: {\n      type: Array\n    }\n  },\n  methods: {\n    onUpdateFiler: function(payload) {\n      this.$emit(\"updateFiler\", payload);\n    }\n  }\n};\n</script>\n\n<style scoped></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MToolBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MToolBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MToolBar.vue?vue&type=template&id=a57e322e&scoped=true&\"\nimport script from \"./MToolBar.vue?vue&type=script&lang=js&\"\nexport * from \"./MToolBar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a57e322e\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VIcon,VMenu,VSpacer,VToolbar,VToolbarTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-menu',{attrs:{\"bottom\":\"\",\"close-on-click\":false,\"close-on-content-click\":false,\"left\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"icon\":\"\"}},on),[_c('v-icon',[_vm._v(_vm._s(_vm.icon))])],1)]}}]),model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('v-card',{staticStyle:{\"min-width\":\"600px\"}},[_c('v-toolbar',{attrs:{\"color\":\"primary\",\"dark\":\"\",\"dense\":\"\"}},[_c('v-toolbar-title',[_vm._v(\"\")])],1),_c('m-func-list',{attrs:{\"title\":\"\",\"items\":_vm.funcs}}),_c('v-list',{staticClass:\"overflow-y-auto\",staticStyle:{\"min-width\":\"600px\",\"max-height\":\"400px\"}},[_c('v-subheader',[_vm._v(\"\")]),_vm._l((_vm.eqs),function(eq,key){return _c('v-list-item',{key:key},[_c('v-list-item-content',[_c('v-slider',{attrs:{\"min\":-40,\"max\":40,\"label\":(\"f: \" + (eq.f))},model:{value:(eq.val),callback:function ($$v) {_vm.$set(eq, \"val\", $$v)},expression:\"eq.val\"}})],1)],1)})],2),_c('v-list',[_c('v-subheader',[_vm._v(\"\")]),_c('v-list-item-content',[_c('v-slider',{attrs:{\"min\":200,\"max\":300},model:{value:(_vm.zoom),callback:function ($$v) {_vm.zoom=$$v},expression:\"zoom\"}})],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.show = false}}},[_vm._v(\"Close\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-menu\n    bottom\n    v-model=\"show\"\n    :close-on-click=\"false\"\n    :close-on-content-click=\"false\"\n    left\n  >\n    <template v-slot:activator=\"{ on }\">\n      <v-btn icon v-on=\"on\">\n        <v-icon>{{ icon }}</v-icon>\n      </v-btn>\n    </template>\n    <v-card style=\"min-width: 600px\">\n      <v-toolbar color=\"primary\" dark dense>\n        <v-toolbar-title></v-toolbar-title>\n      </v-toolbar>\n      <m-func-list title=\"\" :items=\"funcs\" />\n      <v-list\n        style=\"min-width: 600px; max-height: 400px\"\n        class=\"overflow-y-auto\"\n      >\n        <v-subheader></v-subheader>\n        <v-list-item v-for=\"(eq, key) in eqs\" :key=\"key\">\n          <v-list-item-content>\n            <v-slider\n              v-model=\"eq.val\"\n              :min=\"-40\"\n              :max=\"40\"\n              :label=\"`f: ${eq.f}`\"\n            />\n          </v-list-item-content>\n        </v-list-item>\n      </v-list>\n      <v-list>\n        <v-subheader></v-subheader>\n        <v-list-item-content>\n          <v-slider v-model=\"zoom\" :min=\"200\" :max=\"300\" />\n        </v-list-item-content>\n      </v-list>\n      <v-card-actions>\n        <v-spacer></v-spacer>\n        <v-btn text @click=\"show = false\">Close</v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-menu>\n</template>\n\n<script>\nimport MFuncList from \"@/components/util/MFuncList.vue\";\nexport default {\n  name: \"movie-annotaion-m-setting-menu\",\n  components: {\n    MFuncList\n  },\n  data: () => ({\n    show: false,\n    funcs: [],\n    zoom: 100,\n    eqs: [\n      {\n        f: 32,\n        val: 0,\n        type: \"lowshelf\"\n      },\n      {\n        f: 64,\n        val: 0,\n        type: \"peaking\"\n      },\n      {\n        f: 125,\n        val: 0,\n        type: \"peaking\"\n      },\n      {\n        f: 250,\n        val: 0,\n        type: \"peaking\"\n      },\n      {\n        f: 500,\n        val: 0,\n        type: \"peaking\"\n      },\n      {\n        f: 1000,\n        val: 0,\n        type: \"peaking\"\n      },\n      {\n        f: 2000,\n        val: 0,\n        type: \"peaking\"\n      },\n      {\n        f: 4000,\n        val: 0,\n        type: \"peaking\"\n      },\n      {\n        f: 8000,\n        val: 0,\n        type: \"peaking\"\n      },\n      {\n        f: 16000,\n        val: 0,\n        type: \"highshelf\"\n      }\n    ]\n  }),\n  props: {\n    value: {\n      type: Object,\n      requested: true\n    },\n    icon: {\n      type: String,\n      default: \"mdi-cog\"\n    }\n  },\n  watch: {\n    eqs: {\n      handler: function(val) {\n        const tag = `${this.$options.name}:watch:eqs`;\n        console.log(tag, val);\n        this.setFilters();\n      },\n      deep: true\n    },\n    zoom: function(val) {\n      const tag = `${this.$options.name}:zoom`;\n      console.log(tag, val);\n      this.ws.zoom(Number(val));\n    }\n  },\n  methods: {\n    setFilters: function() {\n      if (this.ws) {\n        const tag = `${this.$options.name}:setFilters`;\n        console.log(tag);\n        const filters = this.eqs.map(eq => {\n          const filter = this.ws.backend.ac.createBiquadFilter();\n          filter.type = eq.type;\n          filter.gain.value = ~~eq.val;\n          filter.Q.value = 1;\n          filter.frequency.value = eq.f;\n          return filter;\n        });\n        console.log(tag, filters);\n        this.$emit(\"updateFiler\", filters);\n      }\n    }\n  },\n  mounted: function() {}\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MSettingMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MSettingMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MSettingMenu.vue?vue&type=template&id=589b6bda&\"\nimport script from \"./MSettingMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./MSettingMenu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VSlider } from 'vuetify/lib/components/VSlider';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSubheader } from 'vuetify/lib/components/VSubheader';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VCard,VCardActions,VIcon,VList,VListItem,VListItemContent,VMenu,VSlider,VSpacer,VSubheader,VToolbar,VToolbarTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"max-auto overflow-y-auto\",style:(_vm.cardStyle),attrs:{\"width\":\"100%\"}},[_c('v-tabs',{attrs:{\"dark\":\"\",\"background-color\":\"teal darken-3\",\"show-arrows\":\"\"},model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c('v-tabs-slider',{attrs:{\"color\":\"teal lighten-3\"}}),_vm._l((_vm.items),function(item,key){return _c('v-tab',{key:key},[_vm._v(\" \"+_vm._s(item.name)+\" \")])})],2),_c('v-tabs-items',{model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},_vm._l((_vm.items),function(item){return _c('v-tab-item',{key:item.name},[_c('v-card',{attrs:{\"flat\":\"\"}},[(item.tierType == 'interval')?_c('m-interval-tier-table',{attrs:{\"ws\":_vm.ws,\"value\":item.items,\"actions\":_vm.actions.interval}}):_c('m-point-tier-table',{attrs:{\"value\":item.items,\"actions\":_vm.actions.point}})],1)],1)}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.headers,\"items\":_vm.items,\"sort-by\":\"calories\"},scopedSlots:_vm._u([{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn _vm._l((_vm.actions),function(act){return _c('v-btn',{key:act.name,attrs:{\"color\":act.color,\"icon\":\"\",\"small\":\"\"}},[_c('v-icon',{attrs:{\"small\":\"\"},on:{\"click\":function($event){return act.callback(item)}}},[_vm._v(\" \"+_vm._s(act.icon)+\" \")])],1)})}},{key:\"item.startTime\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(\" \"+_vm._s(Math.round(item.startTime * 100) / 100)+\" \")]}},{key:\"item.endTime\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(\" \"+_vm._s(Math.round(item.endTime * 100) / 100)+\" \")]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-data-table\n    :headers=\"headers\"\n    :items=\"items\"\n    sort-by=\"calories\"\n    class=\"elevation-1\"\n  >\n    <template v-slot:item.actions=\"{ item }\">\n      <v-btn\n        v-for=\"act in actions\"\n        :key=\"act.name\"\n        :color=\"act.color\"\n        icon\n        small\n      >\n        <v-icon small @click=\"act.callback(item)\">\n          {{ act.icon }}\n        </v-icon>\n      </v-btn>\n    </template>\n    <template v-slot:item.startTime=\"{ item }\">\n      {{ Math.round(item.startTime * 100) / 100 }}\n    </template>\n    <template v-slot:item.endTime=\"{ item }\">\n      {{ Math.round(item.endTime * 100) / 100 }}\n    </template>\n  </v-data-table>\n</template>\n<script>\nexport default {\n  name: \"MIntervalTierTable\",\n  data: () => ({\n    dialog: false,\n    headers: [\n      { text: \"Start Time\", value: \"startTime\" },\n      { text: \"End Time\", value: \"endTime\" },\n      { text: \"Texts\", value: \"text\" },\n      { text: \"Actions\", value: \"actions\", sortable: false }\n    ]\n  }),\n  props: {\n    value: {\n      type: Array\n    },\n    ws: {\n      type: Object\n    },\n    actions: {\n      type: Array\n    }\n  },\n  computed: {\n    items: {\n      get() {\n        const vm = this;\n        let idx = -1;\n        if (this.value) {\n          return this.value.map(function(item) {\n            idx++;\n            const endTime =\n              idx == vm.value.length - 1\n                ? vm.ws.getDuration()\n                : vm.value[idx + 1].time;\n            return {\n              text: item.text ? item.text : \"\",\n              startTime: item.time,\n              endTime: endTime\n            };\n          });\n        } else {\n          return [];\n        }\n      },\n      set(diff) {\n        this.$emit(\"input\", { ...this.value, ...diff });\n      }\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MIntervalTierTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MIntervalTierTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MIntervalTierTable.vue?vue&type=template&id=2374292d&\"\nimport script from \"./MIntervalTierTable.vue?vue&type=script&lang=js&\"\nexport * from \"./MIntervalTierTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VBtn,VDataTable,VIcon})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.headers,\"items\":_vm.items,\"sort-by\":\"calories\"},scopedSlots:_vm._u([{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn _vm._l((_vm.actions),function(act){return _c('v-btn',{key:act.name,attrs:{\"color\":act.color,\"icon\":\"\",\"small\":\"\"}},[_c('v-icon',{attrs:{\"small\":\"\"},on:{\"click\":function($event){return act.callback(item)}}},[_vm._v(\" \"+_vm._s(act.icon)+\" \")])],1)})}},{key:\"item.time\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(\" \"+_vm._s(Math.round(item.time * 100) / 100)+\" \")]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-data-table\n    :headers=\"headers\"\n    :items=\"items\"\n    sort-by=\"calories\"\n    class=\"elevation-1\"\n  >\n    <template v-slot:item.actions=\"{ item }\">\n      <v-btn\n        v-for=\"act in actions\"\n        :key=\"act.name\"\n        :color=\"act.color\"\n        icon\n        small\n      >\n        <v-icon small @click=\"act.callback(item)\">\n          {{ act.icon }}\n        </v-icon>\n      </v-btn>\n    </template>\n    <template v-slot:item.time=\"{ item }\">\n      {{ Math.round(item.time * 100) / 100 }}\n    </template>\n  </v-data-table>\n</template>\n<script>\nexport default {\n  name: \"MPointTierTable\",\n  data: () => ({\n    dialog: false,\n    headers: [\n      { text: \"Time\", value: \"time\" },\n      { text: \"Texts\", value: \"text\" },\n      { text: \"Actions\", value: \"actions\", sortable: false }\n    ]\n  }),\n  props: {\n    value: {\n      type: Array\n    },\n    actions: {\n      type: Array\n    }\n  },\n  computed: {\n    items: {\n      get() {\n        return this.value;\n      },\n      set(diff) {\n        this.$emit(\"input\", { ...this.value, ...diff });\n      }\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MPointTierTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MPointTierTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MPointTierTable.vue?vue&type=template&id=17f31e4a&\"\nimport script from \"./MPointTierTable.vue?vue&type=script&lang=js&\"\nexport * from \"./MPointTierTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VBtn,VDataTable,VIcon})\n","<template>\n  <v-card class=\"max-auto overflow-y-auto\" :style=\"cardStyle\" width=\"100%\">\n    <v-tabs v-model=\"tab\" dark background-color=\"teal darken-3\" show-arrows>\n      <v-tabs-slider color=\"teal lighten-3\"></v-tabs-slider>\n      <v-tab v-for=\"(item, key) in items\" :key=\"key\">\n        {{ item.name }}\n      </v-tab>\n    </v-tabs>\n    <v-tabs-items v-model=\"tab\">\n      <v-tab-item v-for=\"item in items\" :key=\"item.name\">\n        <v-card flat>\n          <m-interval-tier-table\n            v-if=\"item.tierType == 'interval'\"\n            :ws=\"ws\"\n            :value=\"item.items\"\n            :actions=\"actions.interval\"\n          />\n          <m-point-tier-table\n            v-else\n            :value=\"item.items\"\n            :actions=\"actions.point\"\n          />\n        </v-card>\n      </v-tab-item>\n    </v-tabs-items>\n  </v-card>\n</template>\n\n<script>\nimport MIntervalTierTable from \"./MIntervalTierTable.vue\";\nimport MPointTierTable from \"./MPointTierTable.vue\";\nexport default {\n  name: \"MTierList\",\n  components: {\n    MIntervalTierTable,\n    MPointTierTable\n  },\n  data: () => ({\n    tab: null\n  }),\n  props: {\n    items: {\n      type: Array\n    },\n    maxHeight: {\n      type: Number\n    },\n    ws: {\n      type: Object\n    },\n    actions: {\n      type: Object\n    }\n  },\n  computed: {\n    cardStyle: function() {\n      if (this.maxHeight) {\n        return `max-height: ${this.maxHeight}px`;\n      }\n      return \"max-height: 400px\";\n    }\n  }\n};\n</script>\n<style scoped></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MTierList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MTierList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MTierList.vue?vue&type=template&id=ef83f290&scoped=true&\"\nimport script from \"./MTierList.vue?vue&type=script&lang=js&\"\nexport * from \"./MTierList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ef83f290\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabItem } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VTabsItems } from 'vuetify/lib/components/VTabs';\nimport { VTabsSlider } from 'vuetify/lib/components/VTabs';\ninstallComponents(component, {VCard,VTab,VTabItem,VTabs,VTabsItems,VTabsSlider})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"pa-0\",attrs:{\"fluid\":\"\"}},[_c('v-row',{staticClass:\"py-0\"},[_c('v-col',{staticClass:\"py-0\",attrs:{\"cols\":\"4\"}},[_c('v-card',{attrs:{\"flat\":\"\",\"color\":\"background\"}},[_c('v-system-bar',{attrs:{\"dark\":\"\",\"color\":\"accent\"}},[_vm._v(\" \"+_vm._s(_vm.frameOffset)+\" \")]),(_vm.src)?_c('video',{ref:\"videoPre\",style:(_vm.videoStyle),attrs:{\"muted\":\"\",\"src\":_vm.src},domProps:{\"muted\":true}}):_vm._e()],1)],1),_c('v-col',{staticClass:\"py-0\",attrs:{\"cols\":\"4\"}},[_c('v-card',{attrs:{\"flat\":\"\",\"color\":\"background\"}},[_c('v-system-bar',{attrs:{\"dark\":\"\",\"color\":\"accent\"}},[_vm._v(\"  \")]),(_vm.src)?_c('video',{ref:\"video\",style:(_vm.videoStyle),attrs:{\"src\":_vm.src},on:{\"loadeddata\":_vm.onLoadeddata,\"timeupdate\":_vm.onTimeupdate}}):_vm._e(),_c('canvas',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],ref:\"canvas\",style:(_vm.videoStyle)})],1)],1),_c('v-col',{staticClass:\"py-0\",attrs:{\"cols\":\"4\"}},[_c('v-card',{attrs:{\"flat\":\"\",\"color\":\"background\"}},[_c('v-system-bar',{attrs:{\"dark\":\"\",\"color\":\"accent\"}},[_vm._v(\" \"+_vm._s(_vm.frameOffset)+\" \")]),(_vm.src)?_c('video',{ref:\"videoPos\",style:(_vm.videoStyle),attrs:{\"muted\":\"\",\"src\":_vm.src},domProps:{\"muted\":true}}):_vm._e()],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container fluid class=\"pa-0\">\n    <v-row class=\"py-0\">\n      <v-col cols=\"4\" class=\"py-0\">\n        <v-card flat color=\"background\">\n          <v-system-bar dark color=\"accent\">\n            {{ frameOffset }}\n          </v-system-bar>\n          <video\n            v-if=\"src\"\n            muted\n            ref=\"videoPre\"\n            :style=\"videoStyle\"\n            :src=\"src\"\n          />\n        </v-card>\n      </v-col>\n      <v-col cols=\"4\" class=\"py-0\">\n        <v-card flat color=\"background\">\n          <v-system-bar dark color=\"accent\">\n            \n          </v-system-bar>\n          <video\n            v-if=\"src\"\n            ref=\"video\"\n            @loadeddata=\"onLoadeddata\"\n            @timeupdate=\"onTimeupdate\"\n            :style=\"videoStyle\"\n            :src=\"src\"\n          />\n          <canvas ref=\"canvas\" v-show=\"false\" :style=\"videoStyle\" />\n        </v-card>\n      </v-col>\n      <v-col cols=\"4\" class=\"py-0\">\n        <v-card flat color=\"background\">\n          <v-system-bar dark color=\"accent\">\n            {{ frameOffset }}\n          </v-system-bar>\n          <video\n            muted\n            v-if=\"src\"\n            ref=\"videoPos\"\n            :style=\"videoStyle\"\n            :src=\"src\"\n          />\n        </v-card>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nexport default {\n  name: \"MVideoArray\",\n  props: {\n    src: {\n      type: String,\n      requested: true\n    },\n    fps: {\n      type: Number,\n      requested: true\n    },\n    frameOffset: {\n      type: Number,\n      default: 1\n    }\n  },\n  data: () => ({\n    el: null,\n    debug: false,\n    background: \"grey lighten-3\",\n    videoStyle: {\n      width: \"100%\",\n      height: \"auto\"\n    }\n  }),\n  computed: {\n    frameRate: function() {\n      return 1 / this.fps;\n    }\n  },\n  methods: {\n    // \n    log: function(tag, msg) {\n      if (this.debug) {\n        console.info(tag, msg);\n      }\n    },\n    syncVideos: function(currentTime) {\n      const tag = `${this.$options.name}:syncVideos`;\n      this.syncCanvas();\n      const offsetTime = this.frameOffset * this.frameRate;\n      this.log(tag, `currentTime:${currentTime} offsetTime:${offsetTime}`);\n      if (currentTime - offsetTime > 0) {\n        const time = currentTime - offsetTime;\n        this.log(tag, `video-pre: setCurrentTime: ${time}`);\n        this.$refs.videoPre.currentTime = time;\n      }\n      if (offsetTime + currentTime < this.getDuration()) {\n        this.log(tag, \"video-pos: setCurrentTime\");\n        const time = currentTime + offsetTime;\n        this.$refs.videoPos.currentTime = time;\n      }\n    },\n    syncCanvas: function() {\n      const tag = `${this.$options.name}:syncCanvas`;\n      const video = this.$refs.video;\n      const canvas = this.$refs.canvas;\n      canvas.width = video.clientWidth;\n      canvas.height = video.clientWidth;\n      const ctx = canvas.getContext(\"2d\");\n      ctx.drawImage(video, 0, 0);\n      const dataUrl = canvas.toDataURL();\n      this.log(tag, dataUrl);\n      this.$emit(\"syncCanvas\", dataUrl);\n    },\n    getFrame: function() {\n      const tag = `${this.$options.name}:getFrame`;\n      const video = this.$refs.video;\n      const canvas = document.createElement(\"canvas\");\n      canvas.width = video.clientWidth;\n      canvas.height = video.clientWidth;\n      const ctx = canvas.getContext(\"2d\");\n      ctx.drawImage(video, 0, 0);\n      const dataUrl = canvas.toDataURL();\n      this.log(tag, dataUrl);\n      return dataUrl;\n    },\n    getDuration: function() {\n      return this.$refs.video.duration;\n    },\n    getCurrentTime: function() {\n      if (this.$refs.video) {\n        return this.$refs.video.currentTime;\n      }\n    },\n    // \n    onLoadeddata() {\n      const tag = `${this.$options.name}:onLoadeddata`;\n      const video = this.$refs.video;\n      this.log(tag, video);\n      this.$emit(\"loadeddata\", video);\n    },\n    onTimeupdate: function() {\n      const tag = `${this.$options.name}:onTimeupdate`;\n      const currentTime = this.getCurrentTime();\n      this.$emit(\"timeupdate\", currentTime);\n      this.syncVideos(currentTime);\n      this.log(tag, currentTime);\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MVideoArray.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MVideoArray.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MVideoArray.vue?vue&type=template&id=93deab2e&\"\nimport script from \"./MVideoArray.vue?vue&type=script&lang=js&\"\nexport * from \"./MVideoArray.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSystemBar } from 'vuetify/lib/components/VSystemBar';\ninstallComponents(component, {VCard,VCol,VContainer,VRow,VSystemBar})\n","/**\n * @typedef {Object} ListenerDescriptor\n * @property {string} name The name of the event\n * @property {function} callback The callback\n * @property {function} un The function to call to remove the listener\n */\n\n/**\n * Observer class\n */\nexport default class Observer {\n  /**\n   * Instantiate Observer\n   */\n  constructor() {\n    /**\n     * @private\n     * @todo Initialise the handlers here already and remove the conditional\n     * assignment in `on()`\n     */\n    this.handlers = null;\n  }\n  /**\n   * Attach a handler function for an event.\n   *\n   * @param {string} event Name of the event to listen to\n   * @param {function} fn The callback to trigger when the event is fired\n   * @return {ListenerDescriptor} The event descriptor\n   */\n  on(event, fn) {\n    if (!this.handlers) {\n      this.handlers = {};\n    }\n\n    let handlers = this.handlers[event];\n    if (!handlers) {\n      handlers = this.handlers[event] = [];\n    }\n    handlers.push(fn);\n\n    // Return an event descriptor\n    return {\n      name: event,\n      callback: fn,\n      un: (e, fn) => this.un(e, fn)\n    };\n  }\n\n  /**\n   * Remove an event handler.\n   *\n   * @param {string} event Name of the event the listener that should be\n   * removed listens to\n   * @param {function} fn The callback that should be removed\n   */\n  un(event, fn) {\n    if (!this.handlers) {\n      return;\n    }\n\n    const handlers = this.handlers[event];\n    let i;\n    if (handlers) {\n      if (fn) {\n        for (i = handlers.length - 1; i >= 0; i--) {\n          if (handlers[i] == fn) {\n            handlers.splice(i, 1);\n          }\n        }\n      } else {\n        handlers.length = 0;\n      }\n    }\n  }\n\n  /**\n   * Remove all event handlers.\n   */\n  unAll() {\n    this.handlers = null;\n  }\n\n  /**\n   * Attach a handler to an event. The handler is executed at most once per\n   * event type.\n   *\n   * @param {string} event The event to listen to\n   * @param {function} handler The callback that is only to be called once\n   * @return {ListenerDescriptor} The event descriptor\n   */\n  once(event, handler) {\n    const fn = (...args) => {\n      /*  eslint-disable no-invalid-this */\n      handler.apply(this, args);\n      /*  eslint-enable no-invalid-this */\n      setTimeout(() => {\n        this.un(event, fn);\n      }, 0);\n    };\n    return this.on(event, fn);\n  }\n\n  /**\n   * Manually fire an event\n   *\n   * @param {string} event The event to fire manually\n   * @param {...any} args The arguments with which to call the listeners\n   */\n  fireEvent(event, ...args) {\n    if (!this.handlers) {\n      return;\n    }\n    const handlers = this.handlers[event];\n    handlers &&\n      handlers.forEach(fn => {\n        fn(...args);\n      });\n  }\n}\n","import Observer from \"./observer\";\n\n/**\n * Perform an ajax request using `XMLHttpRequest`.\n *\n * @deprecated Use `util.fetchFile` instead.\n *\n * @param {Object} options AJAX options to use. See example below for options.\n * @returns {Observer} Observer instance\n * @example\n * // default options\n * let options = {\n *     method: 'GET',\n *     url: undefined,\n *     responseType: 'json',\n *     xhr: {}\n * };\n *\n * // override default options\n * options.url = '../media/demo.wav';\n * options.responseType = 'arraybuffer';\n * options.xhr = {\n *     requestHeaders: [\n *         {\n *             key: 'Authorization',\n *             value: 'my-token'\n *         }\n *     ],\n *     withCredentials: true\n * };\n *\n * // make ajax call\n * let ajaxCall = util.ajax(options);\n * ajaxCall.on('progress', e => {\n *     console.log('progress', e);\n * });\n * ajaxCall.on('success', (data, e) => {\n *     console.log('success!', data);\n * });\n * ajaxCall.on('error', e => {\n *     console.warn('ajax error: ' + e.target.statusText);\n * });\n */\nexport default function ajax(options) {\n  const instance = new Observer();\n  const xhr = new XMLHttpRequest();\n  let fired100 = false;\n  xhr.open(options.method || \"GET\", options.url, true);\n  xhr.responseType = options.responseType || \"json\";\n\n  if (options.xhr) {\n    if (options.xhr.requestHeaders) {\n      // add custom request headers\n      options.xhr.requestHeaders.forEach(header => {\n        xhr.setRequestHeader(header.key, header.value);\n      });\n    }\n    if (options.xhr.withCredentials) {\n      // use credentials\n      xhr.withCredentials = true;\n    }\n  }\n\n  xhr.addEventListener(\"progress\", e => {\n    instance.fireEvent(\"progress\", e);\n    if (e.lengthComputable && e.loaded == e.total) {\n      fired100 = true;\n    }\n  });\n  xhr.addEventListener(\"load\", e => {\n    if (!fired100) {\n      instance.fireEvent(\"progress\", e);\n    }\n    instance.fireEvent(\"load\", e);\n    if (200 == xhr.status || 206 == xhr.status) {\n      instance.fireEvent(\"success\", xhr.response, e);\n    } else {\n      instance.fireEvent(\"error\", e);\n    }\n  });\n  xhr.addEventListener(\"error\", e => instance.fireEvent(\"error\", e));\n  xhr.send();\n  instance.xhr = xhr;\n  return instance;\n}\n","/**\n * Get a random prefixed ID\n *\n * @param {String} prefix Prefix to use. Default is `'wavesurfer_'`.\n * @returns {String} Random prefixed ID\n * @example\n * console.log(getId()); // logs 'wavesurfer_b5pors4ru6g'\n *\n * let prefix = 'foo-';\n * console.log(getId(prefix)); // logs 'foo-b5pors4ru6g'\n */\nexport default function getId(prefix) {\n  if (prefix === undefined) {\n    prefix = \"wavesurfer_\";\n  }\n  return (\n    prefix +\n    Math.random()\n      .toString(32)\n      .substring(2)\n  );\n}\n","/**\n * Get the largest value\n *\n * @param   {Array} values Array of numbers\n * @returns {Number} Largest number found\n * @example console.log(max([1, 2, 3])); // logs 3\n */\nexport default function max(values) {\n  let largest = -Infinity;\n  Object.keys(values).forEach(i => {\n    if (values[i] > largest) {\n      largest = values[i];\n    }\n  });\n  return largest;\n}\n","/**\n * Get the smallest value\n *\n * @param   {Array} values Array of numbers\n * @returns {Number} Smallest number found\n * @example console.log(min([1, 2, 3])); // logs 1\n */\nexport default function min(values) {\n  let smallest = Number(Infinity);\n  Object.keys(values).forEach(i => {\n    if (values[i] < smallest) {\n      smallest = values[i];\n    }\n  });\n  return smallest;\n}\n","/* eslint no-console: [\"error\", { allow: [\"warn\"] }] */\n/**\n * Extend an object shallowly with others\n *\n * @param {Object} dest The target object\n * @param {Object[]} sources The objects to use for extending\n *\n * @return {Object} Merged object\n * @deprecated since version 3.3.0\n */\nexport default function extend(dest, ...sources) {\n  console.warn(\"util.extend is deprecated; use Object.assign instead\");\n  sources.forEach(source => {\n    Object.keys(source).forEach(key => {\n      dest[key] = source[key];\n    });\n  });\n  return dest;\n}\n","/**\n * Apply a map of styles to an element\n *\n * @param {HTMLElement} el The element that the styles will be applied to\n * @param {Object} styles The map of propName: attribute, both are used as-is\n *\n * @return {HTMLElement} el\n */\nexport default function style(el, styles) {\n  Object.keys(styles).forEach(prop => {\n    if (el.style[prop] !== styles[prop]) {\n      el.style[prop] = styles[prop];\n    }\n  });\n  return el;\n}\n","/* eslint-disable valid-jsdoc */\n/* eslint no-unused-vars: 0 */\n/**\n * Returns the `requestAnimationFrame` function for the browser, or a shim with\n * `setTimeout` if the function is not found\n *\n * @return {function} Available `requestAnimationFrame` function for the browser\n */\nexport default (\n  window.requestAnimationFrame ||\n  window.webkitRequestAnimationFrame ||\n  window.mozRequestAnimationFrame ||\n  window.oRequestAnimationFrame ||\n  window.msRequestAnimationFrame ||\n  ((callback, element) => setTimeout(callback, 1000 / 60))\n).bind(window);\n","import reqAnimationFrame from \"./request-animation-frame\";\n\n/**\n * Create a function which will be called at the next requestAnimationFrame\n * cycle\n *\n * @param {function} func The function to call\n *\n * @return {func} The function wrapped within a requestAnimationFrame\n */\nexport default function frame(func) {\n  return (...args) => reqAnimationFrame(() => func(...args));\n}\n","/* eslint no-unused-vars: 0 */\n/**\n * Stops propagation of click event and removes event listener\n *\n * @private\n * @param {object} event The click event\n */\nfunction preventClickHandler(event) {\n  event.stopPropagation();\n  document.body.removeEventListener(\"click\", preventClickHandler, true);\n}\n\n/**\n * Starts listening for click event and prevent propagation\n *\n * @param {object} values Values\n */\nexport default function preventClick(values) {\n  document.body.addEventListener(\"click\", preventClickHandler, true);\n}\n","/**\n * @since 3.0.0\n */\n\nimport Observer from \"./observer\";\n\nclass ProgressHandler {\n  /**\n   * Instantiate ProgressHandler\n   *\n   * @param {Observer} instance The `fetchFile` observer instance.\n   * @param {Number} contentLength Content length.\n   * @param {Response} response Response object.\n   */\n  constructor(instance, contentLength, response) {\n    this.instance = instance;\n    this.instance._reader = response.body.getReader();\n\n    this.total = parseInt(contentLength, 10);\n    this.loaded = 0;\n  }\n\n  /**\n   * A method that is called once, immediately after the `ReadableStream``\n   * is constructed.\n   *\n   * @param {ReadableStreamDefaultController} controller Controller instance\n   *     used to control the stream.\n   */\n  start(controller) {\n    const read = () => {\n      // instance._reader.read() returns a promise that resolves\n      // when a value has been received\n      this.instance._reader\n        .read()\n        .then(({ done, value }) => {\n          // result objects contain two properties:\n          // done  - true if the stream has already given you all its data.\n          // value - some data. Always undefined when done is true.\n          if (done) {\n            // ensure onProgress called when content-length=0\n            if (this.total === 0) {\n              this.instance.onProgress.call(this.instance, {\n                loaded: this.loaded,\n                total: this.total,\n                lengthComputable: false\n              });\n            }\n            // no more data needs to be consumed, close the stream\n            controller.close();\n            return;\n          }\n\n          this.loaded += value.byteLength;\n          this.instance.onProgress.call(this.instance, {\n            loaded: this.loaded,\n            total: this.total,\n            lengthComputable: !(this.total === 0)\n          });\n          // enqueue the next data chunk into our target stream\n          controller.enqueue(value);\n          read();\n        })\n        .catch(error => {\n          controller.error(error);\n        });\n    };\n\n    read();\n  }\n}\n\n/**\n * Load a file using `fetch`.\n *\n * @param {object} options Request options to use. See example below.\n * @returns {Observer} Observer instance\n * @example\n * // default options\n * let options = {\n *     url: undefined,\n *     method: 'GET',\n *     mode: 'cors',\n *     credentials: 'same-origin',\n *     cache: 'default',\n *     responseType: 'json',\n *     requestHeaders: [],\n *     redirect: 'follow',\n *     referrer: 'client'\n * };\n *\n * // override some options\n * options.url = '../media/demo.wav';\n\n * // available types: 'arraybuffer', 'blob', 'json' or 'text'\n * options.responseType = 'arraybuffer';\n *\n * // make fetch call\n * let request = util.fetchFile(options);\n *\n * // listen for events\n * request.on('progress', e => {\n *     console.log('progress', e);\n * });\n *\n * request.on('success', data => {\n *     console.log('success!', data);\n * });\n *\n * request.on('error', e => {\n *     console.warn('fetchFile error: ', e);\n * });\n */\nexport default function fetchFile(options) {\n  if (!options) {\n    throw new Error(\"fetch options missing\");\n  } else if (!options.url) {\n    throw new Error(\"fetch url missing\");\n  }\n  const instance = new Observer();\n  const fetchHeaders = new Headers();\n  const fetchRequest = new Request(options.url);\n\n  // add ability to abort\n  instance.controller = new AbortController();\n\n  // check if headers have to be added\n  if (options && options.requestHeaders) {\n    // add custom request headers\n    options.requestHeaders.forEach(header => {\n      fetchHeaders.append(header.key, header.value);\n    });\n  }\n\n  // parse fetch options\n  const responseType = options.responseType || \"json\";\n  const fetchOptions = {\n    method: options.method || \"GET\",\n    headers: fetchHeaders,\n    mode: options.mode || \"cors\",\n    credentials: options.credentials || \"same-origin\",\n    cache: options.cache || \"default\",\n    redirect: options.redirect || \"follow\",\n    referrer: options.referrer || \"client\",\n    signal: instance.controller.signal\n  };\n\n  fetch(fetchRequest, fetchOptions)\n    .then(response => {\n      // store response reference\n      instance.response = response;\n\n      let progressAvailable = true;\n      if (!response.body) {\n        // ReadableStream is not yet supported in this browser\n        // see https://developer.mozilla.org/en-US/docs/Web/API/ReadableStream\n        progressAvailable = false;\n      }\n\n      // Server must send CORS header \"Access-Control-Expose-Headers: content-length\"\n      const contentLength = response.headers.get(\"content-length\");\n      if (contentLength === null) {\n        // Content-Length server response header missing.\n        // Don't evaluate download progress if we can't compare against a total size\n        // see https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS#Access-Control-Expose-Headers\n        progressAvailable = false;\n      }\n\n      if (!progressAvailable) {\n        // not able to check download progress so skip it\n        return response;\n      }\n\n      // fire progress event when during load\n      instance.onProgress = e => {\n        instance.fireEvent(\"progress\", e);\n      };\n\n      return new Response(\n        new ReadableStream(\n          new ProgressHandler(instance, contentLength, response)\n        ),\n        fetchOptions\n      );\n    })\n    .then(response => {\n      let errMsg;\n      if (response.ok) {\n        switch (responseType) {\n          case \"arraybuffer\":\n            return response.arrayBuffer();\n\n          case \"json\":\n            return response.json();\n\n          case \"blob\":\n            return response.blob();\n\n          case \"text\":\n            return response.text();\n\n          default:\n            errMsg = \"Unknown responseType: \" + responseType;\n            break;\n        }\n      }\n      if (!errMsg) {\n        errMsg = \"HTTP error status: \" + response.status;\n      }\n      throw new Error(errMsg);\n    })\n    .then(response => {\n      instance.fireEvent(\"success\", response);\n    })\n    .catch(error => {\n      instance.fireEvent(\"error\", error);\n    });\n\n  // return the fetch request\n  instance.fetchRequest = fetchRequest;\n  return instance;\n}\n","/* eslint no-unused-vars: 0 */\nimport * as util from \"./util\";\n\n/**\n * Parent class for renderers\n *\n * @extends {Observer}\n */\nexport default class Drawer extends util.Observer {\n  /**\n   * @param {HTMLElement} container The container node of the wavesurfer instance\n   * @param {WavesurferParams} params The wavesurfer initialisation options\n   */\n  constructor(container, params) {\n    super();\n    /** @private */\n    this.container = container;\n    /**\n     * @type {WavesurferParams}\n     * @private\n     */\n    this.params = params;\n    /**\n     * The width of the renderer\n     * @type {number}\n     */\n    this.width = 0;\n    /**\n     * The height of the renderer\n     * @type {number}\n     */\n    this.height = params.height * this.params.pixelRatio;\n    /** @private */\n    this.lastPos = 0;\n    /**\n     * The `<wave>` element which is added to the container\n     * @type {HTMLElement}\n     */\n    this.wrapper = null;\n  }\n\n  /**\n   * Alias of `util.style`\n   *\n   * @param {HTMLElement} el The element that the styles will be applied to\n   * @param {Object} styles The map of propName: attribute, both are used as-is\n   * @return {HTMLElement} el\n   */\n  style(el, styles) {\n    return util.style(el, styles);\n  }\n\n  /**\n   * Create the wrapper `<wave>` element, style it and set up the events for\n   * interaction\n   */\n  createWrapper() {\n    this.wrapper = this.container.appendChild(document.createElement(\"wave\"));\n\n    this.style(this.wrapper, {\n      display: \"block\",\n      position: \"relative\",\n      userSelect: \"none\",\n      webkitUserSelect: \"none\",\n      height: this.params.height + \"px\"\n    });\n\n    if (this.params.fillParent || this.params.scrollParent) {\n      this.style(this.wrapper, {\n        width: \"100%\",\n        overflowX: this.params.hideScrollbar ? \"hidden\" : \"auto\",\n        overflowY: \"hidden\"\n      });\n    }\n\n    this.setupWrapperEvents();\n  }\n\n  /**\n   * Handle click event\n   *\n   * @param {Event} e Click event\n   * @param {?boolean} noPrevent Set to true to not call `e.preventDefault()`\n   * @return {number} Playback position from 0 to 1\n   */\n  handleEvent(e, noPrevent) {\n    !noPrevent && e.preventDefault();\n\n    const clientX = e.targetTouches ? e.targetTouches[0].clientX : e.clientX;\n    const bbox = this.wrapper.getBoundingClientRect();\n\n    const nominalWidth = this.width;\n    const parentWidth = this.getWidth();\n\n    let progress;\n    if (!this.params.fillParent && nominalWidth < parentWidth) {\n      progress =\n        (this.params.rtl ? bbox.right - clientX : clientX - bbox.left) *\n          (this.params.pixelRatio / nominalWidth) || 0;\n\n      if (progress > 1) {\n        progress = 1;\n      }\n    } else {\n      progress =\n        ((this.params.rtl ? bbox.right - clientX : clientX - bbox.left) +\n          this.wrapper.scrollLeft) /\n          this.wrapper.scrollWidth || 0;\n    }\n\n    return progress;\n  }\n\n  /**\n   * @private\n   */\n  setupWrapperEvents() {\n    this.wrapper.addEventListener(\"click\", e => {\n      const scrollbarHeight =\n        this.wrapper.offsetHeight - this.wrapper.clientHeight;\n      if (scrollbarHeight !== 0) {\n        // scrollbar is visible.  Check if click was on it\n        const bbox = this.wrapper.getBoundingClientRect();\n        if (e.clientY >= bbox.bottom - scrollbarHeight) {\n          // ignore mousedown as it was on the scrollbar\n          return;\n        }\n      }\n\n      if (this.params.interact) {\n        this.fireEvent(\"click\", e, this.handleEvent(e));\n      }\n    });\n\n    this.wrapper.addEventListener(\"dblclick\", e => {\n      if (this.params.interact) {\n        this.fireEvent(\"dblclick\", e, this.handleEvent(e));\n      }\n    });\n\n    this.wrapper.addEventListener(\"scroll\", e => this.fireEvent(\"scroll\", e));\n  }\n\n  /**\n   * Draw peaks on the canvas\n   *\n   * @param {number[]|Number.<Array[]>} peaks Can also be an array of arrays\n   * for split channel rendering\n   * @param {number} length The width of the area that should be drawn\n   * @param {number} start The x-offset of the beginning of the area that\n   * should be rendered\n   * @param {number} end The x-offset of the end of the area that should be\n   * rendered\n   */\n  drawPeaks(peaks, length, start, end) {\n    if (!this.setWidth(length)) {\n      this.clearWave();\n    }\n\n    this.params.barWidth\n      ? this.drawBars(peaks, 0, start, end)\n      : this.drawWave(peaks, 0, start, end);\n  }\n\n  /**\n   * Scroll to the beginning\n   */\n  resetScroll() {\n    if (this.wrapper !== null) {\n      this.wrapper.scrollLeft = 0;\n    }\n  }\n\n  /**\n   * Recenter the view-port at a certain percent of the waveform\n   *\n   * @param {number} percent Value from 0 to 1 on the waveform\n   */\n  recenter(percent) {\n    const position = this.wrapper.scrollWidth * percent;\n    this.recenterOnPosition(position, true);\n  }\n\n  /**\n   * Recenter the view-port on a position, either scroll there immediately or\n   * in steps of 5 pixels\n   *\n   * @param {number} position X-offset in pixels\n   * @param {boolean} immediate Set to true to immediately scroll somewhere\n   */\n  recenterOnPosition(position, immediate) {\n    const scrollLeft = this.wrapper.scrollLeft;\n    const half = ~~(this.wrapper.clientWidth / 2);\n    const maxScroll = this.wrapper.scrollWidth - this.wrapper.clientWidth;\n    let target = position - half;\n    let offset = target - scrollLeft;\n\n    if (maxScroll == 0) {\n      // no need to continue if scrollbar is not there\n      return;\n    }\n\n    // if the cursor is currently visible...\n    if (!immediate && -half <= offset && offset < half) {\n      // set rate at which waveform is centered\n      let rate = this.params.autoCenterRate;\n\n      // make rate depend on width of view and length of waveform\n      rate /= half;\n      rate *= maxScroll;\n\n      offset = Math.max(-rate, Math.min(rate, offset));\n      target = scrollLeft + offset;\n    }\n\n    // limit target to valid range (0 to maxScroll)\n    target = Math.max(0, Math.min(maxScroll, target));\n    // no use attempting to scroll if we're not moving\n    if (target != scrollLeft) {\n      this.wrapper.scrollLeft = target;\n    }\n  }\n\n  /**\n   * Get the current scroll position in pixels\n   *\n   * @return {number} Horizontal scroll position in pixels\n   */\n  getScrollX() {\n    let x = 0;\n    if (this.wrapper) {\n      const pixelRatio = this.params.pixelRatio;\n      x = Math.round(this.wrapper.scrollLeft * pixelRatio);\n\n      // In cases of elastic scroll (safari with mouse wheel) you can\n      // scroll beyond the limits of the container\n      // Calculate and floor the scrollable extent to make sure an out\n      // of bounds value is not returned\n      // Ticket #1312\n      if (this.params.scrollParent) {\n        const maxScroll = ~~(\n          this.wrapper.scrollWidth * pixelRatio -\n          this.getWidth()\n        );\n        x = Math.min(maxScroll, Math.max(0, x));\n      }\n    }\n    return x;\n  }\n\n  /**\n   * Get the width of the container\n   *\n   * @return {number} The width of the container\n   */\n  getWidth() {\n    return Math.round(this.container.clientWidth * this.params.pixelRatio);\n  }\n\n  /**\n   * Set the width of the container\n   *\n   * @param {number} width The new width of the container\n   * @return {boolean} Whether the width of the container was updated or not\n   */\n  setWidth(width) {\n    if (this.width == width) {\n      return false;\n    }\n\n    this.width = width;\n\n    if (this.params.fillParent || this.params.scrollParent) {\n      this.style(this.wrapper, {\n        width: \"\"\n      });\n    } else {\n      this.style(this.wrapper, {\n        width: ~~(this.width / this.params.pixelRatio) + \"px\"\n      });\n    }\n\n    this.updateSize();\n    return true;\n  }\n\n  /**\n   * Set the height of the container\n   *\n   * @param {number} height The new height of the container.\n   * @return {boolean} Whether the height of the container was updated or not\n   */\n  setHeight(height) {\n    if (height == this.height) {\n      return false;\n    }\n    this.height = height;\n\n    this.style(this.wrapper, {\n      height: ~~(this.height / this.params.pixelRatio) + \"px\"\n    });\n\n    this.updateSize();\n    return true;\n  }\n\n  /**\n   * Called by wavesurfer when progress should be rendered\n   *\n   * @param {number} progress From 0 to 1\n   */\n  progress(progress) {\n    const minPxDelta = 1 / this.params.pixelRatio;\n    const pos = Math.round(progress * this.width) * minPxDelta;\n\n    if (pos < this.lastPos || pos - this.lastPos >= minPxDelta) {\n      this.lastPos = pos;\n\n      if (this.params.scrollParent && this.params.autoCenter) {\n        const newPos = ~~(this.wrapper.scrollWidth * progress);\n        this.recenterOnPosition(newPos, this.params.autoCenterImmediately);\n      }\n\n      this.updateProgress(pos);\n    }\n  }\n\n  /**\n   * This is called when wavesurfer is destroyed\n   */\n  destroy() {\n    this.unAll();\n    if (this.wrapper) {\n      if (this.wrapper.parentNode == this.container) {\n        this.container.removeChild(this.wrapper);\n      }\n      this.wrapper = null;\n    }\n  }\n\n  /* Renderer-specific methods */\n\n  /**\n   * Called after cursor related params have changed.\n   *\n   * @abstract\n   */\n  updateCursor() {}\n\n  /**\n   * Called when the size of the container changes so the renderer can adjust\n   *\n   * @abstract\n   */\n  updateSize() {}\n\n  /**\n   * Draw a waveform with bars\n   *\n   * @abstract\n   * @param {number[]|Number.<Array[]>} peaks Can also be an array of arrays for split channel\n   * rendering\n   * @param {number} channelIndex The index of the current channel. Normally\n   * should be 0\n   * @param {number} start The x-offset of the beginning of the area that\n   * should be rendered\n   * @param {number} end The x-offset of the end of the area that should be\n   * rendered\n   */\n  drawBars(peaks, channelIndex, start, end) {}\n\n  /**\n   * Draw a waveform\n   *\n   * @abstract\n   * @param {number[]|Number.<Array[]>} peaks Can also be an array of arrays for split channel\n   * rendering\n   * @param {number} channelIndex The index of the current channel. Normally\n   * should be 0\n   * @param {number} start The x-offset of the beginning of the area that\n   * should be rendered\n   * @param {number} end The x-offset of the end of the area that should be\n   * rendered\n   */\n  drawWave(peaks, channelIndex, start, end) {}\n\n  /**\n   * Clear the waveform\n   *\n   * @abstract\n   */\n  clearWave() {}\n\n  /**\n   * Render the new progress\n   *\n   * @abstract\n   * @param {number} position X-Offset of progress position in pixels\n   */\n  updateProgress(position) {}\n}\n","/**\n * @since 3.0.0\n */\n/* eslint no-unused-vars: 0 */\nimport style from \"./util/style\";\nimport getId from \"./util/get-id\";\n\n/**\n * The `CanvasEntry` class represents an element consisting of a wave `canvas`\n * and an (optional) progress wave `canvas`.\n *\n * The `MultiCanvas` renderer uses one or more `CanvasEntry` instances to\n * render a waveform, depending on the zoom level.\n */\nexport default class CanvasEntry {\n  constructor() {\n    /**\n     * The wave node\n     *\n     * @type {HTMLCanvasElement}\n     */\n    this.wave = null;\n    /**\n     * The wave canvas rendering context\n     *\n     * @type {CanvasRenderingContext2D}\n     */\n    this.waveCtx = null;\n    /**\n     * The (optional) progress wave node\n     *\n     * @type {HTMLCanvasElement}\n     */\n    this.progress = null;\n    /**\n     * The (optional) progress wave canvas rendering context\n     *\n     * @type {CanvasRenderingContext2D}\n     */\n    this.progressCtx = null;\n    /**\n     * Start of the area the canvas should render, between 0 and 1\n     *\n     * @type {number}\n     * @private\n     */\n    this.start = 0;\n    /**\n     * End of the area the canvas should render, between 0 and 1\n     *\n     * @type {number}\n     * @private\n     */\n    this.end = 1;\n    /**\n     * Unique identifier for this entry\n     *\n     * @type {string}\n     */\n    this.id = getId(\n      typeof this.constructor.name !== \"undefined\"\n        ? this.constructor.name.toLowerCase() + \"_\"\n        : \"canvasentry_\"\n    );\n    /**\n     * Canvas 2d context attributes\n     *\n     * @type {object}\n     */\n    this.canvasContextAttributes = {};\n  }\n\n  /**\n   * Store the wave canvas element and create the 2D rendering context\n   *\n   * @param {HTMLCanvasElement} element The wave `canvas` element.\n   */\n  initWave(element) {\n    this.wave = element;\n    this.waveCtx = this.wave.getContext(\"2d\", this.canvasContextAttributes);\n  }\n\n  /**\n   * Store the progress wave canvas element and create the 2D rendering\n   * context\n   *\n   * @param {HTMLCanvasElement} element The progress wave `canvas` element.\n   */\n  initProgress(element) {\n    this.progress = element;\n    this.progressCtx = this.progress.getContext(\n      \"2d\",\n      this.canvasContextAttributes\n    );\n  }\n\n  /**\n   * Update the dimensions\n   *\n   * @param {number} elementWidth Width of the entry\n   * @param {number} totalWidth Total width of the multi canvas renderer\n   * @param {number} width The new width of the element\n   * @param {number} height The new height of the element\n   */\n  updateDimensions(elementWidth, totalWidth, width, height) {\n    // where the canvas starts and ends in the waveform, represented as a\n    // decimal between 0 and 1\n    this.start = this.wave.offsetLeft / totalWidth || 0;\n    this.end = this.start + elementWidth / totalWidth;\n\n    // set wave canvas dimensions\n    this.wave.width = width;\n    this.wave.height = height;\n    let elementSize = { width: elementWidth + \"px\" };\n    style(this.wave, elementSize);\n\n    if (this.hasProgressCanvas) {\n      // set progress canvas dimensions\n      this.progress.width = width;\n      this.progress.height = height;\n      style(this.progress, elementSize);\n    }\n  }\n\n  /**\n   * Clear the wave and progress rendering contexts\n   */\n  clearWave() {\n    // wave\n    this.waveCtx.clearRect(\n      0,\n      0,\n      this.waveCtx.canvas.width,\n      this.waveCtx.canvas.height\n    );\n\n    // progress\n    if (this.hasProgressCanvas) {\n      this.progressCtx.clearRect(\n        0,\n        0,\n        this.progressCtx.canvas.width,\n        this.progressCtx.canvas.height\n      );\n    }\n  }\n\n  /**\n   * Set the fill styles for wave and progress\n   *\n   * @param {string} waveColor Fill color for the wave canvas\n   * @param {?string} progressColor Fill color for the progress canvas\n   */\n  setFillStyles(waveColor, progressColor) {\n    this.waveCtx.fillStyle = waveColor;\n\n    if (this.hasProgressCanvas) {\n      this.progressCtx.fillStyle = progressColor;\n    }\n  }\n\n  /**\n   * Draw a rectangle for wave and progress\n   *\n   * @param {number} x X start position\n   * @param {number} y Y start position\n   * @param {number} width Width of the rectangle\n   * @param {number} height Height of the rectangle\n   * @param {number} radius Radius of the rectangle\n   */\n  fillRects(x, y, width, height, radius) {\n    this.fillRectToContext(this.waveCtx, x, y, width, height, radius);\n\n    if (this.hasProgressCanvas) {\n      this.fillRectToContext(this.progressCtx, x, y, width, height, radius);\n    }\n  }\n\n  /**\n   * Draw the actual rectangle on a `canvas` element\n   *\n   * @private\n   * @param {CanvasRenderingContext2D} ctx Rendering context of target canvas\n   * @param {number} x X start position\n   * @param {number} y Y start position\n   * @param {number} width Width of the rectangle\n   * @param {number} height Height of the rectangle\n   * @param {number} radius Radius of the rectangle\n   */\n  fillRectToContext(ctx, x, y, width, height, radius) {\n    if (!ctx) {\n      return;\n    }\n\n    if (radius) {\n      this.drawRoundedRect(ctx, x, y, width, height, radius);\n    } else {\n      ctx.fillRect(x, y, width, height);\n    }\n  }\n\n  /**\n   * Draw a rounded rectangle on Canvas\n   *\n   * @private\n   * @param {CanvasRenderingContext2D} ctx Canvas context\n   * @param {number} x X-position of the rectangle\n   * @param {number} y Y-position of the rectangle\n   * @param {number} width Width of the rectangle\n   * @param {number} height Height of the rectangle\n   * @param {number} radius Radius of the rectangle\n   *\n   * @return {void}\n   * @example drawRoundedRect(ctx, 50, 50, 5, 10, 3)\n   */\n  drawRoundedRect(ctx, x, y, width, height, radius) {\n    if (height === 0) {\n      return;\n    }\n    // peaks are float values from -1 to 1. Use absolute height values in\n    // order to correctly calculate rounded rectangle coordinates\n    if (height < 0) {\n      height *= -1;\n      y -= height;\n    }\n    ctx.beginPath();\n    ctx.moveTo(x + radius, y);\n    ctx.lineTo(x + width - radius, y);\n    ctx.quadraticCurveTo(x + width, y, x + width, y + radius);\n    ctx.lineTo(x + width, y + height - radius);\n    ctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);\n    ctx.lineTo(x + radius, y + height);\n    ctx.quadraticCurveTo(x, y + height, x, y + height - radius);\n    ctx.lineTo(x, y + radius);\n    ctx.quadraticCurveTo(x, y, x + radius, y);\n    ctx.closePath();\n    ctx.fill();\n  }\n\n  /**\n   * Render the actual wave and progress lines\n   *\n   * @param {number[]} peaks Array with peaks data\n   * @param {number} absmax Maximum peak value (absolute)\n   * @param {number} halfH Half the height of the waveform\n   * @param {number} offsetY Offset to the top\n   * @param {number} start The x-offset of the beginning of the area that\n   * should be rendered\n   * @param {number} end The x-offset of the end of the area that\n   * should be rendered\n   */\n  drawLines(peaks, absmax, halfH, offsetY, start, end) {\n    this.drawLineToContext(\n      this.waveCtx,\n      peaks,\n      absmax,\n      halfH,\n      offsetY,\n      start,\n      end\n    );\n\n    if (this.hasProgressCanvas) {\n      this.drawLineToContext(\n        this.progressCtx,\n        peaks,\n        absmax,\n        halfH,\n        offsetY,\n        start,\n        end\n      );\n    }\n  }\n\n  /**\n   * Render the actual waveform line on a `canvas` element\n   *\n   * @private\n   * @param {CanvasRenderingContext2D} ctx Rendering context of target canvas\n   * @param {number[]} peaks Array with peaks data\n   * @param {number} absmax Maximum peak value (absolute)\n   * @param {number} halfH Half the height of the waveform\n   * @param {number} offsetY Offset to the top\n   * @param {number} start The x-offset of the beginning of the area that\n   * should be rendered\n   * @param {number} end The x-offset of the end of the area that\n   * should be rendered\n   */\n  drawLineToContext(ctx, peaks, absmax, halfH, offsetY, start, end) {\n    if (!ctx) {\n      return;\n    }\n\n    const length = peaks.length / 2;\n    const first = Math.round(length * this.start);\n\n    // use one more peak value to make sure we join peaks at ends -- unless,\n    // of course, this is the last canvas\n    const last = Math.round(length * this.end) + 1;\n\n    const canvasStart = first;\n    const canvasEnd = last;\n    const scale = this.wave.width / (canvasEnd - canvasStart - 1);\n\n    // optimization\n    const halfOffset = halfH + offsetY;\n    const absmaxHalf = absmax / halfH;\n\n    ctx.beginPath();\n    ctx.moveTo((canvasStart - first) * scale, halfOffset);\n\n    ctx.lineTo(\n      (canvasStart - first) * scale,\n      halfOffset - Math.round((peaks[2 * canvasStart] || 0) / absmaxHalf)\n    );\n\n    let i, peak, h;\n    for (i = canvasStart; i < canvasEnd; i++) {\n      peak = peaks[2 * i] || 0;\n      h = Math.round(peak / absmaxHalf);\n      ctx.lineTo((i - first) * scale + this.halfPixel, halfOffset - h);\n    }\n\n    // draw the bottom edge going backwards, to make a single\n    // closed hull to fill\n    let j = canvasEnd - 1;\n    for (j; j >= canvasStart; j--) {\n      peak = peaks[2 * j + 1] || 0;\n      h = Math.round(peak / absmaxHalf);\n      ctx.lineTo((j - first) * scale + this.halfPixel, halfOffset - h);\n    }\n\n    ctx.lineTo(\n      (canvasStart - first) * scale,\n      halfOffset - Math.round((peaks[2 * canvasStart + 1] || 0) / absmaxHalf)\n    );\n\n    ctx.closePath();\n    ctx.fill();\n  }\n\n  /**\n   * Destroys this entry\n   */\n  destroy() {\n    this.waveCtx = null;\n    this.wave = null;\n\n    this.progressCtx = null;\n    this.progress = null;\n  }\n\n  /**\n   * Return image data of the wave `canvas` element\n   *\n   * When using a `type` of `'blob'`, this will return a `Promise` that\n   * resolves with a `Blob` instance.\n   *\n   * @param {string} format='image/png' An optional value of a format type.\n   * @param {number} quality=0.92 An optional value between 0 and 1.\n   * @param {string} type='dataURL' Either 'dataURL' or 'blob'.\n   * @return {string|Promise} When using the default `'dataURL'` `type` this\n   * returns a data URL. When using the `'blob'` `type` this returns a\n   * `Promise` that resolves with a `Blob` instance.\n   */\n  getImage(format, quality, type) {\n    if (type === \"blob\") {\n      return new Promise(resolve => {\n        this.wave.toBlob(resolve, format, quality);\n      });\n    } else if (type === \"dataURL\") {\n      return this.wave.toDataURL(format, quality);\n    }\n  }\n}\n","/* eslint no-unused-vars: 0 */\nimport Drawer from \"./drawer\";\nimport * as util from \"./util\";\nimport CanvasEntry from \"./drawer.canvasentry\";\n\n/**\n * MultiCanvas renderer for wavesurfer. Is currently the default and sole\n * builtin renderer.\n *\n * A `MultiCanvas` consists of one or more `CanvasEntry` instances, depending\n * on the zoom level.\n */\nexport default class MultiCanvas extends Drawer {\n  /**\n   * @param {HTMLElement} container The container node of the wavesurfer instance\n   * @param {WavesurferParams} params The wavesurfer initialisation options\n   */\n  constructor(container, params) {\n    super(container, params);\n\n    /**\n     * @type {number}\n     * @private\n     */\n    this.maxCanvasWidth = params.maxCanvasWidth;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.maxCanvasElementWidth = Math.round(\n      params.maxCanvasWidth / params.pixelRatio\n    );\n\n    /**\n     * Whether or not the progress wave is rendered. If the `waveColor`\n     * and `progressColor` are the same color it is not.\n     *\n     * @type {boolean}\n     */\n    this.hasProgressCanvas = params.waveColor != params.progressColor;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.halfPixel = 0.5 / params.pixelRatio;\n\n    /**\n     * List of `CanvasEntry` instances.\n     *\n     * @private\n     * @type {Array}\n     */\n    this.canvases = [];\n\n    /**\n     * @private\n     * @type {HTMLElement}\n     */\n    this.progressWave = null;\n\n    /**\n     * Class used to generate entries.\n     *\n     * @private\n     * @type {function}\n     */\n    this.EntryClass = CanvasEntry;\n\n    /**\n     * Canvas 2d context attributes.\n     *\n     * @private\n     * @type {object}\n     */\n    this.canvasContextAttributes = params.drawingContextAttributes;\n\n    /**\n     * Overlap added between entries to prevent vertical white stripes\n     * between `canvas` elements.\n     *\n     * @type {number}\n     */\n    this.overlap = 2 * Math.ceil(params.pixelRatio / 2);\n\n    /**\n     * The radius of the wave bars. Makes bars rounded\n     *\n     * @private\n     * @type {number}\n     */\n    this.barRadius = params.barRadius || 0;\n  }\n\n  /**\n   * Initialize the drawer\n   */\n  init() {\n    this.createWrapper();\n    this.createElements();\n  }\n\n  /**\n   * Create the canvas elements and style them\n   *\n   * @private\n   */\n  createElements() {\n    this.progressWave = this.wrapper.appendChild(\n      this.style(document.createElement(\"wave\"), {\n        position: \"absolute\",\n        zIndex: 3,\n        left: 0,\n        top: 0,\n        bottom: 0,\n        overflow: \"hidden\",\n        width: \"0\",\n        display: \"none\",\n        boxSizing: \"border-box\",\n        borderRightStyle: \"solid\",\n        pointerEvents: \"none\"\n      })\n    );\n\n    this.addCanvas();\n    this.updateCursor();\n  }\n\n  /**\n   * Update cursor style\n   */\n  updateCursor() {\n    this.style(this.progressWave, {\n      borderRightWidth: this.params.cursorWidth + \"px\",\n      borderRightColor: this.params.cursorColor\n    });\n  }\n\n  /**\n   * Adjust to the updated size by adding or removing canvases\n   */\n  updateSize() {\n    const totalWidth = Math.round(this.width / this.params.pixelRatio);\n    const requiredCanvases = Math.ceil(\n      totalWidth / (this.maxCanvasElementWidth + this.overlap)\n    );\n\n    // add required canvases\n    while (this.canvases.length < requiredCanvases) {\n      this.addCanvas();\n    }\n\n    // remove older existing canvases, if any\n    while (this.canvases.length > requiredCanvases) {\n      this.removeCanvas();\n    }\n\n    let canvasWidth = this.maxCanvasWidth + this.overlap;\n    const lastCanvas = this.canvases.length - 1;\n    this.canvases.forEach((entry, i) => {\n      if (i == lastCanvas) {\n        canvasWidth = this.width - this.maxCanvasWidth * lastCanvas;\n      }\n      this.updateDimensions(entry, canvasWidth, this.height);\n\n      entry.clearWave();\n    });\n  }\n\n  /**\n   * Add a canvas to the canvas list\n   *\n   * @private\n   */\n  addCanvas() {\n    const entry = new this.EntryClass();\n    entry.canvasContextAttributes = this.canvasContextAttributes;\n    entry.hasProgressCanvas = this.hasProgressCanvas;\n    entry.halfPixel = this.halfPixel;\n    const leftOffset = this.maxCanvasElementWidth * this.canvases.length;\n\n    // wave\n    entry.initWave(\n      this.wrapper.appendChild(\n        this.style(document.createElement(\"canvas\"), {\n          position: \"absolute\",\n          zIndex: 2,\n          left: leftOffset + \"px\",\n          top: 0,\n          bottom: 0,\n          height: \"100%\",\n          pointerEvents: \"none\"\n        })\n      )\n    );\n\n    // progress\n    if (this.hasProgressCanvas) {\n      entry.initProgress(\n        this.progressWave.appendChild(\n          this.style(document.createElement(\"canvas\"), {\n            position: \"absolute\",\n            left: leftOffset + \"px\",\n            top: 0,\n            bottom: 0,\n            height: \"100%\"\n          })\n        )\n      );\n    }\n\n    this.canvases.push(entry);\n  }\n\n  /**\n   * Pop single canvas from the list\n   *\n   * @private\n   */\n  removeCanvas() {\n    let lastEntry = this.canvases[this.canvases.length - 1];\n\n    // wave\n    lastEntry.wave.parentElement.removeChild(lastEntry.wave);\n\n    // progress\n    if (this.hasProgressCanvas) {\n      lastEntry.progress.parentElement.removeChild(lastEntry.progress);\n    }\n\n    // cleanup\n    if (lastEntry) {\n      lastEntry.destroy();\n      lastEntry = null;\n    }\n\n    this.canvases.pop();\n  }\n\n  /**\n   * Update the dimensions of a canvas element\n   *\n   * @private\n   * @param {CanvasEntry} entry Target entry\n   * @param {number} width The new width of the element\n   * @param {number} height The new height of the element\n   */\n  updateDimensions(entry, width, height) {\n    const elementWidth = Math.round(width / this.params.pixelRatio);\n    const totalWidth = Math.round(this.width / this.params.pixelRatio);\n\n    // update canvas dimensions\n    entry.updateDimensions(elementWidth, totalWidth, width, height);\n\n    // style element\n    this.style(this.progressWave, { display: \"block\" });\n  }\n\n  /**\n   * Clear the whole multi-canvas\n   */\n  clearWave() {\n    util.frame(() => {\n      this.canvases.forEach(entry => entry.clearWave());\n    })();\n  }\n\n  /**\n   * Draw a waveform with bars\n   *\n   * @param {number[]|Number.<Array[]>} peaks Can also be an array of arrays\n   * for split channel rendering\n   * @param {number} channelIndex The index of the current channel. Normally\n   * should be 0. Must be an integer.\n   * @param {number} start The x-offset of the beginning of the area that\n   * should be rendered\n   * @param {number} end The x-offset of the end of the area that should be\n   * rendered\n   * @returns {void}\n   */\n  drawBars(peaks, channelIndex, start, end) {\n    return this.prepareDraw(\n      peaks,\n      channelIndex,\n      start,\n      end,\n      ({ absmax, hasMinVals, height, offsetY, halfH, peaks }) => {\n        // if drawBars was called within ws.empty we don't pass a start and\n        // don't want anything to happen\n        if (start === undefined) {\n          return;\n        }\n        // Skip every other value if there are negatives.\n        const peakIndexScale = hasMinVals ? 2 : 1;\n        const length = peaks.length / peakIndexScale;\n        const bar = this.params.barWidth * this.params.pixelRatio;\n        const gap =\n          this.params.barGap === null\n            ? Math.max(this.params.pixelRatio, ~~(bar / 2))\n            : Math.max(\n                this.params.pixelRatio,\n                this.params.barGap * this.params.pixelRatio\n              );\n        const step = bar + gap;\n\n        const scale = length / this.width;\n        const first = start;\n        const last = end;\n        let i = first;\n\n        for (i; i < last; i += step) {\n          const peak = peaks[Math.floor(i * scale * peakIndexScale)] || 0;\n          let h = Math.round((peak / absmax) * halfH);\n\n          /* in case of silences, allow the user to specify that we\n           * always draw *something* (normally a 1px high bar) */\n          if (h == 0 && this.params.barMinHeight) h = this.params.barMinHeight;\n\n          this.fillRect(\n            i + this.halfPixel,\n            halfH - h + offsetY,\n            bar + this.halfPixel,\n            h * 2,\n            this.barRadius\n          );\n        }\n      }\n    );\n  }\n\n  /**\n   * Draw a waveform\n   *\n   * @param {number[]|Number.<Array[]>} peaks Can also be an array of arrays\n   * for split channel rendering\n   * @param {number} channelIndex The index of the current channel. Normally\n   * should be 0\n   * @param {number?} start The x-offset of the beginning of the area that\n   * should be rendered (If this isn't set only a flat line is rendered)\n   * @param {number?} end The x-offset of the end of the area that should be\n   * rendered\n   * @returns {void}\n   */\n  drawWave(peaks, channelIndex, start, end) {\n    return this.prepareDraw(\n      peaks,\n      channelIndex,\n      start,\n      end,\n      ({ absmax, hasMinVals, height, offsetY, halfH, peaks }) => {\n        if (!hasMinVals) {\n          const reflectedPeaks = [];\n          const len = peaks.length;\n          let i = 0;\n          for (i; i < len; i++) {\n            reflectedPeaks[2 * i] = peaks[i];\n            reflectedPeaks[2 * i + 1] = -peaks[i];\n          }\n          peaks = reflectedPeaks;\n        }\n\n        // if drawWave was called within ws.empty we don't pass a start and\n        // end and simply want a flat line\n        if (start !== undefined) {\n          this.drawLine(peaks, absmax, halfH, offsetY, start, end);\n        }\n\n        // always draw a median line\n        this.fillRect(\n          0,\n          halfH + offsetY - this.halfPixel,\n          this.width,\n          this.halfPixel,\n          this.barRadius\n        );\n      }\n    );\n  }\n\n  /**\n   * Tell the canvas entries to render their portion of the waveform\n   *\n   * @private\n   * @param {number[]} peaks Peaks data\n   * @param {number} absmax Maximum peak value (absolute)\n   * @param {number} halfH Half the height of the waveform\n   * @param {number} offsetY Offset to the top\n   * @param {number} start The x-offset of the beginning of the area that\n   * should be rendered\n   * @param {number} end The x-offset of the end of the area that\n   * should be rendered\n   */\n  drawLine(peaks, absmax, halfH, offsetY, start, end) {\n    this.canvases.forEach(entry => {\n      this.setFillStyles(entry);\n      entry.drawLines(peaks, absmax, halfH, offsetY, start, end);\n    });\n  }\n\n  /**\n   * Draw a rectangle on the multi-canvas\n   *\n   * @param {number} x X-position of the rectangle\n   * @param {number} y Y-position of the rectangle\n   * @param {number} width Width of the rectangle\n   * @param {number} height Height of the rectangle\n   * @param {number} radius Radius of the rectangle\n   */\n  fillRect(x, y, width, height, radius) {\n    const startCanvas = Math.floor(x / this.maxCanvasWidth);\n    const endCanvas = Math.min(\n      Math.ceil((x + width) / this.maxCanvasWidth) + 1,\n      this.canvases.length\n    );\n    let i = startCanvas;\n    for (i; i < endCanvas; i++) {\n      const entry = this.canvases[i];\n      const leftOffset = i * this.maxCanvasWidth;\n\n      const intersection = {\n        x1: Math.max(x, i * this.maxCanvasWidth),\n        y1: y,\n        x2: Math.min(x + width, i * this.maxCanvasWidth + entry.wave.width),\n        y2: y + height\n      };\n\n      if (intersection.x1 < intersection.x2) {\n        this.setFillStyles(entry);\n\n        entry.fillRects(\n          intersection.x1 - leftOffset,\n          intersection.y1,\n          intersection.x2 - intersection.x1,\n          intersection.y2 - intersection.y1,\n          radius\n        );\n      }\n    }\n  }\n\n  /**\n   * Performs preparation tasks and calculations which are shared by `drawBars`\n   * and `drawWave`\n   *\n   * @private\n   * @param {number[]|Number.<Array[]>} peaks Can also be an array of arrays for\n   * split channel rendering\n   * @param {number} channelIndex The index of the current channel. Normally\n   * should be 0\n   * @param {number?} start The x-offset of the beginning of the area that\n   * should be rendered. If this isn't set only a flat line is rendered\n   * @param {number?} end The x-offset of the end of the area that should be\n   * rendered\n   * @param {function} fn The render function to call, e.g. `drawWave`\n   * @returns {void}\n   */\n  prepareDraw(peaks, channelIndex, start, end, fn) {\n    return util.frame(() => {\n      // Split channels and call this function with the channelIndex set\n      if (peaks[0] instanceof Array) {\n        const channels = peaks;\n        if (this.params.splitChannels) {\n          this.setHeight(\n            channels.length * this.params.height * this.params.pixelRatio\n          );\n          return channels.forEach((channelPeaks, i) =>\n            this.prepareDraw(channelPeaks, i, start, end, fn)\n          );\n        }\n        peaks = channels[0];\n      }\n      // calculate maximum modulation value, either from the barHeight\n      // parameter or if normalize=true from the largest value in the peak\n      // set\n      let absmax = 1 / this.params.barHeight;\n      if (this.params.normalize) {\n        const max = util.max(peaks);\n        const min = util.min(peaks);\n        absmax = -min > max ? -min : max;\n      }\n\n      // Bar wave draws the bottom only as a reflection of the top,\n      // so we don't need negative values\n      const hasMinVals = [].some.call(peaks, val => val < 0);\n      const height = this.params.height * this.params.pixelRatio;\n      const offsetY = height * channelIndex || 0;\n      const halfH = height / 2;\n\n      return fn({\n        absmax: absmax,\n        hasMinVals: hasMinVals,\n        height: height,\n        offsetY: offsetY,\n        halfH: halfH,\n        peaks: peaks\n      });\n    })();\n  }\n\n  /**\n   * Set the fill styles for a certain entry (wave and progress)\n   *\n   * @private\n   * @param {CanvasEntry} entry Target entry\n   */\n  setFillStyles(entry) {\n    entry.setFillStyles(this.params.waveColor, this.params.progressColor);\n  }\n\n  /**\n   * Return image data of the multi-canvas\n   *\n   * When using a `type` of `'blob'`, this will return a `Promise`.\n   *\n   * @param {string} format='image/png' An optional value of a format type.\n   * @param {number} quality=0.92 An optional value between 0 and 1.\n   * @param {string} type='dataURL' Either 'dataURL' or 'blob'.\n   * @return {string|string[]|Promise} When using the default `'dataURL'`\n   * `type` this returns a single data URL or an array of data URLs,\n   * one for each canvas. When using the `'blob'` `type` this returns a\n   * `Promise` that resolves with an array of `Blob` instances, one for each\n   * canvas.\n   */\n  getImage(format, quality, type) {\n    if (type === \"blob\") {\n      return Promise.all(\n        this.canvases.map(entry => {\n          return entry.getImage(format, quality, type);\n        })\n      );\n    } else if (type === \"dataURL\") {\n      let images = this.canvases.map(entry =>\n        entry.getImage(format, quality, type)\n      );\n      return images.length > 1 ? images : images[0];\n    }\n  }\n\n  /**\n   * Render the new progress\n   *\n   * @param {number} position X-offset of progress position in pixels\n   */\n  updateProgress(position) {\n    this.style(this.progressWave, {\n      width: position + \"px\"\n    });\n  }\n}\n","import * as util from \"./util\";\n\n// using constants to prevent someone writing the string wrong\nconst PLAYING = \"playing\";\nconst PAUSED = \"paused\";\nconst FINISHED = \"finished\";\n\n/**\n * WebAudio backend\n *\n * @extends {Observer}\n */\nexport default class WebAudio extends util.Observer {\n  /** scriptBufferSize: size of the processing buffer */\n  static scriptBufferSize = 256;\n  /** audioContext: allows to process audio with WebAudio API */\n  audioContext = null;\n  /** @private */\n  offlineAudioContext = null;\n  /** @private */\n  stateBehaviors = {\n    [PLAYING]: {\n      init() {\n        this.addOnAudioProcess();\n      },\n      getPlayedPercents() {\n        const duration = this.getDuration();\n        return this.getCurrentTime() / duration || 0;\n      },\n      getCurrentTime() {\n        return this.startPosition + this.getPlayedTime();\n      }\n    },\n    [PAUSED]: {\n      init() {\n        this.removeOnAudioProcess();\n      },\n      getPlayedPercents() {\n        const duration = this.getDuration();\n        return this.getCurrentTime() / duration || 0;\n      },\n      getCurrentTime() {\n        return this.startPosition;\n      }\n    },\n    [FINISHED]: {\n      init() {\n        this.removeOnAudioProcess();\n        this.fireEvent(\"finish\");\n      },\n      getPlayedPercents() {\n        return 1;\n      },\n      getCurrentTime() {\n        return this.getDuration();\n      }\n    }\n  };\n\n  /**\n   * Does the browser support this backend\n   *\n   * @return {boolean} Whether or not this browser supports this backend\n   */\n  supportsWebAudio() {\n    return !!(window.AudioContext || window.webkitAudioContext);\n  }\n\n  /**\n   * Get the audio context used by this backend or create one\n   *\n   * @return {AudioContext} Existing audio context, or creates a new one\n   */\n  getAudioContext() {\n    if (!window.WaveSurferAudioContext) {\n      window.WaveSurferAudioContext = new (window.AudioContext ||\n        window.webkitAudioContext)();\n    }\n    return window.WaveSurferAudioContext;\n  }\n\n  /**\n   * Get the offline audio context used by this backend or create one\n   *\n   * @param {number} sampleRate The sample rate to use\n   * @return {OfflineAudioContext} Existing offline audio context, or creates\n   * a new one\n   */\n  getOfflineAudioContext(sampleRate) {\n    if (!window.WaveSurferOfflineAudioContext) {\n      window.WaveSurferOfflineAudioContext = new (window.OfflineAudioContext ||\n        window.webkitOfflineAudioContext)(1, 2, sampleRate);\n    }\n    return window.WaveSurferOfflineAudioContext;\n  }\n\n  /**\n   * Construct the backend\n   *\n   * @param {WavesurferParams} params Wavesurfer parameters\n   */\n  constructor(params) {\n    super();\n    /** @private */\n    this.params = params;\n    /** ac: Audio Context instance */\n    this.ac =\n      params.audioContext ||\n      (this.supportsWebAudio() ? this.getAudioContext() : {});\n    /**@private */\n    this.lastPlay = this.ac.currentTime;\n    /** @private */\n    this.startPosition = 0;\n    /** @private */\n    this.scheduledPause = null;\n    /** @private */\n    this.states = {\n      [PLAYING]: Object.create(this.stateBehaviors[PLAYING]),\n      [PAUSED]: Object.create(this.stateBehaviors[PAUSED]),\n      [FINISHED]: Object.create(this.stateBehaviors[FINISHED])\n    };\n    /** @private */\n    this.buffer = null;\n    /** @private */\n    this.filters = [];\n    /** gainNode: allows to control audio volume */\n    this.gainNode = null;\n    /** @private */\n    this.mergedPeaks = null;\n    /** @private */\n    this.offlineAc = null;\n    /** @private */\n    this.peaks = null;\n    /** @private */\n    this.playbackRate = 1;\n    /** analyser: provides audio analysis information */\n    this.analyser = null;\n    /** scriptNode: allows processing audio */\n    this.scriptNode = null;\n    /** @private */\n    this.source = null;\n    /** @private */\n    this.splitPeaks = [];\n    /** @private */\n    this.state = null;\n    /** @private */\n    this.explicitDuration = params.duration;\n    /**\n     * Boolean indicating if the backend was destroyed.\n     */\n    this.destroyed = false;\n  }\n\n  /**\n   * Initialise the backend, called in `wavesurfer.createBackend()`\n   */\n  init() {\n    this.createVolumeNode();\n    this.createScriptNode();\n    this.createAnalyserNode();\n\n    this.setState(PAUSED);\n    this.setPlaybackRate(this.params.audioRate);\n    this.setLength(0);\n  }\n\n  /** @private */\n  disconnectFilters() {\n    if (this.filters) {\n      this.filters.forEach(filter => {\n        filter && filter.disconnect();\n      });\n      this.filters = null;\n      // Reconnect direct path\n      this.analyser.connect(this.gainNode);\n    }\n  }\n\n  /**\n   * @private\n   *\n   * @param {string} state The new state\n   */\n  setState(state) {\n    if (this.state !== this.states[state]) {\n      this.state = this.states[state];\n      this.state.init.call(this);\n    }\n  }\n\n  /**\n   * Unpacked `setFilters()`\n   *\n   * @param {...AudioNode} filters One or more filters to set\n   */\n  setFilter(...filters) {\n    this.setFilters(filters);\n  }\n\n  /**\n   * Insert custom Web Audio nodes into the graph\n   *\n   * @param {AudioNode[]} filters Packed filters array\n   * @example\n   * const lowpass = wavesurfer.backend.ac.createBiquadFilter();\n   * wavesurfer.backend.setFilter(lowpass);\n   */\n  setFilters(filters) {\n    // Remove existing filters\n    this.disconnectFilters();\n\n    // Insert filters if filter array not empty\n    if (filters && filters.length) {\n      this.filters = filters;\n\n      // Disconnect direct path before inserting filters\n      this.analyser.disconnect();\n\n      // Connect each filter in turn\n      filters\n        .reduce((prev, curr) => {\n          prev.connect(curr);\n          return curr;\n        }, this.analyser)\n        .connect(this.gainNode);\n    }\n  }\n  /** Create ScriptProcessorNode to process audio */\n  createScriptNode() {\n    if (this.params.audioScriptProcessor) {\n      this.scriptNode = this.params.audioScriptProcessor;\n    } else {\n      if (this.ac.createScriptProcessor) {\n        this.scriptNode = this.ac.createScriptProcessor(\n          WebAudio.scriptBufferSize\n        );\n      } else {\n        this.scriptNode = this.ac.createJavaScriptNode(\n          WebAudio.scriptBufferSize\n        );\n      }\n    }\n    this.scriptNode.connect(this.ac.destination);\n  }\n\n  /** @private */\n  addOnAudioProcess() {\n    this.scriptNode.onaudioprocess = () => {\n      const time = this.getCurrentTime();\n\n      if (time >= this.getDuration()) {\n        this.setState(FINISHED);\n        this.fireEvent(\"pause\");\n      } else if (time >= this.scheduledPause) {\n        this.pause();\n      } else if (this.state === this.states[PLAYING]) {\n        this.fireEvent(\"audioprocess\", time);\n      }\n    };\n  }\n\n  /** @private */\n  removeOnAudioProcess() {\n    this.scriptNode.onaudioprocess = () => {};\n  }\n  /** Create analyser node to perform audio analysis */\n  createAnalyserNode() {\n    this.analyser = this.ac.createAnalyser();\n    this.analyser.connect(this.gainNode);\n  }\n\n  /**\n   * Create the gain node needed to control the playback volume.\n   *\n   */\n  createVolumeNode() {\n    // Create gain node using the AudioContext\n    if (this.ac.createGain) {\n      this.gainNode = this.ac.createGain();\n    } else {\n      this.gainNode = this.ac.createGainNode();\n    }\n    // Add the gain node to the graph\n    this.gainNode.connect(this.ac.destination);\n  }\n\n  /**\n   * Set the sink id for the media player\n   *\n   * @param {string} deviceId String value representing audio device id.\n   * @returns {Promise} A Promise that resolves to `undefined` when there\n   * are no errors.\n   */\n  setSinkId(deviceId) {\n    if (deviceId) {\n      /**\n       * The webaudio API doesn't currently support setting the device\n       * output. Here we create an HTMLAudioElement, connect the\n       * webaudio stream to that element and setSinkId there.\n       */\n      let audio = new window.Audio();\n      if (!audio.setSinkId) {\n        return Promise.reject(\n          new Error(\"setSinkId is not supported in your browser\")\n        );\n      }\n      audio.autoplay = true;\n      var dest = this.ac.createMediaStreamDestination();\n      this.gainNode.disconnect();\n      this.gainNode.connect(dest);\n      audio.srcObject = dest.stream;\n\n      return audio.setSinkId(deviceId);\n    } else {\n      return Promise.reject(new Error(\"Invalid deviceId: \" + deviceId));\n    }\n  }\n\n  /**\n   * Set the audio volume\n   *\n   * @param {number} value A floating point value between 0 and 1.\n   */\n  setVolume(value) {\n    this.gainNode.gain.setValueAtTime(value, this.ac.currentTime);\n  }\n\n  /**\n   * Get the current volume\n   *\n   * @return {number} value A floating point value between 0 and 1.\n   */\n  getVolume() {\n    return this.gainNode.gain.value;\n  }\n\n  /**\n   * Decode an array buffer and pass data to a callback\n   *\n   * @private\n   * @param {ArrayBuffer} arraybuffer The array buffer to decode\n   * @param {function} callback The function to call on complete.\n   * @param {function} errback The function to call on error.\n   */\n  decodeArrayBuffer(arraybuffer, callback, errback) {\n    if (!this.offlineAc) {\n      this.offlineAc = this.getOfflineAudioContext(\n        this.ac && this.ac.sampleRate ? this.ac.sampleRate : 44100\n      );\n    }\n    this.offlineAc.decodeAudioData(\n      arraybuffer,\n      data => callback(data),\n      errback\n    );\n  }\n\n  /**\n   * Set pre-decoded peaks\n   *\n   * @param {number[]|Number.<Array[]>} peaks Peaks data\n   * @param {?number} duration Explicit duration\n   */\n  setPeaks(peaks, duration) {\n    if (duration != null) {\n      this.explicitDuration = duration;\n    }\n    this.peaks = peaks;\n  }\n\n  /**\n   * Set the rendered length (different from the length of the audio)\n   *\n   * @param {number} length The rendered length\n   */\n  setLength(length) {\n    // No resize, we can preserve the cached peaks.\n    if (this.mergedPeaks && length == 2 * this.mergedPeaks.length - 1 + 2) {\n      return;\n    }\n\n    this.splitPeaks = [];\n    this.mergedPeaks = [];\n    // Set the last element of the sparse array so the peak arrays are\n    // appropriately sized for other calculations.\n    const channels = this.buffer ? this.buffer.numberOfChannels : 1;\n    let c;\n    for (c = 0; c < channels; c++) {\n      this.splitPeaks[c] = [];\n      this.splitPeaks[c][2 * (length - 1)] = 0;\n      this.splitPeaks[c][2 * (length - 1) + 1] = 0;\n    }\n    this.mergedPeaks[2 * (length - 1)] = 0;\n    this.mergedPeaks[2 * (length - 1) + 1] = 0;\n  }\n\n  /**\n   * Compute the max and min value of the waveform when broken into <length> subranges.\n   *\n   * @param {number} length How many subranges to break the waveform into.\n   * @param {number} first First sample in the required range.\n   * @param {number} last Last sample in the required range.\n   * @return {number[]|Number.<Array[]>} Array of 2*<length> peaks or array of arrays of\n   * peaks consisting of (max, min) values for each subrange.\n   */\n  getPeaks(length, first, last) {\n    if (this.peaks) {\n      return this.peaks;\n    }\n    if (!this.buffer) {\n      return [];\n    }\n\n    first = first || 0;\n    last = last || length - 1;\n\n    this.setLength(length);\n\n    if (!this.buffer) {\n      return this.params.splitChannels ? this.splitPeaks : this.mergedPeaks;\n    }\n\n    /**\n     * The following snippet fixes a buffering data issue on the Safari\n     * browser which returned undefined It creates the missing buffer based\n     * on 1 channel, 4096 samples and the sampleRate from the current\n     * webaudio context 4096 samples seemed to be the best fit for rendering\n     * will review this code once a stable version of Safari TP is out\n     */\n    if (!this.buffer.length) {\n      const newBuffer = this.createBuffer(1, 4096, this.sampleRate);\n      this.buffer = newBuffer.buffer;\n    }\n\n    const sampleSize = this.buffer.length / length;\n    const sampleStep = ~~(sampleSize / 10) || 1;\n    const channels = this.buffer.numberOfChannels;\n    let c;\n\n    for (c = 0; c < channels; c++) {\n      const peaks = this.splitPeaks[c];\n      const chan = this.buffer.getChannelData(c);\n      let i;\n\n      for (i = first; i <= last; i++) {\n        const start = ~~(i * sampleSize);\n        const end = ~~(start + sampleSize);\n        let min = 0;\n        let max = 0;\n        let j;\n\n        for (j = start; j < end; j += sampleStep) {\n          const value = chan[j];\n\n          if (value > max) {\n            max = value;\n          }\n\n          if (value < min) {\n            min = value;\n          }\n        }\n\n        peaks[2 * i] = max;\n        peaks[2 * i + 1] = min;\n\n        if (c == 0 || max > this.mergedPeaks[2 * i]) {\n          this.mergedPeaks[2 * i] = max;\n        }\n\n        if (c == 0 || min < this.mergedPeaks[2 * i + 1]) {\n          this.mergedPeaks[2 * i + 1] = min;\n        }\n      }\n    }\n\n    return this.params.splitChannels ? this.splitPeaks : this.mergedPeaks;\n  }\n\n  /**\n   * Get the position from 0 to 1\n   *\n   * @return {number} Position\n   */\n  getPlayedPercents() {\n    return this.state.getPlayedPercents.call(this);\n  }\n\n  /** @private */\n  disconnectSource() {\n    if (this.source) {\n      this.source.disconnect();\n    }\n  }\n  /**\n   * Destroy all references with WebAudio, disconnecting audio nodes and closing Audio Context\n   */\n  destroyWebAudio() {\n    this.disconnectFilters();\n    this.disconnectSource();\n    this.gainNode.disconnect();\n    this.scriptNode.disconnect();\n    this.analyser.disconnect();\n\n    // close the audioContext if closeAudioContext option is set to true\n    if (this.params.closeAudioContext) {\n      // check if browser supports AudioContext.close()\n      if (typeof this.ac.close === \"function\" && this.ac.state != \"closed\") {\n        this.ac.close();\n      }\n      // clear the reference to the audiocontext\n      this.ac = null;\n      // clear the actual audiocontext, either passed as param or the\n      // global singleton\n      if (!this.params.audioContext) {\n        window.WaveSurferAudioContext = null;\n      } else {\n        this.params.audioContext = null;\n      }\n      // clear the offlineAudioContext\n      window.WaveSurferOfflineAudioContext = null;\n    }\n  }\n  /**\n   * This is called when wavesurfer is destroyed\n   */\n  destroy() {\n    if (!this.isPaused()) {\n      this.pause();\n    }\n    this.unAll();\n    this.buffer = null;\n    this.destroyed = true;\n\n    this.destroyWebAudio();\n  }\n\n  /**\n   * Loaded a decoded audio buffer\n   *\n   * @param {Object} buffer Decoded audio buffer to load\n   */\n  load(buffer) {\n    this.startPosition = 0;\n    this.lastPlay = this.ac.currentTime;\n    this.buffer = buffer;\n    this.createSource();\n  }\n\n  /** @private */\n  createSource() {\n    this.disconnectSource();\n    this.source = this.ac.createBufferSource();\n\n    // adjust for old browsers\n    this.source.start = this.source.start || this.source.noteGrainOn;\n    this.source.stop = this.source.stop || this.source.noteOff;\n\n    this.source.playbackRate.setValueAtTime(\n      this.playbackRate,\n      this.ac.currentTime\n    );\n    this.source.buffer = this.buffer;\n    this.source.connect(this.analyser);\n  }\n\n  /**\n   * Used by `wavesurfer.isPlaying()` and `wavesurfer.playPause()`\n   *\n   * @return {boolean} Whether or not this backend is currently paused\n   */\n  isPaused() {\n    return this.state !== this.states[PLAYING];\n  }\n\n  /**\n   * Used by `wavesurfer.getDuration()`\n   *\n   * @return {number} Duration of loaded buffer\n   */\n  getDuration() {\n    if (this.explicitDuration) {\n      return this.explicitDuration;\n    }\n    if (!this.buffer) {\n      return 0;\n    }\n    return this.buffer.duration;\n  }\n\n  /**\n   * Used by `wavesurfer.seekTo()`\n   *\n   * @param {number} start Position to start at in seconds\n   * @param {number} end Position to end at in seconds\n   * @return {{start: number, end: number}} Object containing start and end\n   * positions\n   */\n  seekTo(start, end) {\n    if (!this.buffer) {\n      return;\n    }\n\n    this.scheduledPause = null;\n\n    if (start == null) {\n      start = this.getCurrentTime();\n      if (start >= this.getDuration()) {\n        start = 0;\n      }\n    }\n    if (end == null) {\n      end = this.getDuration();\n    }\n\n    this.startPosition = start;\n    this.lastPlay = this.ac.currentTime;\n\n    if (this.state === this.states[FINISHED]) {\n      this.setState(PAUSED);\n    }\n\n    return {\n      start: start,\n      end: end\n    };\n  }\n\n  /**\n   * Get the playback position in seconds\n   *\n   * @return {number} The playback position in seconds\n   */\n  getPlayedTime() {\n    return (this.ac.currentTime - this.lastPlay) * this.playbackRate;\n  }\n\n  /**\n   * Plays the loaded audio region.\n   *\n   * @param {number} start Start offset in seconds, relative to the beginning\n   * of a clip.\n   * @param {number} end When to stop relative to the beginning of a clip.\n   */\n  play(start, end) {\n    if (!this.buffer) {\n      return;\n    }\n\n    // need to re-create source on each playback\n    this.createSource();\n\n    const adjustedTime = this.seekTo(start, end);\n\n    start = adjustedTime.start;\n    end = adjustedTime.end;\n\n    this.scheduledPause = end;\n\n    this.source.start(0, start);\n\n    if (this.ac.state == \"suspended\") {\n      this.ac.resume && this.ac.resume();\n    }\n\n    this.setState(PLAYING);\n\n    this.fireEvent(\"play\");\n  }\n\n  /**\n   * Pauses the loaded audio.\n   */\n  pause() {\n    this.scheduledPause = null;\n\n    this.startPosition += this.getPlayedTime();\n    this.source && this.source.stop(0);\n\n    this.setState(PAUSED);\n\n    this.fireEvent(\"pause\");\n  }\n\n  /**\n   * Returns the current time in seconds relative to the audio-clip's\n   * duration.\n   *\n   * @return {number} The current time in seconds\n   */\n  getCurrentTime() {\n    return this.state.getCurrentTime.call(this);\n  }\n\n  /**\n   * Returns the current playback rate. (0=no playback, 1=normal playback)\n   *\n   * @return {number} The current playback rate\n   */\n  getPlaybackRate() {\n    return this.playbackRate;\n  }\n\n  /**\n   * Set the audio source playback rate.\n   *\n   * @param {number} value The playback rate to use\n   */\n  setPlaybackRate(value) {\n    value = value || 1;\n    if (this.isPaused()) {\n      this.playbackRate = value;\n    } else {\n      this.pause();\n      this.playbackRate = value;\n      this.play();\n    }\n  }\n\n  /**\n   * Set a point in seconds for playback to stop at.\n   *\n   * @param {number} end Position to end at\n   * @version 3.3.0\n   */\n  setPlayEnd(end) {\n    this.scheduledPause = end;\n  }\n}\n","/* eslint no-unused-vars: 0 */\nimport WebAudio from \"./webaudio\";\nimport * as util from \"./util\";\n\n/**\n * MediaElement backend\n */\nexport default class MediaElement extends WebAudio {\n  /**\n   * Construct the backend\n   *\n   * @param {WavesurferParams} params Wavesurfer parameters\n   */\n  constructor(params) {\n    super(params);\n    /** @private */\n    this.params = params;\n\n    /**\n     * Initially a dummy media element to catch errors. Once `_load` is\n     * called, this will contain the actual `HTMLMediaElement`.\n     * @private\n     */\n    this.media = {\n      currentTime: 0,\n      duration: 0,\n      paused: true,\n      playbackRate: 1,\n      play() {},\n      pause() {},\n      volume: 0\n    };\n\n    /** @private */\n    this.mediaType = params.mediaType.toLowerCase();\n    /** @private */\n    this.elementPosition = params.elementPosition;\n    /** @private */\n    this.peaks = null;\n    /** @private */\n    this.playbackRate = 1;\n    /** @private */\n    this.volume = 1;\n    /** @private */\n    this.isMuted = false;\n    /** @private */\n    this.buffer = null;\n    /** @private */\n    this.onPlayEnd = null;\n    /** @private */\n    this.mediaListeners = {};\n  }\n\n  /**\n   * Initialise the backend, called in `wavesurfer.createBackend()`\n   */\n  init() {\n    this.createVolumeNode();\n    this.createScriptNode();\n    this.createAnalyserNode();\n\n    this.setPlaybackRate(this.params.audioRate);\n    this.createTimer();\n  }\n\n  /**\n   * Attach event listeners to media element.\n   */\n  _setupMediaListeners() {\n    this.mediaListeners.error = () => {\n      this.fireEvent(\"error\", \"Error loading media element\");\n    };\n    this.mediaListeners.canplay = () => {\n      this.fireEvent(\"canplay\");\n    };\n    this.mediaListeners.ended = () => {\n      this.fireEvent(\"finish\");\n    };\n    // listen to and relay play, pause and seeked events to enable\n    // playback control from the external media element\n    this.mediaListeners.play = () => {\n      this.fireEvent(\"play\");\n    };\n    this.mediaListeners.pause = () => {\n      this.fireEvent(\"pause\");\n    };\n    this.mediaListeners.seeked = event => {\n      this.fireEvent(\"seek\");\n    };\n    this.mediaListeners.volumechange = event => {\n      this.isMuted = this.media.muted;\n      if (this.isMuted) {\n        this.volume = 0;\n      } else {\n        this.volume = this.media.volume;\n      }\n      this.fireEvent(\"volume\");\n    };\n\n    // reset event listeners\n    Object.keys(this.mediaListeners).forEach(id => {\n      this.media.removeEventListener(id, this.mediaListeners[id]);\n      this.media.addEventListener(id, this.mediaListeners[id]);\n    });\n  }\n\n  /**\n   * Create a timer to provide a more precise `audioprocess` event.\n   */\n  createTimer() {\n    const onAudioProcess = () => {\n      if (this.isPaused()) {\n        return;\n      }\n      this.fireEvent(\"audioprocess\", this.getCurrentTime());\n\n      // Call again in the next frame\n      util.frame(onAudioProcess)();\n    };\n\n    this.on(\"play\", onAudioProcess);\n\n    // Update the progress one more time to prevent it from being stuck in\n    // case of lower framerates\n    this.on(\"pause\", () => {\n      this.fireEvent(\"audioprocess\", this.getCurrentTime());\n    });\n  }\n\n  /**\n   * Create media element with url as its source,\n   * and append to container element.\n   *\n   * @param {string} url Path to media file\n   * @param {HTMLElement} container HTML element\n   * @param {number[]|Number.<Array[]>} peaks Array of peak data\n   * @param {string} preload HTML 5 preload attribute value\n   * @throws Will throw an error if the `url` argument is not a valid media\n   * element.\n   */\n  load(url, container, peaks, preload) {\n    const media = document.createElement(this.mediaType);\n    media.controls = this.params.mediaControls;\n    media.autoplay = this.params.autoplay || false;\n    media.preload = preload == null ? \"auto\" : preload;\n    media.src = url;\n    media.style.width = \"100%\";\n\n    const prevMedia = container.querySelector(this.mediaType);\n    if (prevMedia) {\n      container.removeChild(prevMedia);\n    }\n    container.appendChild(media);\n\n    this._load(media, peaks);\n  }\n\n  /**\n   * Load existing media element.\n   *\n   * @param {HTMLMediaElement} elt HTML5 Audio or Video element\n   * @param {number[]|Number.<Array[]>} peaks Array of peak data\n   */\n  loadElt(elt, peaks) {\n    elt.controls = this.params.mediaControls;\n    elt.autoplay = this.params.autoplay || false;\n\n    this._load(elt, peaks);\n  }\n\n  /**\n   * Method called by both `load` (from url)\n   * and `loadElt` (existing media element) methods.\n   *\n   * @param {HTMLMediaElement} media HTML5 Audio or Video element\n   * @param {number[]|Number.<Array[]>} peaks Array of peak data\n   * @throws Will throw an error if the `media` argument is not a valid media\n   * element.\n   * @private\n   */\n  _load(media, peaks) {\n    // verify media element is valid\n    if (\n      !(media instanceof HTMLMediaElement) ||\n      typeof media.addEventListener === \"undefined\"\n    ) {\n      throw new Error(\"media parameter is not a valid media element\");\n    }\n\n    // load must be called manually on iOS, otherwise peaks won't draw\n    // until a user interaction triggers load --> 'ready' event\n    if (typeof media.load == \"function\") {\n      // Resets the media element and restarts the media resource. Any\n      // pending events are discarded. How much media data is fetched is\n      // still affected by the preload attribute.\n      media.load();\n    }\n\n    this.media = media;\n    this._setupMediaListeners();\n    this.peaks = peaks;\n    this.onPlayEnd = null;\n    this.buffer = null;\n    this.isMuted = media.muted;\n    this.setPlaybackRate(this.playbackRate);\n    this.setVolume(this.volume);\n  }\n\n  /**\n   * Used by `wavesurfer.isPlaying()` and `wavesurfer.playPause()`\n   *\n   * @return {boolean} Media paused or not\n   */\n  isPaused() {\n    return !this.media || this.media.paused;\n  }\n\n  /**\n   * Used by `wavesurfer.getDuration()`\n   *\n   * @return {number} Duration\n   */\n  getDuration() {\n    if (this.explicitDuration) {\n      return this.explicitDuration;\n    }\n    let duration = (this.buffer || this.media).duration;\n    if (duration >= Infinity) {\n      // streaming audio\n      duration = this.media.seekable.end(0);\n    }\n    return duration;\n  }\n\n  /**\n   * Returns the current time in seconds relative to the audio-clip's\n   * duration.\n   *\n   * @return {number} Current time\n   */\n  getCurrentTime() {\n    return this.media && this.media.currentTime;\n  }\n\n  /**\n   * Get the position from 0 to 1\n   *\n   * @return {number} Current position\n   */\n  getPlayedPercents() {\n    return this.getCurrentTime() / this.getDuration() || 0;\n  }\n\n  /**\n   * Get the audio source playback rate.\n   *\n   * @return {number} Playback rate\n   */\n  getPlaybackRate() {\n    return this.playbackRate || this.media.playbackRate;\n  }\n\n  /**\n   * Set the audio source playback rate.\n   *\n   * @param {number} value Playback rate\n   */\n  setPlaybackRate(value) {\n    this.playbackRate = value || 1;\n    this.media.playbackRate = this.playbackRate;\n  }\n\n  /**\n   * Used by `wavesurfer.seekTo()`\n   *\n   * @param {number} start Position to start at in seconds\n   */\n  seekTo(start) {\n    if (start != null) {\n      this.media.currentTime = start;\n    }\n    this.clearPlayEnd();\n  }\n\n  /**\n   * Plays the loaded audio region.\n   *\n   * @param {number} start Start offset in seconds, relative to the beginning\n   * of a clip.\n   * @param {number} end When to stop, relative to the beginning of a clip.\n   * @emits MediaElement#play\n   * @return {Promise} Result\n   */\n  play(start, end) {\n    this.seekTo(start);\n    const promise = this.media.play();\n    end && this.setPlayEnd(end);\n\n    return promise;\n  }\n\n  /**\n   * Pauses the loaded audio.\n   *\n   * @emits MediaElement#pause\n   * @return {Promise} Result\n   */\n  pause() {\n    let promise;\n\n    if (this.media) {\n      promise = this.media.pause();\n    }\n    this.clearPlayEnd();\n\n    return promise;\n  }\n\n  /**\n   * Set the play end\n   *\n   * @param {number} end Where to end\n   */\n  setPlayEnd(end) {\n    this.clearPlayEnd();\n\n    this._onPlayEnd = time => {\n      if (time >= end) {\n        this.pause();\n        this.seekTo(end);\n      }\n    };\n    this.on(\"audioprocess\", this._onPlayEnd);\n  }\n\n  /** @private */\n  clearPlayEnd() {\n    if (this._onPlayEnd) {\n      this.un(\"audioprocess\", this._onPlayEnd);\n      this._onPlayEnd = null;\n    }\n  }\n\n  /**\n   * Compute the max and min value of the waveform when broken into\n   * <length> subranges.\n   *\n   * @param {number} length How many subranges to break the waveform into.\n   * @param {number} first First sample in the required range.\n   * @param {number} last Last sample in the required range.\n   * @return {number[]|Number.<Array[]>} Array of 2*<length> peaks or array of\n   * arrays of peaks consisting of (max, min) values for each subrange.\n   */\n  getPeaks(length, first, last) {\n    if (this.buffer) {\n      return super.getPeaks(length, first, last);\n    }\n    return this.peaks || [];\n  }\n\n  /**\n   * Set the sink id for the media player\n   *\n   * @param {string} deviceId String value representing audio device id.\n   * @returns {Promise} A Promise that resolves to `undefined` when there\n   * are no errors.\n   */\n  setSinkId(deviceId) {\n    if (deviceId) {\n      if (!this.media.setSinkId) {\n        return Promise.reject(\n          new Error(\"setSinkId is not supported in your browser\")\n        );\n      }\n      return this.media.setSinkId(deviceId);\n    }\n\n    return Promise.reject(new Error(\"Invalid deviceId: \" + deviceId));\n  }\n\n  /**\n   * Get the current volume\n   *\n   * @return {number} value A floating point value between 0 and 1.\n   */\n  getVolume() {\n    return this.volume;\n  }\n\n  /**\n   * Set the audio volume\n   *\n   * @param {number} value A floating point value between 0 and 1.\n   */\n  setVolume(value) {\n    this.volume = value;\n    // no need to change when it's already at that volume\n    if (this.media.volume !== this.volume) {\n      this.media.volume = this.volume;\n    }\n  }\n\n  /**\n   * This is called when wavesurfer is destroyed\n   *\n   */\n  destroy() {\n    this.pause();\n    this.unAll();\n    this.destroyed = true;\n\n    // cleanup media event listeners\n    Object.keys(this.mediaListeners).forEach(id => {\n      if (this.media) {\n        this.media.removeEventListener(id, this.mediaListeners[id]);\n      }\n    });\n\n    if (\n      this.params.removeMediaElementOnDestroy &&\n      this.media &&\n      this.media.parentNode\n    ) {\n      this.media.parentNode.removeChild(this.media);\n    }\n\n    this.media = null;\n  }\n}\n","/**\n * Caches the decoded peaks data to improve rendering speed for large audio\n *\n * Is used if the option parameter `partialRender` is set to `true`\n */\nexport default class PeakCache {\n  /**\n   * Instantiate cache\n   */\n  constructor() {\n    this.clearPeakCache();\n  }\n\n  /**\n   * Empty the cache\n   */\n  clearPeakCache() {\n    /**\n     * Flat array with entries that are always in pairs to mark the\n     * beginning and end of each subrange.  This is a convenience so we can\n     * iterate over the pairs for easy set difference operations.\n     * @private\n     */\n    this.peakCacheRanges = [];\n    /**\n     * Length of the entire cachable region, used for resetting the cache\n     * when this changes (zoom events, for instance).\n     * @private\n     */\n    this.peakCacheLength = -1;\n  }\n\n  /**\n   * Add a range of peaks to the cache\n   *\n   * @param {number} length The length of the range\n   * @param {number} start The x offset of the start of the range\n   * @param {number} end The x offset of the end of the range\n   * @return {Number.<Array[]>} Array with arrays of numbers\n   */\n  addRangeToPeakCache(length, start, end) {\n    if (length != this.peakCacheLength) {\n      this.clearPeakCache();\n      this.peakCacheLength = length;\n    }\n\n    // Return ranges that weren't in the cache before the call.\n    let uncachedRanges = [];\n    let i = 0;\n    // Skip ranges before the current start.\n    while (i < this.peakCacheRanges.length && this.peakCacheRanges[i] < start) {\n      i++;\n    }\n    // If |i| is even, |start| falls after an existing range.  Otherwise,\n    // |start| falls between an existing range, and the uncached region\n    // starts when we encounter the next node in |peakCacheRanges| or\n    // |end|, whichever comes first.\n    if (i % 2 == 0) {\n      uncachedRanges.push(start);\n    }\n    while (i < this.peakCacheRanges.length && this.peakCacheRanges[i] <= end) {\n      uncachedRanges.push(this.peakCacheRanges[i]);\n      i++;\n    }\n    // If |i| is even, |end| is after all existing ranges.\n    if (i % 2 == 0) {\n      uncachedRanges.push(end);\n    }\n\n    // Filter out the 0-length ranges.\n    uncachedRanges = uncachedRanges.filter((item, pos, arr) => {\n      if (pos == 0) {\n        return item != arr[pos + 1];\n      } else if (pos == arr.length - 1) {\n        return item != arr[pos - 1];\n      }\n      return item != arr[pos - 1] && item != arr[pos + 1];\n    });\n\n    // Merge the two ranges together, uncachedRanges will either contain\n    // wholly new points, or duplicates of points in peakCacheRanges.  If\n    // duplicates are detected, remove both and extend the range.\n    this.peakCacheRanges = this.peakCacheRanges.concat(uncachedRanges);\n    this.peakCacheRanges = this.peakCacheRanges\n      .sort((a, b) => a - b)\n      .filter((item, pos, arr) => {\n        if (pos == 0) {\n          return item != arr[pos + 1];\n        } else if (pos == arr.length - 1) {\n          return item != arr[pos - 1];\n        }\n        return item != arr[pos - 1] && item != arr[pos + 1];\n      });\n\n    // Push the uncached ranges into an array of arrays for ease of\n    // iteration in the functions that call this.\n    const uncachedRangePairs = [];\n    for (i = 0; i < uncachedRanges.length; i += 2) {\n      uncachedRangePairs.push([uncachedRanges[i], uncachedRanges[i + 1]]);\n    }\n\n    return uncachedRangePairs;\n  }\n\n  /**\n   * For testing\n   *\n   * @return {Number.<Array[]>} Array with arrays of numbers\n   */\n  getCacheRanges() {\n    const peakCacheRangePairs = [];\n    let i;\n    for (i = 0; i < this.peakCacheRanges.length; i += 2) {\n      peakCacheRangePairs.push([\n        this.peakCacheRanges[i],\n        this.peakCacheRanges[i + 1]\n      ]);\n    }\n    return peakCacheRangePairs;\n  }\n}\n","import MediaElement from \"./mediaelement\";\n\n/**\n * MediaElementWebAudio backend: allows to load audio as HTML5 audio tag and use it with WebAudio API.\n * Setting the MediaElementWebAudio backend, there is the possibility to load audio of big dimensions, using the WebAudio API features.\n * The audio to load is an HTML5 audio tag, so you have to use the same methods of MediaElement backend for loading and playback.\n * In this way, the audio resource is not loaded entirely from server, but in ranges, since you load an HTML5 audio tag.\n * In this way, filters and other functionalities can be performed like with WebAudio backend, but without decoding\n * internally audio data, that caused crashing of the browser. You have to give also peaks, so the audio data are not decoded.\n *\n * @since 3.2.0\n */\nexport default class MediaElementWebAudio extends MediaElement {\n  /**\n   * Construct the backend\n   *\n   * @param {WavesurferParams} params Wavesurfer parameters\n   */\n  constructor(params) {\n    super(params);\n    /** @private */\n    this.params = params;\n    /** @private */\n    this.sourceMediaElement = null;\n  }\n\n  /**\n   * Initialise the backend, called in `wavesurfer.createBackend()`\n   */\n  init() {\n    this.setPlaybackRate(this.params.audioRate);\n    this.createTimer();\n    this.createVolumeNode();\n    this.createScriptNode();\n    this.createAnalyserNode();\n  }\n  /**\n   * Private method called by both `load` (from url)\n   * and `loadElt` (existing media element) methods.\n   *\n   * @param {HTMLMediaElement} media HTML5 Audio or Video element\n   * @param {number[]|Number.<Array[]>} peaks Array of peak data\n   * @private\n   */\n  _load(media, peaks) {\n    super._load(media, peaks);\n    this.createMediaElementSource(media);\n  }\n\n  /**\n   * Create MediaElementSource node\n   *\n   * @since 3.2.0\n   * @param {HTMLMediaElement} mediaElement HTML5 Audio to load\n   */\n  createMediaElementSource(mediaElement) {\n    this.sourceMediaElement = this.ac.createMediaElementSource(mediaElement);\n    this.sourceMediaElement.connect(this.analyser);\n  }\n\n  /**\n   * This is called when wavesurfer is destroyed\n   *\n   */\n  destroy() {\n    super.destroy();\n\n    this.destroyWebAudio();\n  }\n}\n","/* eslint no-unused-vars: 0 */\nimport * as util from \"./util\";\nimport MultiCanvas from \"./drawer.multicanvas\";\nimport WebAudio from \"./webaudio\";\nimport MediaElement from \"./mediaelement\";\nimport PeakCache from \"./peakcache\";\nimport MediaElementWebAudio from \"./mediaelement-webaudio\";\n\n/*\n * This work is licensed under a BSD-3-Clause License.\n */\n\n/** @external {HTMLElement} https://developer.mozilla.org/en/docs/Web/API/HTMLElement */\n/** @external {OfflineAudioContext} https://developer.mozilla.org/en-US/docs/Web/API/OfflineAudioContext */\n/** @external {File} https://developer.mozilla.org/en-US/docs/Web/API/File */\n/** @external {Blob} https://developer.mozilla.org/en-US/docs/Web/API/Blob */\n/** @external {CanvasRenderingContext2D} https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D */\n/** @external {MediaStreamConstraints} https://developer.mozilla.org/en-US/docs/Web/API/MediaStreamConstraints */\n/** @external {AudioNode} https://developer.mozilla.org/de/docs/Web/API/AudioNode */\n\n/**\n * @typedef {Object} WavesurferParams\n * @property {AudioContext} audioContext=null Use your own previously\n * initialized AudioContext or leave blank.\n * @property {number} audioRate=1 Speed at which to play audio. Lower number is\n * slower.\n * @property {ScriptProcessorNode} audioScriptProcessor=null Use your own previously\n * initialized ScriptProcessorNode or leave blank.\n * @property {boolean} autoCenter=true If a scrollbar is present, center the\n * waveform on current progress\n * @property {number} autoCenterRate=5 If autoCenter is active, rate at which the\n * waveform is centered\n * @property {boolean} autoCenterImmediately=false If autoCenter is active, immediately\n * center waveform on current progress\n * @property {string} backend='WebAudio' `'WebAudio'|'MediaElement'|'MediaElementWebAudio'` In most cases\n * you don't have to set this manually. MediaElement is a fallback for unsupported browsers.\n * MediaElementWebAudio allows to use WebAudio API also with big audio files, loading audio like with\n * MediaElement backend (HTML5 audio tag). You have to use the same methods of MediaElement backend for loading and\n * playback, giving also peaks, so the audio data are not decoded. In this way you can use WebAudio features, like filters,\n * also with audio with big duration. For example:\n * ` wavesurfer.load(url | HTMLMediaElement, peaks, preload, duration);\n *   wavesurfer.play();\n *   wavesurfer.setFilter(customFilter);\n * `\n * @property {string} backgroundColor=null Change background color of the\n * waveform container.\n * @property {number} barHeight=1 The height of the wave bars.\n * @property {number} barRadius=0 The radius of the wave bars. Makes bars rounded\n * @property {number} barGap=null The optional spacing between bars of the wave,\n * if not provided will be calculated in legacy format.\n * @property {number} barWidth=null Draw the waveform using bars.\n * @property {number} barMinHeight=null If specified, draw at least a bar of this height,\n * eliminating waveform gaps\n * @property {boolean} closeAudioContext=false Close and nullify all audio\n * contexts when the destroy method is called.\n * @property {!string|HTMLElement} container CSS selector or HTML element where\n * the waveform should be drawn. This is the only required parameter.\n * @property {string} cursorColor='#333' The fill color of the cursor indicating\n * the playhead position.\n * @property {number} cursorWidth=1 Measured in pixels.\n * @property {object} drawingContextAttributes={desynchronized: false} Drawing context\n * attributes.\n * @property {number} duration=null Optional audio length so pre-rendered peaks\n * can be display immediately for example.\n * @property {boolean} fillParent=true Whether to fill the entire container or\n * draw only according to `minPxPerSec`.\n * @property {boolean} forceDecode=false Force decoding of audio using web audio\n * when zooming to get a more detailed waveform.\n * @property {number} height=128 The height of the waveform. Measured in\n * pixels.\n * @property {boolean} hideScrollbar=false Whether to hide the horizontal\n * scrollbar when one would normally be shown.\n * @property {boolean} interact=true Whether the mouse interaction will be\n * enabled at initialization. You can switch this parameter at any time later\n * on.\n * @property {boolean} loopSelection=true (Use with regions plugin) Enable\n * looping of selected regions\n * @property {number} maxCanvasWidth=4000 Maximum width of a single canvas in\n * pixels, excluding a small overlap (2 * `pixelRatio`, rounded up to the next\n * even integer). If the waveform is longer than this value, additional canvases\n * will be used to render the waveform, which is useful for very large waveforms\n * that may be too wide for browsers to draw on a single canvas.\n * @property {boolean} mediaControls=false (Use with backend `MediaElement` or `MediaElementWebAudio`)\n * this enables the native controls for the media element\n * @property {string} mediaType='audio' (Use with backend `MediaElement` or `MediaElementWebAudio`)\n * `'audio'|'video'` ('video' only for `MediaElement`)\n * @property {number} minPxPerSec=20 Minimum number of pixels per second of\n * audio.\n * @property {boolean} normalize=false If true, normalize by the maximum peak\n * instead of 1.0.\n * @property {boolean} partialRender=false Use the PeakCache to improve\n * rendering speed of large waveforms\n * @property {number} pixelRatio=window.devicePixelRatio The pixel ratio used to\n * calculate display\n * @property {PluginDefinition[]} plugins=[] An array of plugin definitions to\n * register during instantiation, they will be directly initialised unless they\n * are added with the `deferInit` property set to true.\n * @property {string} progressColor='#555' The fill color of the part of the\n * waveform behind the cursor. When `progressColor` and `waveColor` are the same\n * the progress wave is not rendered at all.\n * @property {boolean} removeMediaElementOnDestroy=true Set to false to keep the\n * media element in the DOM when the player is destroyed. This is useful when\n * reusing an existing media element via the `loadMediaElement` method.\n * @property {Object} renderer=MultiCanvas Can be used to inject a custom\n * renderer.\n * @property {boolean|number} responsive=false If set to `true` resize the\n * waveform, when the window is resized. This is debounced with a `100ms`\n * timeout by default. If this parameter is a number it represents that timeout.\n * @property {boolean} rtl=false If set to `true`, renders waveform from\n * right-to-left.\n * @property {boolean} scrollParent=false Whether to scroll the container with a\n * lengthy waveform. Otherwise the waveform is shrunk to the container width\n * (see fillParent).\n * @property {number} skipLength=2 Number of seconds to skip with the\n * skipForward() and skipBackward() methods.\n * @property {boolean} splitChannels=false Render with separate waveforms for\n * the channels of the audio\n * @property {string} waveColor='#999' The fill color of the waveform after the\n * cursor.\n * @property {object} xhr={} XHR options. For example:\n * `let xhr = {\n *     cache: 'default',\n *     mode: 'cors',\n *     method: 'GET',\n *     credentials: 'same-origin',\n *     redirect: 'follow',\n *     referrer: 'client',\n *     headers: [\n *         {\n *             key: 'Authorization',\n *             value: 'my-token'\n *         }\n *     ]\n * };`\n */\n\n/**\n * @typedef {Object} PluginDefinition\n * @desc The Object used to describe a plugin\n * @example wavesurfer.addPlugin(pluginDefinition);\n * @property {string} name The name of the plugin, the plugin instance will be\n * added as a property to the wavesurfer instance under this name\n * @property {?Object} staticProps The properties that should be added to the\n * wavesurfer instance as static properties\n * @property {?boolean} deferInit Don't initialise plugin\n * automatically\n * @property {Object} params={} The plugin parameters, they are the first parameter\n * passed to the plugin class constructor function\n * @property {PluginClass} instance The plugin instance factory, is called with\n * the dependency specified in extends. Returns the plugin class.\n */\n\n/**\n * @interface PluginClass\n *\n * @desc This is the interface which is implemented by all plugin classes. Note\n * that this only turns into an observer after being passed through\n * `wavesurfer.addPlugin`.\n *\n * @extends {Observer}\n */\nclass PluginClass {\n  /**\n   * Plugin definition factory\n   *\n   * This function must be used to create a plugin definition which can be\n   * used by wavesurfer to correctly instantiate the plugin.\n   *\n   * It returns a `PluginDefinition` object representing the plugin.\n   *\n   * @param {Object} params={} The plugin params (specific to the plugin)\n   */\n  create(params) {}\n  /**\n   * Construct the plugin\n   *\n   * @param {Object} params={} The plugin params (specific to the plugin)\n   * @param {Object} ws The wavesurfer instance\n   */\n  constructor(params, ws) {}\n  /**\n   * Initialise the plugin\n   *\n   * Start doing something. This is called by\n   * `wavesurfer.initPlugin(pluginName)`\n   */\n  init() {}\n  /**\n   * Destroy the plugin instance\n   *\n   * Stop doing something. This is called by\n   * `wavesurfer.destroyPlugin(pluginName)`\n   */\n  destroy() {}\n}\n\n/**\n * WaveSurfer core library class\n *\n * @extends {Observer}\n * @example\n * const params = {\n *   container: '#waveform',\n *   waveColor: 'violet',\n *   progressColor: 'purple'\n * };\n *\n * // initialise like this\n * const wavesurfer = WaveSurfer.create(params);\n *\n * // or like this ...\n * const wavesurfer = new WaveSurfer(params);\n * wavesurfer.init();\n *\n * // load audio file\n * wavesurfer.load('example/media/demo.wav');\n */\nexport default class WaveSurfer extends util.Observer {\n  /** @private */\n  defaultParams = {\n    audioContext: null,\n    audioScriptProcessor: null,\n    audioRate: 1,\n    autoCenter: true,\n    autoCenterRate: 5,\n    autoCenterImmediately: false,\n    backend: \"WebAudio\",\n    backgroundColor: null,\n    barHeight: 1,\n    barRadius: 0,\n    barGap: null,\n    barMinHeight: null,\n    container: null,\n    cursorColor: \"#333\",\n    cursorWidth: 1,\n    dragSelection: true,\n    drawingContextAttributes: {\n      // Boolean that hints the user agent to reduce the latency\n      // by desynchronizing the canvas paint cycle from the event\n      // loop\n      desynchronized: false\n    },\n    duration: null,\n    fillParent: true,\n    forceDecode: false,\n    height: 128,\n    hideScrollbar: false,\n    interact: true,\n    loopSelection: true,\n    maxCanvasWidth: 4000,\n    mediaContainer: null,\n    mediaControls: false,\n    mediaType: \"audio\",\n    minPxPerSec: 20,\n    normalize: false,\n    partialRender: false,\n    pixelRatio:\n      window.devicePixelRatio || screen.deviceXDPI / screen.logicalXDPI,\n    plugins: [],\n    progressColor: \"#555\",\n    removeMediaElementOnDestroy: true,\n    renderer: MultiCanvas,\n    responsive: false,\n    rtl: false,\n    scrollParent: false,\n    skipLength: 2,\n    splitChannels: false,\n    waveColor: \"#999\",\n    xhr: {}\n  };\n\n  /** @private */\n  backends = {\n    MediaElement,\n    WebAudio,\n    MediaElementWebAudio\n  };\n\n  /**\n   * Instantiate this class, call its `init` function and returns it\n   *\n   * @param {WavesurferParams} params The wavesurfer parameters\n   * @return {Object} WaveSurfer instance\n   * @example const wavesurfer = WaveSurfer.create(params);\n   */\n  static create(params) {\n    const wavesurfer = new WaveSurfer(params);\n    return wavesurfer.init();\n  }\n\n  /**\n   * The library version number is available as a static property of the\n   * WaveSurfer class\n   *\n   * @type {String}\n   * @example\n   * console.log('Using wavesurfer.js ' + WaveSurfer.VERSION);\n   */\n  static VERSION = \"1.0 (fork at 2020-5-7 by qh73xe)\";\n\n  /**\n   * Functions in the `util` property are available as a prototype property to\n   * all instances\n   *\n   * @type {Object}\n   * @example\n   * const wavesurfer = WaveSurfer.create(params);\n   * wavesurfer.util.style(myElement, { background: 'blue' });\n   */\n  util = util;\n\n  /**\n   * Functions in the `util` property are available as a static property of the\n   * WaveSurfer class\n   *\n   * @type {Object}\n   * @example\n   * WaveSurfer.util.style(myElement, { background: 'blue' });\n   */\n  static util = util;\n\n  /**\n   * Initialise wavesurfer instance\n   *\n   * @param {WavesurferParams} params Instantiation options for wavesurfer\n   * @example\n   * const wavesurfer = new WaveSurfer(params);\n   * @returns {this} Wavesurfer instance\n   */\n  constructor(params) {\n    super();\n    /**\n     * Extract relevant parameters (or defaults)\n     * @private\n     */\n    this.params = Object.assign({}, this.defaultParams, params);\n\n    /** @private */\n    this.container =\n      \"string\" == typeof params.container\n        ? document.querySelector(this.params.container)\n        : this.params.container;\n\n    if (!this.container) {\n      throw new Error(\"Container element not found\");\n    }\n\n    if (this.params.mediaContainer == null) {\n      /** @private */\n      this.mediaContainer = this.container;\n    } else if (typeof this.params.mediaContainer == \"string\") {\n      /** @private */\n      this.mediaContainer = document.querySelector(this.params.mediaContainer);\n    } else {\n      /** @private */\n      this.mediaContainer = this.params.mediaContainer;\n    }\n\n    if (!this.mediaContainer) {\n      throw new Error(\"Media Container element not found\");\n    }\n\n    if (this.params.maxCanvasWidth <= 1) {\n      throw new Error(\"maxCanvasWidth must be greater than 1\");\n    } else if (this.params.maxCanvasWidth % 2 == 1) {\n      throw new Error(\"maxCanvasWidth must be an even number\");\n    }\n\n    if (this.params.rtl === true) {\n      util.style(this.container, {\n        transform: \"rotateY(180deg)\"\n      });\n    }\n\n    if (this.params.backgroundColor) {\n      this.setBackgroundColor(this.params.backgroundColor);\n    }\n\n    /**\n     * @private Used to save the current volume when muting so we can\n     * restore once unmuted\n     * @type {number}\n     */\n    this.savedVolume = 0;\n\n    /**\n     * @private The current muted state\n     * @type {boolean}\n     */\n    this.isMuted = false;\n\n    /**\n     * @private Will hold a list of event descriptors that need to be\n     * canceled on subsequent loads of audio\n     * @type {Object[]}\n     */\n    this.tmpEvents = [];\n\n    /**\n     * @private Holds any running audio downloads\n     * @type {Observer}\n     */\n    this.currentRequest = null;\n    /** @private */\n    this.arraybuffer = null;\n    /** @private */\n    this.drawer = null;\n    /** @private */\n    this.backend = null;\n    /** @private */\n    this.peakCache = null;\n\n    // cache constructor objects\n    if (typeof this.params.renderer !== \"function\") {\n      throw new Error(\"Renderer parameter is invalid\");\n    }\n    /**\n     * @private The uninitialised Drawer class\n     */\n    this.Drawer = this.params.renderer;\n    /**\n     * @private The uninitialised Backend class\n     */\n    // Back compat\n    if (this.params.backend == \"AudioElement\") {\n      this.params.backend = \"MediaElement\";\n    }\n\n    if (\n      (this.params.backend == \"WebAudio\" ||\n        this.params.backend === \"MediaElementWebAudio\") &&\n      !WebAudio.prototype.supportsWebAudio.call(null)\n    ) {\n      this.params.backend = \"MediaElement\";\n    }\n    this.Backend = this.backends[this.params.backend];\n\n    /**\n     * @private map of plugin names that are currently initialised\n     */\n    this.initialisedPluginList = {};\n    /** @private */\n    this.isDestroyed = false;\n\n    /**\n     * Get the current ready status.\n     *\n     * @example const isReady = wavesurfer.isReady;\n     * @return {boolean}\n     */\n    this.isReady = false;\n\n    // responsive debounced event listener. If this.params.responsive is not\n    // set, this is never called. Use 100ms or this.params.responsive as\n    // timeout for the debounce function.\n    let prevWidth = 0;\n    this._onResize = util.debounce(\n      () => {\n        if (\n          prevWidth != this.drawer.wrapper.clientWidth &&\n          !this.params.scrollParent\n        ) {\n          prevWidth = this.drawer.wrapper.clientWidth;\n          this.drawer.fireEvent(\"redraw\");\n        }\n      },\n      typeof this.params.responsive === \"number\" ? this.params.responsive : 100\n    );\n\n    return this;\n  }\n\n  /**\n   * Initialise the wave\n   *\n   * @example\n   * var wavesurfer = new WaveSurfer(params);\n   * wavesurfer.init();\n   * @return {this} The wavesurfer instance\n   */\n  init() {\n    this.registerPlugins(this.params.plugins);\n    this.createDrawer();\n    this.createBackend();\n    this.createPeakCache();\n    return this;\n  }\n\n  /**\n   * Add and initialise array of plugins (if `plugin.deferInit` is falsey),\n   * this function is called in the init function of wavesurfer\n   *\n   * @param {PluginDefinition[]} plugins An array of plugin definitions\n   * @emits {WaveSurfer#plugins-registered} Called with the array of plugin definitions\n   * @return {this} The wavesurfer instance\n   */\n  registerPlugins(plugins) {\n    // first instantiate all the plugins\n    plugins.forEach(plugin => this.addPlugin(plugin));\n\n    // now run the init functions\n    plugins.forEach(plugin => {\n      // call init function of the plugin if deferInit is falsey\n      // in that case you would manually use initPlugins()\n      if (!plugin.deferInit) {\n        this.initPlugin(plugin.name);\n      }\n    });\n    this.fireEvent(\"plugins-registered\", plugins);\n    return this;\n  }\n\n  /**\n   * Get a map of plugin names that are currently initialised\n   *\n   * @example wavesurfer.getPlugins();\n   * @return {Object} Object with plugin names\n   */\n  getActivePlugins() {\n    return this.initialisedPluginList;\n  }\n\n  /**\n   * Add a plugin object to wavesurfer\n   *\n   * @param {PluginDefinition} plugin A plugin definition\n   * @emits {WaveSurfer#plugin-added} Called with the name of the plugin that was added\n   * @example wavesurfer.addPlugin(WaveSurfer.minimap());\n   * @return {this} The wavesurfer instance\n   */\n  addPlugin(plugin) {\n    if (!plugin.name) {\n      throw new Error(\"Plugin does not have a name!\");\n    }\n    if (!plugin.instance) {\n      throw new Error(\n        `Plugin ${plugin.name} does not have an instance property!`\n      );\n    }\n\n    // staticProps properties are applied to wavesurfer instance\n    if (plugin.staticProps) {\n      Object.keys(plugin.staticProps).forEach(pluginStaticProp => {\n        /**\n         * Properties defined in a plugin definition's `staticProps` property are added as\n         * staticProps properties of the WaveSurfer instance\n         */\n        this[pluginStaticProp] = plugin.staticProps[pluginStaticProp];\n      });\n    }\n\n    const Instance = plugin.instance;\n\n    // turn the plugin instance into an observer\n    const observerPrototypeKeys = Object.getOwnPropertyNames(\n      util.Observer.prototype\n    );\n    observerPrototypeKeys.forEach(key => {\n      Instance.prototype[key] = util.Observer.prototype[key];\n    });\n\n    /**\n     * Instantiated plugin classes are added as a property of the wavesurfer\n     * instance\n     * @type {Object}\n     */\n    this[plugin.name] = new Instance(plugin.params || {}, this);\n    this.fireEvent(\"plugin-added\", plugin.name);\n    return this;\n  }\n\n  /**\n   * Initialise a plugin\n   *\n   * @param {string} name A plugin name\n   * @emits WaveSurfer#plugin-initialised\n   * @example wavesurfer.initPlugin('minimap');\n   * @return {this} The wavesurfer instance\n   */\n  initPlugin(name) {\n    if (!this[name]) {\n      throw new Error(`Plugin ${name} has not been added yet!`);\n    }\n    if (this.initialisedPluginList[name]) {\n      // destroy any already initialised plugins\n      this.destroyPlugin(name);\n    }\n    this[name].init();\n    this.initialisedPluginList[name] = true;\n    this.fireEvent(\"plugin-initialised\", name);\n    return this;\n  }\n\n  /**\n   * Destroy a plugin\n   *\n   * @param {string} name A plugin name\n   * @emits WaveSurfer#plugin-destroyed\n   * @example wavesurfer.destroyPlugin('minimap');\n   * @returns {this} The wavesurfer instance\n   */\n  destroyPlugin(name) {\n    if (!this[name]) {\n      throw new Error(\n        `Plugin ${name} has not been added yet and cannot be destroyed!`\n      );\n    }\n    if (!this.initialisedPluginList[name]) {\n      throw new Error(`Plugin ${name} is not active and cannot be destroyed!`);\n    }\n    if (typeof this[name].destroy !== \"function\") {\n      throw new Error(`Plugin ${name} does not have a destroy function!`);\n    }\n\n    this[name].destroy();\n    delete this.initialisedPluginList[name];\n    this.fireEvent(\"plugin-destroyed\", name);\n    return this;\n  }\n\n  /**\n   * Destroy all initialised plugins. Convenience function to use when\n   * wavesurfer is removed\n   *\n   * @private\n   */\n  destroyAllPlugins() {\n    Object.keys(this.initialisedPluginList).forEach(name =>\n      this.destroyPlugin(name)\n    );\n  }\n\n  /**\n   * Create the drawer and draw the waveform\n   *\n   * @private\n   * @emits WaveSurfer#drawer-created\n   */\n  createDrawer() {\n    this.drawer = new this.Drawer(this.container, this.params);\n    this.drawer.init();\n    this.fireEvent(\"drawer-created\", this.drawer);\n\n    if (this.params.responsive !== false) {\n      window.addEventListener(\"resize\", this._onResize, true);\n      window.addEventListener(\"orientationchange\", this._onResize, true);\n    }\n\n    this.drawer.on(\"redraw\", () => {\n      this.drawBuffer();\n      this.drawer.progress(this.backend.getPlayedPercents());\n    });\n\n    // Click-to-seek\n    this.drawer.on(\"click\", (e, progress) => {\n      setTimeout(() => this.seekTo(progress), 0);\n    });\n\n    // Relay the scroll event from the drawer\n    this.drawer.on(\"scroll\", e => {\n      if (this.params.partialRender) {\n        this.drawBuffer();\n      }\n      this.fireEvent(\"scroll\", e);\n    });\n  }\n\n  /**\n   * Create the backend\n   *\n   * @private\n   * @emits WaveSurfer#backend-created\n   */\n  createBackend() {\n    if (this.backend) {\n      this.backend.destroy();\n    }\n\n    this.backend = new this.Backend(this.params);\n    this.backend.init();\n    this.fireEvent(\"backend-created\", this.backend);\n\n    this.backend.on(\"finish\", () => {\n      this.drawer.progress(this.backend.getPlayedPercents());\n      this.fireEvent(\"finish\");\n    });\n    this.backend.on(\"play\", () => this.fireEvent(\"play\"));\n    this.backend.on(\"pause\", () => this.fireEvent(\"pause\"));\n\n    this.backend.on(\"audioprocess\", time => {\n      this.drawer.progress(this.backend.getPlayedPercents());\n      this.fireEvent(\"audioprocess\", time);\n    });\n\n    // only needed for MediaElement and MediaElementWebAudio backend\n    if (\n      this.params.backend === \"MediaElement\" ||\n      this.params.backend === \"MediaElementWebAudio\"\n    ) {\n      this.backend.on(\"seek\", () => {\n        this.drawer.progress(this.backend.getPlayedPercents());\n      });\n\n      this.backend.on(\"volume\", () => {\n        let newVolume = this.getVolume();\n        this.fireEvent(\"volume\", newVolume);\n\n        if (this.backend.isMuted !== this.isMuted) {\n          this.isMuted = this.backend.isMuted;\n          this.fireEvent(\"mute\", this.isMuted);\n        }\n      });\n    }\n  }\n\n  /**\n   * Create the peak cache\n   *\n   * @private\n   */\n  createPeakCache() {\n    if (this.params.partialRender) {\n      this.peakCache = new PeakCache();\n    }\n  }\n\n  /**\n   * Get the duration of the audio clip\n   *\n   * @example const duration = wavesurfer.getDuration();\n   * @return {number} Duration in seconds\n   */\n  getDuration() {\n    return this.backend.getDuration();\n  }\n\n  /**\n   * Get the current playback position\n   *\n   * @example const currentTime = wavesurfer.getCurrentTime();\n   * @return {number} Playback position in seconds\n   */\n  getCurrentTime() {\n    return this.backend.getCurrentTime();\n  }\n\n  /**\n   * Set the current play time in seconds.\n   *\n   * @param {number} seconds A positive number in seconds. E.g. 10 means 10\n   * seconds, 60 means 1 minute\n   */\n  setCurrentTime(seconds) {\n    if (seconds >= this.getDuration()) {\n      this.seekTo(1);\n    } else {\n      this.seekTo(seconds / this.getDuration());\n    }\n  }\n\n  /**\n   * Starts playback from the current position. Optional start and end\n   * measured in seconds can be used to set the range of audio to play.\n   *\n   * @param {?number} start Position to start at\n   * @param {?number} end Position to end at\n   * @emits WaveSurfer#interaction\n   * @return {Promise} Result of the backend play method\n   * @example\n   * // play from second 1 to 5\n   * wavesurfer.play(1, 5);\n   */\n  play(start, end) {\n    this.fireEvent(\"interaction\", () => this.play(start, end));\n    return this.backend.play(start, end);\n  }\n\n  /**\n   * Set a point in seconds for playback to stop at.\n   *\n   * @param {number} position Position (in seconds) to stop at\n   * @version 3.3.0\n   */\n  setPlayEnd(position) {\n    this.backend.setPlayEnd(position);\n  }\n\n  /**\n   * Stops and pauses playback\n   *\n   * @example wavesurfer.pause();\n   * @return {Promise} Result of the backend pause method\n   */\n  pause() {\n    if (!this.backend.isPaused()) {\n      return this.backend.pause();\n    }\n  }\n\n  /**\n   * Toggle playback\n   *\n   * @example wavesurfer.playPause();\n   * @return {Promise} Result of the backend play or pause method\n   */\n  playPause() {\n    return this.backend.isPaused() ? this.play() : this.pause();\n  }\n\n  /**\n   * Get the current playback state\n   *\n   * @example const isPlaying = wavesurfer.isPlaying();\n   * @return {boolean} False if paused, true if playing\n   */\n  isPlaying() {\n    return !this.backend.isPaused();\n  }\n\n  /**\n   * Skip backward\n   *\n   * @param {?number} seconds Amount to skip back, if not specified `skipLength`\n   * is used\n   * @example wavesurfer.skipBackward();\n   */\n  skipBackward(seconds) {\n    this.skip(-seconds || -this.params.skipLength);\n  }\n\n  /**\n   * Skip forward\n   *\n   * @param {?number} seconds Amount to skip back, if not specified `skipLength`\n   * is used\n   * @example wavesurfer.skipForward();\n   */\n  skipForward(seconds) {\n    this.skip(seconds || this.params.skipLength);\n  }\n\n  /**\n   * Skip a number of seconds from the current position (use a negative value\n   * to go backwards).\n   *\n   * @param {number} offset Amount to skip back or forwards\n   * @example\n   * // go back 2 seconds\n   * wavesurfer.skip(-2);\n   */\n  skip(offset) {\n    const duration = this.getDuration() || 1;\n    let position = this.getCurrentTime() || 0;\n    position = Math.max(0, Math.min(duration, position + (offset || 0)));\n    this.seekAndCenter(position / duration);\n  }\n\n  /**\n   * Seeks to a position and centers the view\n   *\n   * @param {number} progress Between 0 (=beginning) and 1 (=end)\n   * @example\n   * // seek and go to the middle of the audio\n   * wavesurfer.seekTo(0.5);\n   */\n  seekAndCenter(progress) {\n    this.seekTo(progress);\n    this.drawer.recenter(progress);\n  }\n\n  /**\n   * Seeks to a position\n   *\n   * @param {number} progress Between 0 (=beginning) and 1 (=end)\n   * @emits WaveSurfer#interaction\n   * @emits WaveSurfer#seek\n   * @example\n   * // seek to the middle of the audio\n   * wavesurfer.seekTo(0.5);\n   */\n  seekTo(progress) {\n    // return an error if progress is not a number between 0 and 1\n    if (\n      typeof progress !== \"number\" ||\n      !isFinite(progress) ||\n      progress < 0 ||\n      progress > 1\n    ) {\n      throw new Error(\n        \"Error calling wavesurfer.seekTo, parameter must be a number between 0 and 1!\"\n      );\n    }\n    this.fireEvent(\"interaction\", () => this.seekTo(progress));\n\n    const paused = this.backend.isPaused();\n    // avoid draw wrong position while playing backward seeking\n    if (!paused) {\n      this.backend.pause();\n    }\n    // avoid small scrolls while paused seeking\n    const oldScrollParent = this.params.scrollParent;\n    this.params.scrollParent = false;\n    this.backend.seekTo(progress * this.getDuration());\n    this.drawer.progress(progress);\n\n    if (!paused) {\n      this.backend.play();\n    }\n    this.params.scrollParent = oldScrollParent;\n    this.fireEvent(\"seek\", progress);\n  }\n\n  /**\n   * Stops and goes to the beginning.\n   *\n   * @example wavesurfer.stop();\n   */\n  stop() {\n    this.pause();\n    this.seekTo(0);\n    this.drawer.progress(0);\n  }\n\n  /**\n   * Sets the ID of the audio device to use for output and returns a Promise.\n   *\n   * @param {string} deviceId String value representing underlying output\n   * device\n   * @returns {Promise} `Promise` that resolves to `undefined` when there are\n   * no errors detected.\n   */\n  setSinkId(deviceId) {\n    return this.backend.setSinkId(deviceId);\n  }\n\n  /**\n   * Set the playback volume.\n   *\n   * @param {number} newVolume A value between 0 and 1, 0 being no\n   * volume and 1 being full volume.\n   * @emits WaveSurfer#volume\n   */\n  setVolume(newVolume) {\n    this.backend.setVolume(newVolume);\n    this.fireEvent(\"volume\", newVolume);\n  }\n\n  /**\n   * Get the playback volume.\n   *\n   * @return {number} A value between 0 and 1, 0 being no\n   * volume and 1 being full volume.\n   */\n  getVolume() {\n    return this.backend.getVolume();\n  }\n\n  /**\n   * Set the playback rate.\n   *\n   * @param {number} rate A positive number. E.g. 0.5 means half the normal\n   * speed, 2 means double speed and so on.\n   * @example wavesurfer.setPlaybackRate(2);\n   */\n  setPlaybackRate(rate) {\n    this.backend.setPlaybackRate(rate);\n  }\n\n  /**\n   * Get the playback rate.\n   *\n   * @return {number} The current playback rate.\n   */\n  getPlaybackRate() {\n    return this.backend.getPlaybackRate();\n  }\n\n  /**\n   * Toggle the volume on and off. If not currently muted it will save the\n   * current volume value and turn the volume off. If currently muted then it\n   * will restore the volume to the saved value, and then rest the saved\n   * value.\n   *\n   * @example wavesurfer.toggleMute();\n   */\n  toggleMute() {\n    this.setMute(!this.isMuted);\n  }\n\n  /**\n   * Enable or disable muted audio\n   *\n   * @param {boolean} mute Specify `true` to mute audio.\n   * @emits WaveSurfer#volume\n   * @emits WaveSurfer#mute\n   * @example\n   * // unmute\n   * wavesurfer.setMute(false);\n   * console.log(wavesurfer.getMute()) // logs false\n   */\n  setMute(mute) {\n    // ignore all muting requests if the audio is already in that state\n    if (mute === this.isMuted) {\n      this.fireEvent(\"mute\", this.isMuted);\n      return;\n    }\n\n    if (mute) {\n      // If currently not muted then save current volume,\n      // turn off the volume and update the mute properties\n      this.savedVolume = this.backend.getVolume();\n      this.backend.setVolume(0);\n      this.isMuted = true;\n      this.fireEvent(\"volume\", 0);\n    } else {\n      // If currently muted then restore to the saved volume\n      // and update the mute properties\n      this.backend.setVolume(this.savedVolume);\n      this.isMuted = false;\n      this.fireEvent(\"volume\", this.savedVolume);\n    }\n    this.fireEvent(\"mute\", this.isMuted);\n  }\n\n  /**\n   * Get the current mute status.\n   *\n   * @example const isMuted = wavesurfer.getMute();\n   * @return {boolean} Current mute status\n   */\n  getMute() {\n    return this.isMuted;\n  }\n\n  /**\n   * Get the list of current set filters as an array.\n   *\n   * Filters must be set with setFilters method first\n   *\n   * @return {array} List of enabled filters\n   */\n  getFilters() {\n    return this.backend.filters || [];\n  }\n\n  /**\n   * Toggles `scrollParent` and redraws\n   *\n   * @example wavesurfer.toggleScroll();\n   */\n  toggleScroll() {\n    this.params.scrollParent = !this.params.scrollParent;\n    this.drawBuffer();\n  }\n\n  /**\n   * Toggle mouse interaction\n   *\n   * @example wavesurfer.toggleInteraction();\n   */\n  toggleInteraction() {\n    this.params.interact = !this.params.interact;\n  }\n\n  /**\n   * Get the fill color of the waveform after the cursor.\n   *\n   * @return {string} A CSS color string.\n   */\n  getWaveColor() {\n    return this.params.waveColor;\n  }\n\n  /**\n   * Set the fill color of the waveform after the cursor.\n   *\n   * @param {string} color A CSS color string.\n   * @example wavesurfer.setWaveColor('#ddd');\n   */\n  setWaveColor(color) {\n    this.params.waveColor = color;\n    this.drawBuffer();\n  }\n\n  /**\n   * Get the fill color of the waveform behind the cursor.\n   *\n   * @return {string} A CSS color string.\n   */\n  getProgressColor() {\n    return this.params.progressColor;\n  }\n\n  /**\n   * Set the fill color of the waveform behind the cursor.\n   *\n   * @param {string} color A CSS color string.\n   * @example wavesurfer.setProgressColor('#400');\n   */\n  setProgressColor(color) {\n    this.params.progressColor = color;\n    this.drawBuffer();\n  }\n\n  /**\n   * Get the background color of the waveform container.\n   *\n   * @return {string} A CSS color string.\n   */\n  getBackgroundColor() {\n    return this.params.backgroundColor;\n  }\n\n  /**\n   * Set the background color of the waveform container.\n   *\n   * @param {string} color A CSS color string.\n   * @example wavesurfer.setBackgroundColor('#FF00FF');\n   */\n  setBackgroundColor(color) {\n    this.params.backgroundColor = color;\n    util.style(this.container, {\n      background: this.params.backgroundColor\n    });\n  }\n\n  /**\n   * Get the fill color of the cursor indicating the playhead\n   * position.\n   *\n   * @return {string} A CSS color string.\n   */\n  getCursorColor() {\n    return this.params.cursorColor;\n  }\n\n  /**\n   * Set the fill color of the cursor indicating the playhead\n   * position.\n   *\n   * @param {string} color A CSS color string.\n   * @example wavesurfer.setCursorColor('#222');\n   */\n  setCursorColor(color) {\n    this.params.cursorColor = color;\n    this.drawer.updateCursor();\n  }\n\n  /**\n   * Get the height of the waveform.\n   *\n   * @return {number} Height measured in pixels.\n   */\n  getHeight() {\n    return this.params.height;\n  }\n\n  /**\n   * Set the height of the waveform.\n   *\n   * @param {number} height Height measured in pixels.\n   * @example wavesurfer.setHeight(200);\n   */\n  setHeight(height) {\n    this.params.height = height;\n    this.drawer.setHeight(height * this.params.pixelRatio);\n    this.drawBuffer();\n  }\n\n  /**\n   * Get the correct peaks for current wave view-port and render wave\n   *\n   * @private\n   * @emits WaveSurfer#redraw\n   */\n  drawBuffer() {\n    const nominalWidth = Math.round(\n      this.getDuration() * this.params.minPxPerSec * this.params.pixelRatio\n    );\n    const parentWidth = this.drawer.getWidth();\n    let width = nominalWidth;\n    // always start at 0 after zooming for scrolling : issue redraw left part\n    let start = 0;\n    let end = Math.max(start + parentWidth, width);\n    // Fill container\n    if (\n      this.params.fillParent &&\n      (!this.params.scrollParent || nominalWidth < parentWidth)\n    ) {\n      width = parentWidth;\n      start = 0;\n      end = width;\n    }\n\n    let peaks;\n    if (this.params.partialRender) {\n      const newRanges = this.peakCache.addRangeToPeakCache(width, start, end);\n      let i;\n      for (i = 0; i < newRanges.length; i++) {\n        peaks = this.backend.getPeaks(width, newRanges[i][0], newRanges[i][1]);\n        this.drawer.drawPeaks(peaks, width, newRanges[i][0], newRanges[i][1]);\n      }\n    } else {\n      peaks = this.backend.getPeaks(width, start, end);\n      this.drawer.drawPeaks(peaks, width, start, end);\n    }\n    this.fireEvent(\"redraw\", peaks, width);\n  }\n\n  /**\n   * Horizontally zooms the waveform in and out. It also changes the parameter\n   * `minPxPerSec` and enables the `scrollParent` option. Calling the function\n   * with a falsey parameter will reset the zoom state.\n   *\n   * @param {?number} pxPerSec Number of horizontal pixels per second of\n   * audio, if none is set the waveform returns to unzoomed state\n   * @emits WaveSurfer#zoom\n   * @example wavesurfer.zoom(20);\n   */\n  zoom(pxPerSec) {\n    if (!pxPerSec) {\n      this.params.minPxPerSec = this.defaultParams.minPxPerSec;\n      this.params.scrollParent = false;\n    } else {\n      this.params.minPxPerSec = pxPerSec;\n      this.params.scrollParent = true;\n    }\n\n    this.drawBuffer();\n    this.drawer.progress(this.backend.getPlayedPercents());\n\n    this.drawer.recenter(this.getCurrentTime() / this.getDuration());\n    this.fireEvent(\"zoom\", pxPerSec);\n  }\n\n  /**\n   * Decode buffer and load\n   *\n   * @private\n   * @param {ArrayBuffer} arraybuffer Buffer to process\n   */\n  loadArrayBuffer(arraybuffer) {\n    this.decodeArrayBuffer(arraybuffer, data => {\n      if (!this.isDestroyed) {\n        this.loadDecodedBuffer(data);\n      }\n    });\n  }\n\n  /**\n   * Directly load an externally decoded AudioBuffer\n   *\n   * @private\n   * @param {AudioBuffer} buffer Buffer to process\n   * @emits WaveSurfer#ready\n   */\n  loadDecodedBuffer(buffer) {\n    this.backend.load(buffer);\n    this.drawBuffer();\n    this.isReady = true;\n    this.fireEvent(\"ready\");\n  }\n\n  /**\n   * Loads audio data from a Blob or File object\n   *\n   * @param {Blob|File} blob Audio data\n   * @example\n   */\n  loadBlob(blob) {\n    // Create file reader\n    const reader = new FileReader();\n    reader.addEventListener(\"progress\", e => this.onProgress(e));\n    reader.addEventListener(\"load\", e => this.loadArrayBuffer(e.target.result));\n    reader.addEventListener(\"error\", () =>\n      this.fireEvent(\"error\", \"Error reading file\")\n    );\n    reader.readAsArrayBuffer(blob);\n    this.empty();\n  }\n\n  /**\n   * Loads audio and re-renders the waveform.\n   *\n   * @param {string|HTMLMediaElement} url The url of the audio file or the\n   * audio element with the audio\n   * @param {number[]|Number.<Array[]>} peaks Wavesurfer does not have to decode\n   * the audio to render the waveform if this is specified\n   * @param {?string} preload (Use with backend `MediaElement` and `MediaElementWebAudio`)\n   * `'none'|'metadata'|'auto'` Preload attribute for the media element\n   * @param {?number} duration The duration of the audio. This is used to\n   * render the peaks data in the correct size for the audio duration (as\n   * befits the current `minPxPerSec` and zoom value) without having to decode\n   * the audio.\n   * @returns {void}\n   * @throws Will throw an error if the `url` argument is empty.\n   * @example\n   * // uses fetch or media element to load file (depending on backend)\n   * wavesurfer.load('http://example.com/demo.wav');\n   *\n   * // setting preload attribute with media element backend and supplying\n   * // peaks\n   * wavesurfer.load(\n   *   'http://example.com/demo.wav',\n   *   [0.0218, 0.0183, 0.0165, 0.0198, 0.2137, 0.2888],\n   *   true\n   * );\n   */\n  load(url, peaks, preload, duration) {\n    if (!url) {\n      throw new Error(\"url parameter cannot be empty\");\n    }\n    this.empty();\n    if (preload) {\n      // check whether the preload attribute will be usable and if not log\n      // a warning listing the reasons why not and nullify the variable\n      const preloadIgnoreReasons = {\n        \"Preload is not 'auto', 'none' or 'metadata'\":\n          [\"auto\", \"metadata\", \"none\"].indexOf(preload) === -1,\n        \"Peaks are not provided\": !peaks,\n        \"Backend is not of type 'MediaElement' or 'MediaElementWebAudio'\":\n          [\"MediaElement\", \"MediaElementWebAudio\"].indexOf(\n            this.params.backend\n          ) === -1,\n        \"Url is not of type string\": typeof url !== \"string\"\n      };\n      const activeReasons = Object.keys(preloadIgnoreReasons).filter(\n        reason => preloadIgnoreReasons[reason]\n      );\n      if (activeReasons.length) {\n        // eslint-disable-next-line no-console\n        console.warn(\n          \"Preload parameter of wavesurfer.load will be ignored because:\\n\\t- \" +\n            activeReasons.join(\"\\n\\t- \")\n        );\n        // stop invalid values from being used\n        preload = null;\n      }\n    }\n\n    switch (this.params.backend) {\n      case \"WebAudio\":\n        return this.loadBuffer(url, peaks, duration);\n      case \"MediaElement\":\n      case \"MediaElementWebAudio\":\n        return this.loadMediaElement(url, peaks, preload, duration);\n    }\n  }\n\n  /**\n   * Loads audio using Web Audio buffer backend.\n   *\n   * @private\n   * @param {string} url URL of audio file\n   * @param {number[]|Number.<Array[]>} peaks Peaks data\n   * @param {?number} duration Optional duration of audio file\n   * @returns {void}\n   */\n  loadBuffer(url, peaks, duration) {\n    const load = action => {\n      if (action) {\n        this.tmpEvents.push(this.once(\"ready\", action));\n      }\n      return this.getArrayBuffer(url, data => this.loadArrayBuffer(data));\n    };\n\n    if (peaks) {\n      this.backend.setPeaks(peaks, duration);\n      this.drawBuffer();\n      this.tmpEvents.push(this.once(\"interaction\", load));\n    } else {\n      return load();\n    }\n  }\n\n  /**\n   * Either create a media element, or load an existing media element.\n   *\n   * @private\n   * @param {string|HTMLMediaElement} urlOrElt Either a path to a media file, or an\n   * existing HTML5 Audio/Video Element\n   * @param {number[]|Number.<Array[]>} peaks Array of peaks. Required to bypass web audio\n   * dependency\n   * @param {?boolean} preload Set to true if the preload attribute of the\n   * audio element should be enabled\n   * @param {?number} duration Optional duration of audio file\n   */\n  loadMediaElement(urlOrElt, peaks, preload, duration) {\n    let url = urlOrElt;\n\n    if (typeof urlOrElt === \"string\") {\n      this.backend.load(url, this.mediaContainer, peaks, preload);\n    } else {\n      const elt = urlOrElt;\n      this.backend.loadElt(elt, peaks);\n\n      // If peaks are not provided,\n      // url = element.src so we can get peaks with web audio\n      url = elt.src;\n    }\n\n    this.tmpEvents.push(\n      this.backend.once(\"canplay\", () => {\n        // ignore when backend was already destroyed\n        if (!this.backend.destroyed) {\n          this.drawBuffer();\n          this.isReady = true;\n          this.fireEvent(\"ready\");\n        }\n      }),\n      this.backend.once(\"error\", err => this.fireEvent(\"error\", err))\n    );\n\n    // If no pre-decoded peaks provided or pre-decoded peaks are\n    // provided with forceDecode flag, attempt to download the\n    // audio file and decode it with Web Audio.\n    if (peaks) {\n      this.backend.setPeaks(peaks, duration);\n    }\n\n    if (\n      (!peaks || this.params.forceDecode) &&\n      this.backend.supportsWebAudio()\n    ) {\n      this.getArrayBuffer(url, arraybuffer => {\n        this.decodeArrayBuffer(arraybuffer, buffer => {\n          this.backend.buffer = buffer;\n          this.backend.setPeaks(null);\n          this.drawBuffer();\n          this.fireEvent(\"waveform-ready\");\n        });\n      });\n    }\n  }\n\n  /**\n   * Decode an array buffer and pass data to a callback\n   *\n   * @private\n   * @param {Object} arraybuffer The array buffer to decode\n   * @param {function} callback The function to call on complete\n   */\n  decodeArrayBuffer(arraybuffer, callback) {\n    this.arraybuffer = arraybuffer;\n    this.backend.decodeArrayBuffer(\n      arraybuffer,\n      data => {\n        // Only use the decoded data if we haven't been destroyed or\n        // another decode started in the meantime\n        if (!this.isDestroyed && this.arraybuffer == arraybuffer) {\n          callback(data);\n          this.arraybuffer = null;\n        }\n      },\n      () => this.fireEvent(\"error\", \"Error decoding audiobuffer\")\n    );\n  }\n\n  /**\n   * Load an array buffer using fetch and pass the result to a callback\n   *\n   * @param {string} url The URL of the file object\n   * @param {function} callback The function to call on complete\n   * @returns {util.fetchFile} fetch call\n   * @private\n   */\n  getArrayBuffer(url, callback) {\n    let options = Object.assign(\n      {\n        url: url,\n        responseType: \"arraybuffer\"\n      },\n      this.params.xhr\n    );\n    const request = util.fetchFile(options);\n\n    this.currentRequest = request;\n\n    this.tmpEvents.push(\n      request.on(\"progress\", e => {\n        this.onProgress(e);\n      }),\n      request.on(\"success\", data => {\n        callback(data);\n        this.currentRequest = null;\n      }),\n      request.on(\"error\", e => {\n        this.fireEvent(\"error\", e);\n        this.currentRequest = null;\n      })\n    );\n\n    return request;\n  }\n\n  /**\n   * Called while the audio file is loading\n   *\n   * @private\n   * @param {Event} e Progress event\n   * @emits WaveSurfer#loading\n   */\n  onProgress(e) {\n    let percentComplete;\n    if (e.lengthComputable) {\n      percentComplete = e.loaded / e.total;\n    } else {\n      // Approximate progress with an asymptotic\n      // function, and assume downloads in the 1-3 MB range.\n      percentComplete = e.loaded / (e.loaded + 1000000);\n    }\n    this.fireEvent(\"loading\", Math.round(percentComplete * 100), e.target);\n  }\n\n  /**\n   * Exports PCM data into a JSON array and opens in a new window.\n   *\n   * @param {number} length=1024 The scale in which to export the peaks\n   * @param {number} accuracy=10000\n   * @param {?boolean} noWindow Set to true to disable opening a new\n   * window with the JSON\n   * @param {number} start Start index\n   * @param {number} end End index\n   * @return {Promise} Promise that resolves with array of peaks\n   */\n  exportPCM(length, accuracy, noWindow, start, end) {\n    length = length || 1024;\n    start = start || 0;\n    accuracy = accuracy || 10000;\n    noWindow = noWindow || false;\n    const peaks = this.backend.getPeaks(length, start, end);\n    const arr = [].map.call(\n      peaks,\n      val => Math.round(val * accuracy) / accuracy\n    );\n    return new Promise((resolve, reject) => {\n      const json = JSON.stringify(arr);\n\n      if (!noWindow) {\n        window.open(\n          \"data:application/json;charset=utf-8,\" + encodeURIComponent(json)\n        );\n      }\n      resolve(json);\n    });\n  }\n\n  /**\n   * Save waveform image as data URI.\n   *\n   * The default format is `'image/png'`. Other supported types are\n   * `'image/jpeg'` and `'image/webp'`.\n   *\n   * @param {string} format='image/png' A string indicating the image format.\n   * The default format type is `'image/png'`.\n   * @param {number} quality=1 A number between 0 and 1 indicating the image\n   * quality to use for image formats that use lossy compression such as\n   * `'image/jpeg'`` and `'image/webp'`.\n   * @param {string} type Image data type to return. Either 'dataURL' (default)\n   * or 'blob'.\n   * @return {string|string[]|Promise} When using `'dataURL'` type this returns\n   * a single data URL or an array of data URLs, one for each canvas. When using\n   * `'blob'` type this returns a `Promise` resolving with an array of `Blob`\n   * instances, one for each canvas.\n   */\n  exportImage(format, quality, type) {\n    if (!format) {\n      format = \"image/png\";\n    }\n    if (!quality) {\n      quality = 1;\n    }\n    if (!type) {\n      type = \"dataURL\";\n    }\n\n    return this.drawer.getImage(format, quality, type);\n  }\n\n  /**\n   * Cancel any fetch request currently in progress\n   */\n  cancelAjax() {\n    if (this.currentRequest && this.currentRequest.controller) {\n      this.currentRequest.controller.abort();\n      this.currentRequest = null;\n    }\n  }\n\n  /**\n   * @private\n   */\n  clearTmpEvents() {\n    this.tmpEvents.forEach(e => e.un());\n  }\n\n  /**\n   * Display empty waveform.\n   */\n  empty() {\n    if (!this.backend.isPaused()) {\n      this.stop();\n      this.backend.disconnectSource();\n    }\n    this.isReady = false;\n    this.cancelAjax();\n    this.clearTmpEvents();\n\n    // empty drawer\n    this.drawer.progress(0);\n    this.drawer.setWidth(0);\n    this.drawer.drawPeaks({ length: this.drawer.getWidth() }, 0);\n  }\n\n  /**\n   * Remove events, elements and disconnect WebAudio nodes.\n   *\n   * @emits WaveSurfer#destroy\n   */\n  destroy() {\n    this.destroyAllPlugins();\n    this.fireEvent(\"destroy\");\n    this.cancelAjax();\n    this.clearTmpEvents();\n    this.unAll();\n    if (this.params.responsive !== false) {\n      window.removeEventListener(\"resize\", this._onResize, true);\n      window.removeEventListener(\"orientationchange\", this._onResize, true);\n    }\n    if (this.backend) {\n      this.backend.destroy();\n    }\n    if (this.drawer) {\n      this.drawer.destroy();\n    }\n    this.isDestroyed = true;\n    this.isReady = false;\n    this.arraybuffer = null;\n  }\n}\n","/**\n * Calculate FFT - Based on https://github.com/corbanbrook/dsp.js\n */\n/* eslint-disable complexity, no-redeclare, no-var, one-var */\nconst FFT = function(bufferSize, sampleRate, windowFunc, alpha) {\n  this.bufferSize = bufferSize;\n  this.sampleRate = sampleRate;\n  this.bandwidth = (2 / bufferSize) * (sampleRate / 2);\n\n  this.sinTable = new Float32Array(bufferSize);\n  this.cosTable = new Float32Array(bufferSize);\n  this.windowValues = new Float32Array(bufferSize);\n  this.reverseTable = new Uint32Array(bufferSize);\n\n  this.peakBand = 0;\n  this.peak = 0;\n\n  var i;\n  switch (windowFunc) {\n    case \"bartlett\":\n      for (i = 0; i < bufferSize; i++) {\n        this.windowValues[i] =\n          (2 / (bufferSize - 1)) *\n          ((bufferSize - 1) / 2 - Math.abs(i - (bufferSize - 1) / 2));\n      }\n      break;\n    case \"bartlettHann\":\n      for (i = 0; i < bufferSize; i++) {\n        this.windowValues[i] =\n          0.62 -\n          0.48 * Math.abs(i / (bufferSize - 1) - 0.5) -\n          0.38 * Math.cos((Math.PI * 2 * i) / (bufferSize - 1));\n      }\n      break;\n    case \"blackman\":\n      alpha = alpha || 0.16;\n      for (i = 0; i < bufferSize; i++) {\n        this.windowValues[i] =\n          (1 - alpha) / 2 -\n          0.5 * Math.cos((Math.PI * 2 * i) / (bufferSize - 1)) +\n          (alpha / 2) * Math.cos((4 * Math.PI * i) / (bufferSize - 1));\n      }\n      break;\n    case \"cosine\":\n      for (i = 0; i < bufferSize; i++) {\n        this.windowValues[i] = Math.cos(\n          (Math.PI * i) / (bufferSize - 1) - Math.PI / 2\n        );\n      }\n      break;\n    case \"gauss\":\n      alpha = alpha || 0.25;\n      for (i = 0; i < bufferSize; i++) {\n        this.windowValues[i] = Math.pow(\n          Math.E,\n          -0.5 *\n            Math.pow(\n              (i - (bufferSize - 1) / 2) / ((alpha * (bufferSize - 1)) / 2),\n              2\n            )\n        );\n      }\n      break;\n    case \"hamming\":\n      for (i = 0; i < bufferSize; i++) {\n        this.windowValues[i] =\n          0.54 - 0.46 * Math.cos((Math.PI * 2 * i) / (bufferSize - 1));\n      }\n      break;\n    case \"hann\":\n    case undefined:\n      for (i = 0; i < bufferSize; i++) {\n        this.windowValues[i] =\n          0.5 * (1 - Math.cos((Math.PI * 2 * i) / (bufferSize - 1)));\n      }\n      break;\n    case \"lanczoz\":\n      for (i = 0; i < bufferSize; i++) {\n        this.windowValues[i] =\n          Math.sin(Math.PI * ((2 * i) / (bufferSize - 1) - 1)) /\n          (Math.PI * ((2 * i) / (bufferSize - 1) - 1));\n      }\n      break;\n    case \"rectangular\":\n      for (i = 0; i < bufferSize; i++) {\n        this.windowValues[i] = 1;\n      }\n      break;\n    case \"triangular\":\n      for (i = 0; i < bufferSize; i++) {\n        this.windowValues[i] =\n          (2 / bufferSize) *\n          (bufferSize / 2 - Math.abs(i - (bufferSize - 1) / 2));\n      }\n      break;\n    default:\n      throw Error(\"No such window function '\" + windowFunc + \"'\");\n  }\n\n  var limit = 1;\n  var bit = bufferSize >> 1;\n  var i;\n\n  while (limit < bufferSize) {\n    for (i = 0; i < limit; i++) {\n      this.reverseTable[i + limit] = this.reverseTable[i] + bit;\n    }\n\n    limit = limit << 1;\n    bit = bit >> 1;\n  }\n\n  for (i = 0; i < bufferSize; i++) {\n    this.sinTable[i] = Math.sin(-Math.PI / i);\n    this.cosTable[i] = Math.cos(-Math.PI / i);\n  }\n\n  this.calculateSpectrum = function(buffer) {\n    // Locally scope variables for speed up\n    var bufferSize = this.bufferSize,\n      cosTable = this.cosTable,\n      sinTable = this.sinTable,\n      reverseTable = this.reverseTable,\n      real = new Float32Array(bufferSize),\n      imag = new Float32Array(bufferSize),\n      bSi = 2 / this.bufferSize,\n      sqrt = Math.sqrt,\n      rval,\n      ival,\n      mag,\n      spectrum = new Float32Array(bufferSize / 2);\n\n    var k = Math.floor(Math.log(bufferSize) / Math.LN2);\n\n    if (Math.pow(2, k) !== bufferSize) {\n      throw \"Invalid buffer size, must be a power of 2.\";\n    }\n    if (bufferSize !== buffer.length) {\n      throw \"Supplied buffer is not the same size as defined FFT. FFT Size: \" +\n        bufferSize +\n        \" Buffer Size: \" +\n        buffer.length;\n    }\n\n    var halfSize = 1,\n      phaseShiftStepReal,\n      phaseShiftStepImag,\n      currentPhaseShiftReal,\n      currentPhaseShiftImag,\n      off,\n      tr,\n      ti,\n      tmpReal;\n\n    for (var i = 0; i < bufferSize; i++) {\n      real[i] = buffer[reverseTable[i]] * this.windowValues[reverseTable[i]];\n      imag[i] = 0;\n    }\n\n    while (halfSize < bufferSize) {\n      phaseShiftStepReal = cosTable[halfSize];\n      phaseShiftStepImag = sinTable[halfSize];\n\n      currentPhaseShiftReal = 1;\n      currentPhaseShiftImag = 0;\n\n      for (var fftStep = 0; fftStep < halfSize; fftStep++) {\n        var i = fftStep;\n\n        while (i < bufferSize) {\n          off = i + halfSize;\n          tr =\n            currentPhaseShiftReal * real[off] -\n            currentPhaseShiftImag * imag[off];\n          ti =\n            currentPhaseShiftReal * imag[off] +\n            currentPhaseShiftImag * real[off];\n\n          real[off] = real[i] - tr;\n          imag[off] = imag[i] - ti;\n          real[i] += tr;\n          imag[i] += ti;\n\n          i += halfSize << 1;\n        }\n\n        tmpReal = currentPhaseShiftReal;\n        currentPhaseShiftReal =\n          tmpReal * phaseShiftStepReal -\n          currentPhaseShiftImag * phaseShiftStepImag;\n        currentPhaseShiftImag =\n          tmpReal * phaseShiftStepImag +\n          currentPhaseShiftImag * phaseShiftStepReal;\n      }\n\n      halfSize = halfSize << 1;\n    }\n\n    for (var i = 0, N = bufferSize / 2; i < N; i++) {\n      rval = real[i];\n      ival = imag[i];\n      mag = bSi * sqrt(rval * rval + ival * ival);\n\n      if (mag > this.peak) {\n        this.peakBand = i;\n        this.peak = mag;\n      }\n      spectrum[i] = mag;\n    }\n    return spectrum;\n  };\n};\n/* eslint-enable complexity, no-redeclare, no-var, one-var */\n\n/**\n * @typedef {Object} SpectrogramPluginParams\n * @property {string|HTMLElement} container Selector of element or element in\n * which to render\n * @property {number} fftSamples=512 Number of samples to fetch to FFT. Must be\n * a power of 2.\n * @property {boolean} labels Set to true to display frequency labels.\n * @property {number} noverlap Size of the overlapping window. Must be <\n * fftSamples. Auto deduced from canvas size by default.\n * @property {string} windowFunc='hann' The window function to be used. One of\n * these: `'bartlett'`, `'bartlettHann'`, `'blackman'`, `'cosine'`, `'gauss'`,\n * `'hamming'`, `'hann'`, `'lanczoz'`, `'rectangular'`, `'triangular'`\n * @property {?number} alpha Some window functions have this extra value.\n * (Between 0 and 1)\n * @property {number} pixelRatio=wavesurfer.params.pixelRatio to control the\n * size of the spectrogram in relation with its canvas. 1 = Draw on the whole\n * canvas. 2 = Draw on a quarter (1/2 the length and 1/2 the width)\n * @property {?boolean} deferInit Set to true to manually call\n * `initPlugin('spectrogram')`\n * @property {?number[][]} colorMap A 256 long array of 4-element arrays.\n * Each entry should contain a float between 0 and 1 and specify\n * r, g, b, and alpha.\n */\n\n/**\n * Render a spectrogram visualisation of the audio.\n *\n * @implements {PluginClass}\n * @extends {Observer}\n * @example\n * // es6\n * import SpectrogramPlugin from 'wavesurfer.spectrogram.js';\n *\n * // commonjs\n * var SpectrogramPlugin = require('wavesurfer.spectrogram.js');\n *\n * // if you are using <script> tags\n * var SpectrogramPlugin = window.WaveSurfer.spectrogram;\n *\n * // ... initialising wavesurfer with the plugin\n * var wavesurfer = WaveSurfer.create({\n *   // wavesurfer options ...\n *   plugins: [\n *     SpectrogramPlugin.create({\n *       // plugin options ...\n *     })\n *   ]\n * });\n */\nexport default class SpectrogramPlugin {\n  /**\n   * Spectrogram plugin definition factory\n   *\n   * This function must be used to create a plugin definition which can be\n   * used by wavesurfer to correctly instantiate the plugin.\n   *\n   * @param  {SpectrogramPluginParams} params Parameters used to initialise the plugin\n   * @return {PluginDefinition} An object representing the plugin.\n   */\n  static create(params) {\n    return {\n      name: \"spectrogram\",\n      deferInit: params && params.deferInit ? params.deferInit : false,\n      params: params,\n      staticProps: {\n        FFT: FFT\n      },\n      instance: SpectrogramPlugin\n    };\n  }\n\n  constructor(params, ws) {\n    this.params = params;\n    this.wavesurfer = ws;\n    this.util = ws.util;\n\n    this.frequenciesDataUrl = params.frequenciesDataUrl;\n    this._onScroll = e => {\n      this.updateScroll(e);\n    };\n    this._onRender = () => {\n      this.render();\n    };\n    this._onWrapperClick = e => {\n      this._wrapperClickHandler(e);\n    };\n    this._onReady = () => {\n      const drawer = (this.drawer = ws.drawer);\n\n      this.container =\n        \"string\" == typeof params.container\n          ? document.querySelector(params.container)\n          : params.container;\n\n      if (!this.container) {\n        throw Error(\"No container for WaveSurfer spectrogram\");\n      }\n      if (params.colorMap) {\n        if (params.colorMap.length < 256) {\n          throw new Error(\"Colormap must contain 256 elements\");\n        }\n        for (let i = 0; i < params.colorMap.length; i++) {\n          const cmEntry = params.colorMap[i];\n          if (cmEntry.length !== 4) {\n            throw new Error(\"ColorMap entries must contain 4 values\");\n          }\n        }\n        this.colorMap = params.colorMap;\n      } else {\n        this.colorMap = [];\n        for (let i = 0; i < 256; i++) {\n          const val = (255 - i) / 256;\n          this.colorMap.push([val, val, val, 1]);\n        }\n      }\n      this.width = drawer.width;\n      this.pixelRatio = this.params.pixelRatio || ws.params.pixelRatio;\n      this.fftSamples = this.params.fftSamples || ws.params.fftSamples || 512;\n      this.height = this.fftSamples / 2;\n      this.noverlap = params.noverlap;\n      this.windowFunc = params.windowFunc;\n      this.alpha = params.alpha;\n\n      this.createWrapper();\n      this.createCanvas();\n      this.render();\n\n      drawer.wrapper.addEventListener(\"scroll\", this._onScroll);\n      ws.on(\"redraw\", this._onRender);\n    };\n  }\n\n  init() {\n    // Check if wavesurfer is ready\n    if (this.wavesurfer.isReady) {\n      this._onReady();\n    } else {\n      this.wavesurfer.once(\"ready\", this._onReady);\n    }\n  }\n\n  destroy() {\n    this.unAll();\n    this.wavesurfer.un(\"ready\", this._onReady);\n    this.wavesurfer.un(\"redraw\", this._onRender);\n    this.drawer.wrapper.removeEventListener(\"scroll\", this._onScroll);\n    this.wavesurfer = null;\n    this.util = null;\n    this.params = null;\n    if (this.wrapper) {\n      this.wrapper.removeEventListener(\"click\", this._onWrapperClick);\n      this.wrapper.parentNode.removeChild(this.wrapper);\n      this.wrapper = null;\n    }\n  }\n\n  createWrapper() {\n    const prevSpectrogram = this.container.querySelector(\"spectrogram\");\n    if (prevSpectrogram) {\n      this.container.removeChild(prevSpectrogram);\n    }\n    const wsParams = this.wavesurfer.params;\n    this.wrapper = document.createElement(\"spectrogram\");\n    // if labels are active\n    if (this.params.labels) {\n      const labelsEl = (this.labelsEl = document.createElement(\"canvas\"));\n      labelsEl.classList.add(\"spec-labels\");\n      this.drawer.style(labelsEl, {\n        left: 0,\n        position: \"absolute\",\n        zIndex: 5,\n        height: `${this.height / this.pixelRatio}px`,\n        width: `${55 / this.pixelRatio}px`\n      });\n      this.wrapper.appendChild(labelsEl);\n      this.loadLabels(\n        \"rgba(68,68,68,0.5)\",\n        \"12px\",\n        \"10px\",\n        \"\",\n        \"#fff\",\n        \"#f7f7f7\",\n        \"center\",\n        \"#specLabels\"\n      );\n    }\n\n    this.drawer.style(this.wrapper, {\n      display: \"block\",\n      position: \"relative\",\n      userSelect: \"none\",\n      webkitUserSelect: \"none\",\n      height: `${this.height / this.pixelRatio}px`\n    });\n\n    if (wsParams.fillParent || wsParams.scrollParent) {\n      this.drawer.style(this.wrapper, {\n        width: \"100%\",\n        overflowX: \"hidden\",\n        overflowY: \"hidden\"\n      });\n    }\n    this.container.appendChild(this.wrapper);\n\n    this.wrapper.addEventListener(\"click\", this._onWrapperClick);\n  }\n\n  _wrapperClickHandler(event) {\n    event.preventDefault();\n    const relX = \"offsetX\" in event ? event.offsetX : event.layerX;\n    this.fireEvent(\"click\", relX / this.width || 0);\n  }\n\n  createCanvas() {\n    const canvas = (this.canvas = this.wrapper.appendChild(\n      document.createElement(\"canvas\")\n    ));\n\n    this.spectrCc = canvas.getContext(\"2d\");\n\n    this.util.style(canvas, {\n      position: \"absolute\",\n      zIndex: 4\n    });\n  }\n\n  render() {\n    this.updateCanvasStyle();\n\n    if (this.frequenciesDataUrl) {\n      this.loadFrequenciesData(this.frequenciesDataUrl);\n    } else {\n      this.getFrequencies(this.drawSpectrogram);\n    }\n  }\n\n  updateCanvasStyle() {\n    const width = Math.round(this.width / this.pixelRatio) + \"px\";\n    this.canvas.width = this.width;\n    this.canvas.height = this.height;\n    this.canvas.style.width = width;\n  }\n\n  drawSpectrogram(frequenciesData, my) {\n    const height = my.height;\n    const pixels = my.resample(frequenciesData);\n    const heightFactor = my.buffer ? 2 / my.buffer.numberOfChannels : 1;\n    let i;\n    let j;\n\n    for (i = 0; i < pixels.length; i++) {\n      for (j = 0; j < pixels[i].length; j++) {\n        const colorMap = my.colorMap[pixels[i][j]];\n        my.spectrCc.fillStyle =\n          \"rgba(\" +\n          colorMap[0] * 256 +\n          \", \" +\n          colorMap[1] * 256 +\n          \", \" +\n          colorMap[2] * 256 +\n          \",\" +\n          colorMap[3] +\n          \")\";\n        my.spectrCc.fillRect(i, height - j * heightFactor, 1, heightFactor);\n      }\n    }\n  }\n\n  getFrequencies(callback) {\n    const fftSamples = this.fftSamples;\n    const buffer = (this.buffer = this.wavesurfer.backend.buffer);\n    if (!buffer) {\n      this.fireEvent(\"error\", \"Web Audio buffer is not available\");\n      return;\n    }\n    const channelOne = buffer.getChannelData(0);\n    const sampleRate = buffer.sampleRate;\n    const frequencies = [];\n\n    let noverlap = this.noverlap;\n    if (!noverlap) {\n      const uniqueSamplesPerPx = buffer.length / this.canvas.width;\n      noverlap = Math.max(0, Math.round(fftSamples - uniqueSamplesPerPx));\n    }\n\n    const fft = new FFT(fftSamples, sampleRate, this.windowFunc, this.alpha);\n    let currentOffset = 0;\n\n    while (currentOffset + fftSamples < channelOne.length) {\n      const segment = channelOne.slice(\n        currentOffset,\n        currentOffset + fftSamples\n      );\n      const spectrum = fft.calculateSpectrum(segment);\n      const array = new Uint8Array(fftSamples / 2);\n      let j;\n      for (j = 0; j < fftSamples / 2; j++) {\n        array[j] = Math.max(-255, Math.log10(spectrum[j]) * 45);\n      }\n      frequencies.push(array);\n      currentOffset += fftSamples - noverlap;\n    }\n    callback(frequencies, this);\n  }\n\n  loadFrequenciesData(url) {\n    const request = this.util.fetchFile({ url: url });\n\n    request.on(\"success\", data => this.drawSpectrogram(JSON.parse(data), this));\n    request.on(\"error\", e => this.fireEvent(\"error\", e));\n\n    return request;\n  }\n\n  freqType(freq) {\n    return freq >= 1000 ? (freq / 1000).toFixed(1) : Math.round(freq);\n  }\n\n  unitType(freq) {\n    return freq >= 1000 ? \"KHz\" : \"Hz\";\n  }\n\n  loadLabels(\n    bgFill,\n    fontSizeFreq,\n    fontSizeUnit,\n    fontType,\n    textColorFreq,\n    textColorUnit,\n    textAlign\n  ) {\n    const frequenciesHeight = this.height;\n    bgFill = bgFill || \"rgba(68,68,68,0)\";\n    fontSizeFreq = fontSizeFreq || \"12px\";\n    fontSizeUnit = fontSizeUnit || \"10px\";\n    fontType = fontType || \"Helvetica\";\n    textColorFreq = textColorFreq || \"#fff\";\n    textColorUnit = textColorUnit || \"#fff\";\n    textAlign = textAlign || \"center\";\n    const bgWidth = 55;\n    const getMaxY = frequenciesHeight || 512;\n    const labelIndex = 5 * (getMaxY / 256);\n    const freqStart = 0;\n    const step =\n      (this.wavesurfer.backend.ac.sampleRate / 2 - freqStart) / labelIndex;\n\n    // prepare canvas element for labels\n    const ctx = this.labelsEl.getContext(\"2d\");\n    this.labelsEl.height = this.height;\n    this.labelsEl.width = bgWidth;\n\n    // fill background\n    ctx.fillStyle = bgFill;\n    ctx.fillRect(0, 0, bgWidth, getMaxY);\n    ctx.fill();\n    let i;\n\n    // render labels\n    for (i = 0; i <= labelIndex; i++) {\n      ctx.textAlign = textAlign;\n      ctx.textBaseline = \"middle\";\n\n      const freq = freqStart + step * i;\n      const label = this.freqType(freq);\n      const units = this.unitType(freq);\n      const yLabelOffset = 2;\n      const x = 16;\n      let y;\n\n      if (i == 0) {\n        y = getMaxY + i - 10;\n        // unit label\n        ctx.fillStyle = textColorUnit;\n        ctx.font = fontSizeUnit + \" \" + fontType;\n        ctx.fillText(units, x + 24, y);\n        // freq label\n        ctx.fillStyle = textColorFreq;\n        ctx.font = fontSizeFreq + \" \" + fontType;\n        ctx.fillText(label, x, y);\n      } else {\n        y = getMaxY - i * 50 + yLabelOffset;\n        // unit label\n        ctx.fillStyle = textColorUnit;\n        ctx.font = fontSizeUnit + \" \" + fontType;\n        ctx.fillText(units, x + 24, y);\n        // freq label\n        ctx.fillStyle = textColorFreq;\n        ctx.font = fontSizeFreq + \" \" + fontType;\n        ctx.fillText(label, x, y);\n      }\n    }\n  }\n\n  updateScroll(e) {\n    if (this.wrapper) {\n      this.wrapper.scrollLeft = e.target.scrollLeft;\n    }\n  }\n\n  resample(oldMatrix) {\n    const columnsNumber = this.width;\n    const newMatrix = [];\n\n    const oldPiece = 1 / oldMatrix.length;\n    const newPiece = 1 / columnsNumber;\n    let i;\n\n    for (i = 0; i < columnsNumber; i++) {\n      const column = new Array(oldMatrix[0].length);\n      let j;\n\n      for (j = 0; j < oldMatrix.length; j++) {\n        const oldStart = j * oldPiece;\n        const oldEnd = oldStart + oldPiece;\n        const newStart = i * newPiece;\n        const newEnd = newStart + newPiece;\n\n        const overlap =\n          oldEnd <= newStart || newEnd <= oldStart\n            ? 0\n            : Math.min(Math.max(oldEnd, newStart), Math.max(newEnd, oldStart)) -\n              Math.max(Math.min(oldEnd, newStart), Math.min(newEnd, oldStart));\n        let k;\n        /* eslint-disable max-depth */\n        if (overlap > 0) {\n          for (k = 0; k < oldMatrix[0].length; k++) {\n            if (column[k] == null) {\n              column[k] = 0;\n            }\n            column[k] += (overlap / newPiece) * oldMatrix[j][k];\n          }\n        }\n        /* eslint-enable max-depth */\n      }\n\n      const intColumn = new Uint8Array(oldMatrix[0].length);\n      let m;\n\n      for (m = 0; m < oldMatrix[0].length; m++) {\n        intColumn[m] = column[m];\n      }\n\n      newMatrix.push(intColumn);\n    }\n\n    return newMatrix;\n  }\n}\n","/* eslint no-unused-vars: 0 */\n/**\n * @typedef {Object} TimelinePluginParams\n * @desc Extends the `WavesurferParams` wavesurfer was initialised with\n * @property {!string|HTMLElement} container CSS selector or HTML element where\n * the timeline should be drawn. This is the only required parameter.\n * @property {number} notchPercentHeight=90 Height of notches in percent\n * @property {string} unlabeledNotchColor='#c0c0c0' The colour of the notches\n * that do not have labels\n * @property {string} primaryColor='#000' The colour of the main notches\n * @property {string} secondaryColor='#c0c0c0' The colour of the secondary\n * notches\n * @property {string} primaryFontColor='#000' The colour of the labels next to\n * the main notches\n * @property {string} secondaryFontColor='#000' The colour of the labels next to\n * the secondary notches\n * @property {number} labelPadding=5 The padding between the label and the notch\n * @property {?number} zoomDebounce A debounce timeout to increase rendering\n * performance for large files\n * @property {string} fontFamily='Arial'\n * @property {number} fontSize=10 Font size of labels in pixels\n * @property {?number} duration Length of the track in seconds. Overrides\n * getDuration() for setting length of timeline\n * @property {function} formatTimeCallback (sec, pxPerSec) -> label\n * @property {function} timeInterval (pxPerSec) -> seconds between notches\n * @property {function} primaryLabelInterval (pxPerSec) -> cadence between\n * labels in primary color\n * @property {function} secondaryLabelInterval (pxPerSec) -> cadence between\n * labels in secondary color\n * @property {?number} offset Offset for the timeline start in seconds. May also be\n * negative.\n * @property {?boolean} deferInit Set to true to manually call\n * `initPlugin('timeline')`\n */\n\n/**\n * Adds a timeline to the waveform.\n *\n * @implements {PluginClass}\n * @extends {Observer}\n * @example\n * // es6\n * import TimelinePlugin from 'wavesurfer.timeline.js';\n *\n * // commonjs\n * var TimelinePlugin = require('wavesurfer.timeline.js');\n *\n * // if you are using <script> tags\n * var TimelinePlugin = window.WaveSurfer.timeline;\n *\n * // ... initialising wavesurfer with the plugin\n * var wavesurfer = WaveSurfer.create({\n *   // wavesurfer options ...\n *   plugins: [\n *     TimelinePlugin.create({\n *       // plugin options ...\n *     })\n *   ]\n * });\n */\nexport default class TimelinePlugin {\n  /**\n   * Timeline plugin definition factory\n   *\n   * This function must be used to create a plugin definition which can be\n   * used by wavesurfer to correctly instantiate the plugin.\n   *\n   * @param  {TimelinePluginParams} params parameters use to initialise the plugin\n   * @return {PluginDefinition} an object representing the plugin\n   */\n  static create(params) {\n    return {\n      name: \"timeline\",\n      deferInit: params && params.deferInit ? params.deferInit : false,\n      params: params,\n      instance: TimelinePlugin\n    };\n  }\n\n  // event handlers\n  _onScroll = () => {\n    if (this.wrapper && this.drawer.wrapper) {\n      this.wrapper.scrollLeft = this.drawer.wrapper.scrollLeft;\n    }\n  };\n\n  /**\n   * @returns {void}\n   */\n  _onRedraw = () => this.render();\n\n  _onReady = () => {\n    const ws = this.wavesurfer;\n    this.drawer = ws.drawer;\n    this.pixelRatio = ws.drawer.params.pixelRatio;\n    this.maxCanvasWidth = ws.drawer.maxCanvasWidth || ws.drawer.width;\n    this.maxCanvasElementWidth =\n      ws.drawer.maxCanvasElementWidth ||\n      Math.round(this.maxCanvasWidth / this.pixelRatio);\n\n    // add listeners\n    ws.drawer.wrapper.addEventListener(\"scroll\", this._onScroll);\n    ws.on(\"redraw\", this._onRedraw);\n    ws.on(\"zoom\", this._onZoom);\n\n    this.render();\n  };\n\n  /**\n   * @param {object} e Click event\n   */\n  _onWrapperClick = e => {\n    e.preventDefault();\n    const relX = \"offsetX\" in e ? e.offsetX : e.layerX;\n    this.fireEvent(\"click\", relX / this.wrapper.scrollWidth || 0);\n  };\n\n  /**\n   * Creates an instance of TimelinePlugin.\n   *\n   * You probably want to use TimelinePlugin.create()\n   *\n   * @param {TimelinePluginParams} params Plugin parameters\n   * @param {object} ws Wavesurfer instance\n   */\n  constructor(params, ws) {\n    this.container =\n      \"string\" == typeof params.container\n        ? document.querySelector(params.container)\n        : params.container;\n\n    if (!this.container) {\n      throw new Error(\"No container for wavesurfer timeline\");\n    }\n\n    this.wavesurfer = ws;\n    this.util = ws.util;\n    this.params = Object.assign(\n      {},\n      {\n        height: 20,\n        notchPercentHeight: 90,\n        labelPadding: 5,\n        unlabeledNotchColor: \"#c0c0c0\",\n        primaryColor: \"#000\",\n        secondaryColor: \"#c0c0c0\",\n        primaryFontColor: \"#000\",\n        secondaryFontColor: \"#000\",\n        fontFamily: \"Arial\",\n        fontSize: 10,\n        duration: null,\n        zoomDebounce: false,\n        formatTimeCallback: this.defaultFormatTimeCallback,\n        timeInterval: this.defaultTimeInterval,\n        primaryLabelInterval: this.defaultPrimaryLabelInterval,\n        secondaryLabelInterval: this.defaultSecondaryLabelInterval,\n        offset: 0\n      },\n      params\n    );\n\n    this.canvases = [];\n    this.wrapper = null;\n    this.drawer = null;\n    this.pixelRatio = null;\n    this.maxCanvasWidth = null;\n    this.maxCanvasElementWidth = null;\n    /**\n     * This event handler has to be in the constructor function because it\n     * relies on the debounce function which is only available after\n     * instantiation\n     *\n     * Use a debounced function if `params.zoomDebounce` is defined\n     *\n     * @returns {void}\n     */\n    this._onZoom = this.params.zoomDebounce\n      ? this.wavesurfer.util.debounce(\n          () => this.render(),\n          this.params.zoomDebounce\n        )\n      : () => this.render();\n  }\n\n  /**\n   * Initialisation function used by the plugin API\n   */\n  init() {\n    // Check if ws is ready\n    if (this.wavesurfer.isReady) {\n      this._onReady();\n    } else {\n      this.wavesurfer.once(\"ready\", this._onReady);\n    }\n  }\n\n  /**\n   * Destroy function used by the plugin API\n   */\n  destroy() {\n    this.unAll();\n    this.wavesurfer.un(\"redraw\", this._onRedraw);\n    this.wavesurfer.un(\"zoom\", this._onZoom);\n    this.wavesurfer.un(\"ready\", this._onReady);\n    this.wavesurfer.drawer.wrapper.removeEventListener(\n      \"scroll\",\n      this._onScroll\n    );\n    if (this.wrapper && this.wrapper.parentNode) {\n      this.wrapper.removeEventListener(\"click\", this._onWrapperClick);\n      this.wrapper.parentNode.removeChild(this.wrapper);\n      this.wrapper = null;\n    }\n  }\n\n  /**\n   * Create a timeline element to wrap the canvases drawn by this plugin\n   *\n   */\n  createWrapper() {\n    const wsParams = this.wavesurfer.params;\n    this.container.innerHTML = \"\";\n    this.wrapper = this.container.appendChild(\n      document.createElement(\"timeline\")\n    );\n    this.util.style(this.wrapper, {\n      display: \"block\",\n      position: \"relative\",\n      userSelect: \"none\",\n      webkitUserSelect: \"none\",\n      height: `${this.params.height}px`\n    });\n\n    if (wsParams.fillParent || wsParams.scrollParent) {\n      this.util.style(this.wrapper, {\n        width: \"100%\",\n        overflowX: \"hidden\",\n        overflowY: \"hidden\"\n      });\n    }\n\n    this.wrapper.addEventListener(\"click\", this._onWrapperClick);\n  }\n\n  /**\n   * Render the timeline (also updates the already rendered timeline)\n   *\n   */\n  render() {\n    if (!this.wrapper) {\n      this.createWrapper();\n    }\n    this.updateCanvases();\n    this.updateCanvasesPositioning();\n    this.renderCanvases();\n  }\n\n  /**\n   * Add new timeline canvas\n   *\n   */\n  addCanvas() {\n    const canvas = this.wrapper.appendChild(document.createElement(\"canvas\"));\n    this.canvases.push(canvas);\n    this.util.style(canvas, {\n      position: \"absolute\",\n      zIndex: 4\n    });\n  }\n\n  /**\n   * Remove timeline canvas\n   *\n   */\n  removeCanvas() {\n    const canvas = this.canvases.pop();\n    canvas.parentElement.removeChild(canvas);\n  }\n\n  /**\n   * Make sure the correct of timeline canvas elements exist and are cached in\n   * this.canvases\n   *\n   */\n  updateCanvases() {\n    const totalWidth = Math.round(this.drawer.wrapper.scrollWidth);\n    const requiredCanvases = Math.ceil(totalWidth / this.maxCanvasElementWidth);\n\n    while (this.canvases.length < requiredCanvases) {\n      this.addCanvas();\n    }\n\n    while (this.canvases.length > requiredCanvases) {\n      this.removeCanvas();\n    }\n  }\n\n  /**\n   * Update the dimensions and positioning style for all the timeline canvases\n   *\n   */\n  updateCanvasesPositioning() {\n    // cache length for performance\n    const canvasesLength = this.canvases.length;\n    this.canvases.forEach((canvas, i) => {\n      // canvas width is the max element width, or if it is the last the\n      // required width\n      const canvasWidth =\n        i === canvasesLength - 1\n          ? this.drawer.wrapper.scrollWidth -\n            this.maxCanvasElementWidth * (canvasesLength - 1)\n          : this.maxCanvasElementWidth;\n      // set dimensions and style\n      canvas.width = canvasWidth * this.pixelRatio;\n      // on certain pixel ratios the canvas appears cut off at the bottom,\n      // therefore leave 1px extra\n      canvas.height = (this.params.height + 1) * this.pixelRatio;\n      this.util.style(canvas, {\n        width: `${canvasWidth}px`,\n        height: `${this.params.height}px`,\n        left: `${i * this.maxCanvasElementWidth}px`\n      });\n    });\n  }\n\n  /**\n   * Render the timeline labels and notches\n   *\n   */\n  renderCanvases() {\n    const duration =\n      this.params.duration || this.wavesurfer.backend.getDuration();\n\n    if (duration <= 0) {\n      return;\n    }\n    const wsParams = this.wavesurfer.params;\n    const fontSize = this.params.fontSize * wsParams.pixelRatio;\n    const totalSeconds = parseInt(duration, 10) + 1;\n    const width =\n      wsParams.fillParent && !wsParams.scrollParent\n        ? this.drawer.getWidth()\n        : this.drawer.wrapper.scrollWidth * wsParams.pixelRatio;\n    const height1 = this.params.height * this.pixelRatio;\n    const height2 =\n      this.params.height *\n      (this.params.notchPercentHeight / 100) *\n      this.pixelRatio;\n    const pixelsPerSecond = width / duration;\n\n    const formatTime = this.params.formatTimeCallback;\n    // if parameter is function, call the function with\n    // pixelsPerSecond, otherwise simply take the value as-is\n    const intervalFnOrVal = option =>\n      typeof option === \"function\" ? option(pixelsPerSecond) : option;\n    const timeInterval = intervalFnOrVal(this.params.timeInterval);\n    const primaryLabelInterval = intervalFnOrVal(\n      this.params.primaryLabelInterval\n    );\n    const secondaryLabelInterval = intervalFnOrVal(\n      this.params.secondaryLabelInterval\n    );\n\n    let curPixel = pixelsPerSecond * this.params.offset;\n    let curSeconds = 0;\n    let i;\n    // build an array of position data with index, second and pixel data,\n    // this is then used multiple times below\n    const positioning = [];\n    for (i = 0; i < totalSeconds / timeInterval; i++) {\n      positioning.push([i, curSeconds, curPixel]);\n      curSeconds += timeInterval;\n      curPixel += pixelsPerSecond * timeInterval;\n    }\n\n    // iterate over each position\n    const renderPositions = cb => {\n      positioning.forEach(pos => {\n        cb(pos[0], pos[1], pos[2]);\n      });\n    };\n\n    // render primary labels\n    this.setFillStyles(this.params.primaryColor);\n    this.setFonts(`${fontSize}px ${this.params.fontFamily}`);\n    this.setFillStyles(this.params.primaryFontColor);\n    renderPositions((i, curSeconds, curPixel) => {\n      if (i % primaryLabelInterval === 0) {\n        this.fillRect(curPixel, 0, 1, height1);\n        this.fillText(\n          formatTime(curSeconds, pixelsPerSecond),\n          curPixel + this.params.labelPadding * this.pixelRatio,\n          height1\n        );\n      }\n    });\n\n    // render secondary labels\n    this.setFillStyles(this.params.secondaryColor);\n    this.setFonts(`${fontSize}px ${this.params.fontFamily}`);\n    this.setFillStyles(this.params.secondaryFontColor);\n    renderPositions((i, curSeconds, curPixel) => {\n      if (i % secondaryLabelInterval === 0) {\n        this.fillRect(curPixel, 0, 1, height1);\n        this.fillText(\n          formatTime(curSeconds, pixelsPerSecond),\n          curPixel + this.params.labelPadding * this.pixelRatio,\n          height1\n        );\n      }\n    });\n\n    // render the actual notches (when no labels are used)\n    this.setFillStyles(this.params.unlabeledNotchColor);\n    renderPositions((i, curSeconds, curPixel) => {\n      if (i % secondaryLabelInterval !== 0 && i % primaryLabelInterval !== 0) {\n        this.fillRect(curPixel, 0, 1, height2);\n      }\n    });\n  }\n\n  /**\n   * Set the canvas fill style\n   *\n   * @param {DOMString|CanvasGradient|CanvasPattern} fillStyle Fill style to\n   * use\n   */\n  setFillStyles(fillStyle) {\n    this.canvases.forEach(canvas => {\n      canvas.getContext(\"2d\").fillStyle = fillStyle;\n    });\n  }\n\n  /**\n   * Set the canvas font\n   *\n   * @param {DOMString} font Font to use\n   */\n  setFonts(font) {\n    this.canvases.forEach(canvas => {\n      canvas.getContext(\"2d\").font = font;\n    });\n  }\n\n  /**\n   * Draw a rectangle on the canvases\n   *\n   * (it figures out the offset for each canvas)\n   *\n   * @param {number} x X-position\n   * @param {number} y Y-position\n   * @param {number} width Width\n   * @param {number} height Height\n   */\n  fillRect(x, y, width, height) {\n    this.canvases.forEach((canvas, i) => {\n      const leftOffset = i * this.maxCanvasWidth;\n\n      const intersection = {\n        x1: Math.max(x, i * this.maxCanvasWidth),\n        y1: y,\n        x2: Math.min(x + width, i * this.maxCanvasWidth + canvas.width),\n        y2: y + height\n      };\n\n      if (intersection.x1 < intersection.x2) {\n        canvas\n          .getContext(\"2d\")\n          .fillRect(\n            intersection.x1 - leftOffset,\n            intersection.y1,\n            intersection.x2 - intersection.x1,\n            intersection.y2 - intersection.y1\n          );\n      }\n    });\n  }\n\n  /**\n   * Fill a given text on the canvases\n   *\n   * @param {string} text Text to render\n   * @param {number} x X-position\n   * @param {number} y Y-position\n   */\n  fillText(text, x, y) {\n    let textWidth;\n    let xOffset = 0;\n\n    this.canvases.forEach(canvas => {\n      const context = canvas.getContext(\"2d\");\n      const canvasWidth = context.canvas.width;\n\n      if (xOffset > x + textWidth) {\n        return;\n      }\n\n      if (xOffset + canvasWidth > x) {\n        textWidth = context.measureText(text).width;\n        context.fillText(text, x - xOffset, y);\n      }\n\n      xOffset += canvasWidth;\n    });\n  }\n\n  /**\n   * Turn the time into a suitable label for the time.\n   *\n   * @param {number} seconds Seconds to format\n   * @param {number} pxPerSec Pixels per second\n   * @returns {number} Time\n   */\n  defaultFormatTimeCallback(seconds, pxPerSec) {\n    if (seconds / 60 > 1) {\n      // calculate minutes and seconds from seconds count\n      const minutes = parseInt(seconds / 60, 10);\n      seconds = parseInt(seconds % 60, 10);\n      // fill up seconds with zeroes\n      seconds = seconds < 10 ? \"0\" + seconds : seconds;\n      return `${minutes}:${seconds}`;\n    }\n    return Math.round(seconds * 1000) / 1000;\n  }\n\n  /**\n   * Return how many seconds should be between each notch\n   *\n   * @param {number} pxPerSec Pixels per second\n   * @returns {number} Time\n   */\n  defaultTimeInterval(pxPerSec) {\n    if (pxPerSec >= 25) {\n      return 1;\n    } else if (pxPerSec * 5 >= 25) {\n      return 5;\n    } else if (pxPerSec * 15 >= 25) {\n      return 15;\n    }\n    return Math.ceil(0.5 / pxPerSec) * 60;\n  }\n\n  /**\n   * Return the cadence of notches that get labels in the primary color.\n   *\n   * @param {number} pxPerSec Pixels per second\n   * @returns {number} Cadence\n   */\n  defaultPrimaryLabelInterval(pxPerSec) {\n    if (pxPerSec >= 25) {\n      return 10;\n    } else if (pxPerSec * 5 >= 25) {\n      return 6;\n    } else if (pxPerSec * 15 >= 25) {\n      return 4;\n    }\n    return 4;\n  }\n\n  /**\n   * Return the cadence of notches that get labels in the secondary color.\n   *\n   * @param {number} pxPerSec Pixels per second\n   * @returns {number} Cadence\n   */\n  defaultSecondaryLabelInterval(pxPerSec) {\n    if (pxPerSec >= 25) {\n      return 5;\n    } else if (pxPerSec * 5 >= 25) {\n      return 2;\n    } else if (pxPerSec * 15 >= 25) {\n      return 2;\n    }\n    return 2;\n  }\n}\n","/* eslint no-unused-vars: 0 */\n/*eslint no-console: [\"error\", { allow: [\"warn\"] }] */\n/**\n * @typedef {Object} MinimapPluginParams\n * @desc Extends the `WavesurferParams` wavesurfer was initialised with\n * @property {?string|HTMLElement} container CSS selector or HTML element where\n * the map should be rendered. By default it is simply appended\n * after the waveform.\n * @property {?boolean} deferInit Set to true to manually call\n * `initPlugin('minimap')`\n */\n\n/**\n * Renders a smaller version waveform as a minimap of the main waveform.\n *\n * @implements {PluginClass}\n * @extends {Observer}\n * @example\n * // es6\n * import MinimapPlugin from 'wavesurfer.minimap.js';\n *\n * // commonjs\n * var MinimapPlugin = require('wavesurfer.minimap.js');\n *\n * // if you are using <script> tags\n * var MinimapPlugin = window.WaveSurfer.minimap;\n *\n * // ... initialising wavesurfer with the plugin\n * var wavesurfer = WaveSurfer.create({\n *   // wavesurfer options ...\n *   plugins: [\n *     MinimapPlugin.create({\n *       // plugin options ...\n *     })\n *   ]\n * });\n */\nexport default class MinimapPlugin {\n  /**\n   * Minimap plugin definition factory\n   *\n   * This function must be used to create a plugin definition which can be\n   * used by wavesurfer to correctly instantiate the plugin.\n   *\n   * @param  {MinimapPluginParams} params parameters use to initialise the plugin\n   * @return {PluginDefinition} an object representing the plugin\n   */\n  static create(params) {\n    return {\n      name: \"minimap\",\n      deferInit: params && params.deferInit ? params.deferInit : false,\n      params: params,\n      staticProps: {},\n      instance: MinimapPlugin\n    };\n  }\n\n  constructor(params, ws) {\n    this.params = Object.assign(\n      {},\n      ws.params,\n      {\n        showRegions: false,\n        showOverview: false,\n        overviewBorderColor: \"green\",\n        overviewBorderSize: 2,\n        // the container should be different\n        container: false,\n        height: Math.max(Math.round(ws.params.height / 4), 20)\n      },\n      params,\n      {\n        scrollParent: false,\n        fillParent: true\n      }\n    );\n    // if container is a selector, get the element\n    if (typeof params.container === \"string\") {\n      const el = document.querySelector(params.container);\n      if (!el) {\n        console.warn(\n          `Wavesurfer minimap container ${params.container} was not found! The minimap will be automatically appended below the waveform.`\n        );\n      }\n      this.params.container = el;\n    }\n    // if no container is specified add a new element and insert it\n    if (!params.container) {\n      this.params.container = ws.util.style(document.createElement(\"minimap\"), {\n        display: \"block\"\n      });\n    }\n    this.drawer = new ws.Drawer(this.params.container, this.params);\n    this.wavesurfer = ws;\n    this.util = ws.util;\n    /**\n     * Minimap needs to listen for the `ready` and `waveform-ready` events\n     * to work with the `MediaElement` backend. The moment the `ready` event\n     * is called is different (and peaks would not load).\n     *\n     * @type {string}\n     * @see https://github.com/katspaugh/wavesurfer.js/issues/736\n     */\n    this.renderEvent =\n      ws.params.backend === \"MediaElement\" ? \"waveform-ready\" : \"ready\";\n    this.overviewRegion = null;\n\n    this.drawer.createWrapper();\n    this.createElements();\n    let isInitialised = false;\n\n    // ws ready event listener\n    this._onShouldRender = () => {\n      // only bind the events in the first run\n      if (!isInitialised) {\n        this.bindWavesurferEvents();\n        this.bindMinimapEvents();\n        isInitialised = true;\n      }\n      // if there is no such element, append it to the container (below\n      // the waveform)\n      if (!document.body.contains(this.params.container)) {\n        ws.container.insertBefore(this.params.container, null);\n      }\n      // how solve this dependency??\n      if (this.wavesurfer.regions && this.params.showRegions) {\n        this.regions();\n      }\n      this.render();\n    };\n\n    this._onAudioprocess = currentTime => {\n      this.drawer.progress(this.wavesurfer.backend.getPlayedPercents());\n    };\n\n    // ws seek event listener\n    this._onSeek = () => this.drawer.progress(ws.backend.getPlayedPercents());\n\n    // event listeners for the overview region\n    this._onScroll = e => {\n      if (!this.draggingOverview) {\n        this.moveOverviewRegion(e.target.scrollLeft / this.ratio);\n      }\n    };\n    this._onMouseover = e => {\n      if (this.draggingOverview) {\n        this.draggingOverview = false;\n      }\n    };\n    let prevWidth = 0;\n    this._onResize = ws.util.debounce(() => {\n      if (prevWidth != this.drawer.wrapper.clientWidth) {\n        prevWidth = this.drawer.wrapper.clientWidth;\n        this.render();\n        this.drawer.progress(this.wavesurfer.backend.getPlayedPercents());\n      }\n    });\n    this._onZoom = e => {\n      this.render();\n    };\n    this.wavesurfer.on(\"zoom\", this._onZoom);\n  }\n\n  init() {\n    if (this.wavesurfer.isReady) {\n      this._onShouldRender();\n    }\n    this.wavesurfer.on(this.renderEvent, this._onShouldRender);\n  }\n\n  destroy() {\n    window.removeEventListener(\"resize\", this._onResize, true);\n    window.removeEventListener(\"orientationchange\", this._onResize, true);\n    this.wavesurfer.drawer.wrapper.removeEventListener(\n      \"mouseover\",\n      this._onMouseover\n    );\n    this.wavesurfer.un(this.renderEvent, this._onShouldRender);\n    this.wavesurfer.un(\"seek\", this._onSeek);\n    this.wavesurfer.un(\"scroll\", this._onScroll);\n    this.wavesurfer.un(\"audioprocess\", this._onAudioprocess);\n    this.wavesurfer.un(\"zoom\", this._onZoom);\n    this.drawer.destroy();\n    this.overviewRegion = null;\n    this.unAll();\n  }\n\n  regions() {\n    this.regions = {};\n\n    this.wavesurfer.on(\"region-created\", region => {\n      this.regions[region.id] = region;\n      this.renderRegions();\n    });\n\n    this.wavesurfer.on(\"region-updated\", region => {\n      this.regions[region.id] = region;\n      this.renderRegions();\n    });\n\n    this.wavesurfer.on(\"region-removed\", region => {\n      delete this.regions[region.id];\n      this.renderRegions();\n    });\n  }\n\n  renderRegions() {\n    const regionElements = this.drawer.wrapper.querySelectorAll(\"region\");\n    let i;\n    for (i = 0; i < regionElements.length; ++i) {\n      this.drawer.wrapper.removeChild(regionElements[i]);\n    }\n\n    Object.keys(this.regions).forEach(id => {\n      const region = this.regions[id];\n      const width =\n        this.getWidth() *\n        ((region.end - region.start) / this.wavesurfer.getDuration());\n      const left =\n        this.getWidth() * (region.start / this.wavesurfer.getDuration());\n      const regionElement = this.util.style(document.createElement(\"region\"), {\n        height: \"inherit\",\n        backgroundColor: region.color,\n        width: width + \"px\",\n        left: left + \"px\",\n        display: \"block\",\n        position: \"absolute\"\n      });\n      regionElement.classList.add(id);\n      this.drawer.wrapper.appendChild(regionElement);\n    });\n  }\n\n  createElements() {\n    this.drawer.createElements();\n    if (this.params.showOverview) {\n      this.overviewRegion = this.util.style(\n        document.createElement(\"overview\"),\n        {\n          top: 0,\n          bottom: 0,\n          width: \"0px\",\n          display: \"block\",\n          position: \"absolute\",\n          cursor: \"move\",\n          border:\n            this.params.overviewBorderSize +\n            \"px solid \" +\n            this.params.overviewBorderColor,\n          zIndex: 2,\n          opacity: this.params.overviewOpacity\n        }\n      );\n      this.drawer.wrapper.appendChild(this.overviewRegion);\n    }\n  }\n\n  bindWavesurferEvents() {\n    window.addEventListener(\"resize\", this._onResize, true);\n    window.addEventListener(\"orientationchange\", this._onResize, true);\n    this.wavesurfer.on(\"audioprocess\", this._onAudioprocess);\n    this.wavesurfer.on(\"seek\", this._onSeek);\n    if (this.params.showOverview) {\n      this.wavesurfer.on(\"scroll\", this._onScroll);\n      this.wavesurfer.drawer.wrapper.addEventListener(\n        \"mouseover\",\n        this._onMouseover\n      );\n    }\n  }\n\n  bindMinimapEvents() {\n    const positionMouseDown = {\n      clientX: 0,\n      clientY: 0\n    };\n    let relativePositionX = 0;\n    let seek = true;\n\n    // the following event listeners will be destroyed by using\n    // this.unAll() and nullifying the DOM node references after\n    // removing them\n    if (this.params.interact) {\n      this.drawer.wrapper.addEventListener(\"click\", event => {\n        this.fireEvent(\"click\", event, this.drawer.handleEvent(event));\n      });\n\n      this.on(\"click\", (event, position) => {\n        if (seek) {\n          this.drawer.progress(position);\n          this.wavesurfer.seekAndCenter(position);\n        } else {\n          seek = true;\n        }\n      });\n    }\n\n    if (this.params.showOverview) {\n      this.overviewRegion.addEventListener(\"mousedown\", event => {\n        this.draggingOverview = true;\n        relativePositionX = event.layerX;\n        positionMouseDown.clientX = event.clientX;\n        positionMouseDown.clientY = event.clientY;\n      });\n\n      this.drawer.wrapper.addEventListener(\"mousemove\", event => {\n        if (this.draggingOverview) {\n          this.moveOverviewRegion(\n            event.clientX -\n              this.drawer.container.getBoundingClientRect().left -\n              relativePositionX\n          );\n        }\n      });\n\n      this.drawer.wrapper.addEventListener(\"mouseup\", event => {\n        if (\n          positionMouseDown.clientX - event.clientX === 0 &&\n          positionMouseDown.clientX - event.clientX === 0\n        ) {\n          seek = true;\n          this.draggingOverview = false;\n        } else if (this.draggingOverview) {\n          seek = false;\n          this.draggingOverview = false;\n        }\n      });\n    }\n  }\n\n  render() {\n    const len = this.drawer.getWidth();\n    const peaks = this.wavesurfer.backend.getPeaks(len, 0, len);\n    this.drawer.drawPeaks(peaks, len, 0, len);\n    this.drawer.progress(this.wavesurfer.backend.getPlayedPercents());\n\n    if (this.params.showOverview) {\n      //get proportional width of overview region considering the respective\n      //width of the drawers\n      this.ratio = this.wavesurfer.drawer.width / this.drawer.width;\n      this.waveShowedWidth = this.wavesurfer.drawer.width / this.ratio;\n      this.waveWidth = this.wavesurfer.drawer.width;\n      this.overviewWidth = this.drawer.container.offsetWidth / this.ratio;\n      this.overviewPosition = 0;\n      this.moveOverviewRegion(\n        this.wavesurfer.drawer.wrapper.scrollLeft / this.ratio\n      );\n      this.overviewRegion.style.width = this.overviewWidth + \"px\";\n    }\n  }\n\n  moveOverviewRegion(pixels) {\n    if (pixels < 0) {\n      this.overviewPosition = 0;\n    } else if (\n      pixels + this.overviewWidth <\n      this.drawer.container.offsetWidth\n    ) {\n      this.overviewPosition = pixels;\n    } else {\n      this.overviewPosition =\n        this.drawer.container.offsetWidth - this.overviewWidth;\n    }\n    this.overviewRegion.style.left = this.overviewPosition + \"px\";\n    if (this.draggingOverview) {\n      this.wavesurfer.drawer.wrapper.scrollLeft =\n        this.overviewPosition * this.ratio;\n    }\n  }\n\n  getWidth() {\n    return this.drawer.width / this.params.pixelRatio;\n  }\n}\n","let TIERS = {};\n/**\n * @typedef {Object} MultilinePluginParams\n * @desc Extends the `WavesurferParams` wavesurfer was initialised with\n * @property {!string|HTMLElement} container CSS selector or HTML element where\n * the multiline should be drawn. This is the only required parameter.\n * @property {number} notchPercentHeight=90 Height of notches in percent\n * that do not have labels\n * @property {string} Color='#000' The color of the main notches\n * @property {string} FontColor='#000' The color of the labels next to\n * the main notches\n * @property {number} labelPadding=5 The padding between the label and the notch\n * @property {?number} zoomDebounce A debounce timeout to increase rendering\n * performance for large files\n * @property {string} fontFamily='Arial'\n * @property {number} fontSize=10 Font size of labels in pixels\n * getDuration() for setting length of multiline\n * @property {function} formatTimeCallback (sec, pxPerSec) -> label\n * @property {?number} offset Offset for the multiline start in seconds. May also be\n * negative.\n * @property {?boolean} deferInit Set to true to manually call\n * `initPlugin('multiline')`\n */\n\n/**\n * Adds a multi annotation tier to the waveform.\n *\n * @implements {PluginClass}\n * @extends {Observer}\n * @example\n * // es6\n * import Multiline from 'wavesurfer.multiline.js';\n *\n * // commonjs\n * var Multiline = require('wavesurfer.multiline.js');\n *\n * // if you are using <script> tags\n * var Multiline = window.WaveSurfer.multiline;\n *\n * // ... initialising wavesurfer with the plugin\n * var wavesurfer = WaveSurfer.create({\n *   // wavesurfer options ...\n *   plugins: [\n *     Multiline.create({\n *       // plugin options ...\n *     })\n *   ]\n * });\n */\nexport default class MultilinePlugin {\n  /**\n   * Multiline plugin definition factory\n   *\n   * This function must be used to create a plugin definition which can be\n   * used by wavesurfer to correctly instantiate the plugin.\n   *\n   * @param  {MultilineParams} params parameters use to initialise the plugin\n   * @return {PluginDefinition} an object representing the plugin\n   */\n  static create(params) {\n    return {\n      name: \"multiline\",\n      deferInit: params && params.deferInit ? params.deferInit : false,\n      params: params,\n      instance: MultilinePlugin\n    };\n  }\n\n  // event handlers\n  /** @private */\n  _onScroll = () => {\n    if (this.wrapper && this.drawer.wrapper) {\n      this.wrapper.scrollLeft = this.drawer.wrapper.scrollLeft;\n    }\n  };\n\n  /**\n   * @private\n   * @returns {void}\n   */\n  _onRedraw = () => this.render();\n\n  /** @private */\n  _onReady = () => {\n    const ws = this.wavesurfer;\n    this.drawer = ws.drawer;\n    this.pixelRatio = ws.drawer.params.pixelRatio;\n    this.isDragging = false;\n    this.draggingItemIdx = null;\n\n    const wsp = ws.params;\n    this.duration = this.wavesurfer.backend.getDuration();\n    const width =\n      wsp.fillParent && !wsp.scrollParent\n        ? this.drawer.getWidth()\n        : this.drawer.wrapper.scrollWidth * wsp.pixelRatio;\n    this.pixelsPerSecond = width / this.duration;\n\n    this.maxCanvasWidth = ws.drawer.maxCanvasWidth || ws.drawer.width;\n    this.maxCanvasElementWidth =\n      ws.drawer.maxCanvasElementWidth ||\n      Math.round(this.maxCanvasWidth / this.pixelRatio);\n\n    // add listeners\n    ws.drawer.wrapper.addEventListener(\"scroll\", this._onScroll);\n    ws.on(\"redraw\", this._onRedraw);\n    ws.on(\"zoom\", this._onZoom);\n    this.render();\n  };\n\n  /**\n   * @private\n   * @param {object} e Click event\n   */\n  _onWrapperClick = e => {\n    e.preventDefault();\n    const relX = \"offsetX\" in e ? e.offsetX : e.layerX;\n    const time = relX / this.pixelsPerSecond;\n    const idx = this.getCurrentItemIndex(time);\n    for (const i in this.items) {\n      this.items[i].color = null;\n      if (i == idx) {\n        if (this.tierType == \"interval\") {\n          this.items[idx].color = this.params.focusColor;\n        } else {\n          this.items[idx].color = this.params.focusPointColor;\n        }\n        this.lastIdx = idx;\n      }\n    }\n    this.updateCanvases();\n    this.updateCanvasesPositioning();\n    this.renderCanvases();\n    this.wavesurfer.seekTo(time / this.duration);\n    const payload = {\n      name: this.name,\n      id: Number(idx),\n      item: this.items[idx]\n    };\n    this.wavesurfer.fireEvent(\"multiline-update-current\", payload);\n  };\n\n  /**\n   * @private\n   * @param {object} e Click event\n   */\n  _onDblClick = e => {\n    e.preventDefault();\n    const relX = \"offsetX\" in e ? e.offsetX : e.layerX;\n    const time = relX / this.pixelsPerSecond;\n    this.addItem({ time: time, text: \"\", color: null });\n  };\n  /**\n   * @private\n   * @param {object} e Mousemove event\n   */\n  _onMouseMove = e => {\n    e.preventDefault();\n    const relX = \"offsetX\" in e ? e.offsetX : e.layerX;\n    const time = relX / this.pixelsPerSecond;\n    if (this.isCollisioned(time)) {\n      if (time.toFixed(this.params.csd) > 0) {\n        document.body.style.cursor = \"col-resize\";\n      }\n      if (this.tierType == \"point\") {\n        this.lastIdx = this.getCurrentItemIndex(time);\n      }\n    } else {\n      if (!this.isDragging) {\n        document.body.style.cursor = \"default\";\n      } else if (this.draggingItemIdx > 0) {\n        this.items[this.draggingItemIdx].time = time;\n        this.items = this.items.sort((a, b) => {\n          return a.time - b.time;\n        });\n        this.wavesurfer.fireEvent(\"multiline-update-tiers\");\n        this.updateCanvases();\n        this.updateCanvasesPositioning();\n        this.renderCanvases();\n      }\n    }\n  };\n\n  /**\n   * @private\n   * @param {object} e Click event\n   */\n  _onMouseUp = e => {\n    e.preventDefault();\n    if (this.isDragging) {\n      this.isDragging = false;\n      document.body.style.cursor = \"default\";\n    }\n  };\n\n  /**\n   * @private\n   * @param {object} e Click event\n   */\n  _onMouseDown = e => {\n    e.preventDefault();\n    const relX = \"offsetX\" in e ? e.offsetX : e.layerX;\n    const time = relX / this.pixelsPerSecond;\n    this.isDragging = false;\n    if (this.isCollisioned(time)) {\n      if (time.toFixed(this.params.csd) > 0) {\n        this.draggingItemIdx = this.getCurrentItemIndex(time);\n        this.isDragging = true;\n      }\n    }\n  };\n\n  /**\n   * @private\n   * @param {object} e Click event\n   */\n  _onMouseOut = e => {\n    e.preventDefault();\n    document.body.style.cursor = \"default\";\n    for (const i in this.items) {\n      this.items[i].color = null;\n    }\n    this.updateCanvases();\n    this.updateCanvasesPositioning();\n    this.renderCanvases();\n    this.wrapper.style.backgroundColor = null;\n  };\n\n  /**\n   * @private\n   * @param {object} e Click event\n   */\n  _onKeyDown = e => {\n    if (e.key != \"Shift\") {\n      e.preventDefault();\n      if (e.key != \"Control\") {\n        if (e.key != \"Alt\") {\n          if (e.key == \"Backspace\") {\n            this._onKeyBackSpace();\n          } else if (e.key == \"Tab\") {\n            this._onTab();\n          }\n          this.onCtrl = false;\n        } else {\n          this.onCtrl = true;\n        }\n      } else {\n        this.onCtrl = true;\n      }\n    }\n  };\n\n  /**\n   * @private\n   * @param {object} e Click event\n   */\n  _onKeyBackSpace = () => {\n    if (this.lastIdx) {\n      if (this.onCtrl === true) {\n        this.deleteItem(this.lastIdx);\n      } else {\n        this.items[this.lastIdx].text = this.items[this.lastIdx].text.slice(\n          0,\n          -1\n        );\n        this.items = this.items.sort((a, b) => {\n          return a.time - b.time;\n        });\n        this.updateCanvases();\n        this.updateCanvasesPositioning();\n        this.renderCanvases();\n        const payload = {\n          name: this.name,\n          id: Number(this.lastIdx),\n          item: this.items[this.lastIdx]\n        };\n        this.wavesurfer.fireEvent(\"multiline-update-tiers\");\n        this.wavesurfer.fireEvent(\"multiline-update-tiers\", payload);\n      }\n    }\n  };\n\n  _onTab = () => {\n    let lastTime;\n    if (this.lastIdx != this.items.length - 1) {\n      lastTime = this.items[this.lastIdx + 1].time;\n    } else {\n      lastTime = this.duration;\n    }\n    if (this.wavesurfer.isPlaying()) {\n      this.wavesurfer.pause();\n    } else {\n      this.wavesurfer.play(this.items[this.lastIdx].time, lastTime);\n      this.fireEvent(\"play\");\n      this.wavesurfer.fireEvent(\"region-play\", this);\n    }\n  };\n\n  /**\n   * Creates an instance of Multiline.\n   *\n   * You probably want to use Multiline.create()\n   *\n   * @param {MultilineParams} params Plugin parameters\n   * @param {object} ws Wavesurfer instance\n   */\n  constructor(params, ws) {\n    /** @private */\n    this.wavesurfer = ws;\n    /** @private */\n    this.util = ws.util;\n\n    /** @private */\n    this.container =\n      \"string\" == typeof params.container\n        ? document.querySelector(params.container)\n        : params.container;\n    if (!this.container) {\n      throw new Error(\"No container for wavesurfer multiline\");\n    } else {\n      this.wavesurfer.getTierNum = () => {\n        return this.container.children.length;\n      };\n      this.wavesurfer.getTiers = () => {\n        const res = [];\n        for (const key in this.tiers) {\n          res.push({\n            name: this.tiers[key].name,\n            tierType: this.tiers[key].tierType,\n            items: this.tiers[key].items\n          });\n        }\n        return res;\n      };\n    }\n\n    /** @private */\n    this.name =\n      \"string\" == typeof params.name ? params.name : String(params.name);\n    if (!this.name) {\n      throw new Error(\"No name for wavesurfer multiline\");\n    }\n\n    /** @private */\n    this.tierType = \"string\" == typeof params.tierType ? params.tierType : null;\n    if (!this.tierType) {\n      throw new Error(\"No tierType for wavesurfer multiline\");\n    }\n    // check tierType\n    if (this.tierType != \"interval\" && this.tierType != \"point\") {\n      throw new Error(`${this.tierType} is not supported tierType`);\n    }\n\n    this.tiers = TIERS;\n    this.tiers[this.name] = this;\n\n    this.items = [];\n    if (params.items) {\n      for (const item of params.items) {\n        if (item.time) {\n          this.items.push(item);\n        }\n      }\n    }\n    this.wavesurfer.fireEvent(\"multiline-update-tiers\");\n\n    /** @private */\n    this.params = this.util.extend(\n      {},\n      {\n        csd: 1, //collisionSignificantDigits\n        height: 50,\n        notchPercentHeight: 90,\n        labelPadding: 5,\n        focusBgColor: \"#CFD8DC\",\n        focusColor: \"#FFE082\",\n        focusPointColor: \"#F44336\",\n        Color: \"#000000\",\n        fontFamily: \"Arial\",\n        fontSize: 10,\n        zoomDebounce: false,\n        formatTimeCallback: this.defaultFormatTimeCallback,\n        offset: 0\n      },\n      params\n    );\n\n    /** @private */\n    this.canvases = [];\n    /** @private */\n    this.wrapper = null;\n    /** @private */\n    this.drawer = null;\n    /** @private */\n    this.pixelRatio = null;\n    /** @private */\n    this.maxCanvasWidth = null;\n    /** @private */\n    this.maxCanvasElementWidth = null;\n    /** @private */\n    this.onCtrl = false;\n    /** @private */\n    this.lastIdx = null;\n    /**\n     * This event handler has to be in the constructor function because it\n     * relies on the debounce function which is only available after\n     * instantiation\n     *\n     * Use a debounced function if `params.zoomDebounce` is defined\n     *\n     * @private\n     * @returns {void}\n     */\n    this._onZoom = this.params.zoomDebounce\n      ? this.wavesurfer.util.debounce(\n          () => this.render(),\n          this.params.zoomDebounce\n        )\n      : () => this.render();\n  }\n\n  /**\n   * Initialisation function used by the plugin API\n   */\n  init() {\n    // Check if ws is ready\n    if (this.wavesurfer.isReady) {\n      this._onReady();\n    } else {\n      this.wavesurfer.once(\"ready\", this._onReady);\n    }\n  }\n\n  /**\n   * Destroy function used by the plugin API\n   */\n  destroy() {\n    this.unAll();\n    this.wavesurfer.un(\"redraw\", this._onRedraw);\n    this.wavesurfer.un(\"zoom\", this._onZoom);\n    this.wavesurfer.un(\"ready\", this._onReady);\n    this.wavesurfer.drawer.wrapper.removeEventListener(\n      \"scroll\",\n      this._onScroll\n    );\n    if (this.wrapper && this.wrapper.parentNode) {\n      this.wrapper.removeEventListener(\"click\", this._onWrapperClick);\n      this.wrapper.parentNode.removeChild(this.wrapper);\n      this.wrapper = null;\n    }\n  }\n  /**\n   * get current item by time\n   * @param {number} time Current time.\n   * @return {Object} an object of this tier.\n   */\n  getCurrentItem(time) {\n    if (this.tierType == \"interval\") {\n      const item = this.items.find(x => {\n        return time.toFixed(this.params.csd) == x.time.toFixed(this.params.csd);\n      });\n      if (item) {\n        return item;\n      } else {\n        const array = this.items.filter(x => {\n          return time >= x.time;\n        });\n        return array.length > 0 ? array[array.length - 1] : undefined;\n      }\n    } else {\n      const array = this.items.map(x => {\n        return {\n          check: Math.abs(x.time - time),\n          item: x\n        };\n      });\n      array.sort((a, b) => {\n        return a.check - b.check;\n      });\n      return array.length > 0 ? array[0].item : undefined;\n    }\n  }\n  getCurrentItemIndex(time) {\n    const item = this.getCurrentItem(time);\n    if (item) {\n      return this.items.findIndex(x => {\n        return x.time == item.time;\n      });\n    }\n    return null;\n  }\n  findItemByTime(time) {\n    return this.items.find(item => {\n      return item.time == time;\n    });\n  }\n  findItemIndexByTime(time) {\n    return this.items.findIndex(item => {\n      return item.time == time;\n    });\n  }\n  addItem(item) {\n    if (item.time) {\n      this.items.push(item);\n      this.items = this.items.sort((a, b) => {\n        return a.time - b.time;\n      });\n      this.wavesurfer.fireEvent(\"multiline-update-tiers\");\n      this.updateCanvases();\n      this.updateCanvasesPositioning();\n      this.renderCanvases();\n    }\n  }\n  deleteItem(idx) {\n    this.items.splice(idx, 1);\n    this.items = this.items.sort((a, b) => {\n      return a.time - b.time;\n    });\n    this.wavesurfer.fireEvent(\"multiline-update-tiers\");\n    this.updateCanvases();\n    this.updateCanvasesPositioning();\n    this.renderCanvases();\n  }\n  putText(idx, text, isRender = true) {\n    this.items = this.items.sort((a, b) => {\n      a.time - b.time;\n    });\n    this.items[idx].text = text;\n    this.wavesurfer.fireEvent(\"multiline-update-tiers\");\n    if (isRender === true) {\n      this.updateCanvases();\n      this.updateCanvasesPositioning();\n      this.renderCanvases();\n    }\n  }\n  isCollisioned(time) {\n    return this.items.some(x => {\n      return time.toFixed(this.params.csd) == x.time.toFixed(this.params.csd);\n    });\n  }\n  /**\n   * Create a multiline element to wrap the canvases drawn by this plugin\n   *\n   * @private\n   */\n  createWrapper() {\n    const wsParams = this.wavesurfer.params;\n    this.wrapper = this.container.appendChild(\n      document.createElement(`multiline-${this.name}`)\n    );\n    this.util.style(this.wrapper, {\n      display: \"block\",\n      position: \"relative\",\n      userSelect: \"none\",\n      webkitUserSelect: \"none\",\n      height: `${this.params.height}px`\n    });\n    const tiers = this.container.children;\n    if (tiers.length == 1) {\n      this.util.style(this.wrapper, {\n        \"border-top\": \"solid 1px gray\",\n        \"border-bottom\": \"solid 1px gray\"\n      });\n    } else {\n      this.util.style(this.wrapper, {\n        \"border-bottom\": \"solid 1px gray\"\n      });\n    }\n    if (wsParams.fillParent || wsParams.scrollParent) {\n      this.util.style(this.wrapper, {\n        width: \"100%\",\n        overflowX: \"hidden\",\n        overflowY: \"hidden\"\n      });\n    }\n    this.wrapper.addEventListener(\"click\", this._onWrapperClick);\n  }\n\n  /**\n   * Render the multiline (also updates the already rendered multiline)\n   *\n   * @private\n   */\n  render() {\n    if (!this.wrapper) {\n      this.createWrapper();\n    }\n    this.updateCanvases();\n    this.updateCanvasesPositioning();\n    this.renderCanvases();\n  }\n\n  /**\n   * Add new multiline canvas\n   *\n   * @private\n   */\n  addCanvas() {\n    const canvas = this.wrapper.appendChild(document.createElement(\"canvas\"));\n    canvas.addEventListener(\"dblclick\", this._onDblClick, false);\n    canvas.addEventListener(\"mousemove\", this._onMouseMove, false);\n    canvas.addEventListener(\"mousedown\", this._onMouseDown, false);\n    canvas.addEventListener(\"mouseup\", this._onMouseUp, false);\n    canvas.addEventListener(\n      \"mouseover\",\n      () => {\n        canvas.focus();\n        this.wrapper.style.backgroundColor = this.params.focusBgColor;\n      },\n      false\n    );\n    canvas.addEventListener(\"mouseout\", this._onMouseOut, false);\n    canvas.addEventListener(\"keydown\", this._onKeyDown, false);\n    canvas.setAttribute(\"tabindex\", 0);\n\n    this.canvases.push(canvas);\n    this.util.style(canvas, {\n      position: \"absolute\",\n      zIndex: 4\n    });\n  }\n\n  /**\n   * Remove multiline canvas\n   *\n   * @private\n   */\n  removeCanvas() {\n    const canvas = this.canvases.pop();\n    canvas.parentElement.removeChild(canvas);\n  }\n\n  /**\n   * Make sure the correct of multiline canvas elements exist and are cached in\n   * this.canvases\n   *\n   * @private\n   */\n  updateCanvases() {\n    const totalWidth = Math.round(this.drawer.wrapper.scrollWidth);\n    const requiredCanvases = Math.ceil(totalWidth / this.maxCanvasElementWidth);\n    while (this.canvases.length < requiredCanvases) {\n      this.addCanvas();\n    }\n    while (this.canvases.length > requiredCanvases) {\n      this.removeCanvas();\n    }\n  }\n\n  /**\n   * Update the dimensions and positioning style for all the multiline canvases\n   *\n   * @private\n   */\n  updateCanvasesPositioning() {\n    // cache length for performance\n    const canvasesLength = this.canvases.length;\n    this.canvases.forEach((canvas, i) => {\n      // canvas width is the max element width, or if it is the last the\n      // required width\n      const canvasWidth =\n        i === canvasesLength - 1\n          ? this.drawer.wrapper.scrollWidth -\n            this.maxCanvasElementWidth * (canvasesLength - 1)\n          : this.maxCanvasElementWidth;\n      // set dimensions and style\n      canvas.width = canvasWidth * this.pixelRatio;\n      // on certain pixel ratios the canvas appears cut off at the bottom,\n      // therefore leave 1px extra\n      canvas.height = (this.params.height + 1) * this.pixelRatio;\n      this.util.style(canvas, {\n        width: `${canvasWidth}px`,\n        height: `${this.params.height}px`,\n        left: `${i * this.maxCanvasElementWidth}px`\n      });\n    });\n  }\n\n  /**\n   * Render the multiline labels and notches\n   *\n   * @private\n   */\n  renderCanvases() {\n    if (this.duration <= 0) {\n      return;\n    }\n    const wsParams = this.wavesurfer.params;\n    const width =\n      wsParams.fillParent && !wsParams.scrollParent\n        ? this.drawer.getWidth()\n        : this.drawer.wrapper.scrollWidth * wsParams.pixelRatio;\n    const height = this.params.height * this.pixelRatio;\n    const fontSize = this.params.fontSize * wsParams.pixelRatio;\n\n    this.setFillStyles(this.params.Color);\n    this.setFonts(`${fontSize}px ${this.params.fontFamily}`);\n\n    // render items\n    this.fillLine(0, 0, 1, height);\n    for (const i in this.items) {\n      const item = this.items[i];\n      const curPixel = this.pixelsPerSecond * item.time;\n      if (this.tierType == \"interval\") {\n        if (item.color) {\n          let rectDuration;\n          if (i < this.items.length - 1) {\n            rectDuration = this.items[i + 1].time - item.time;\n          } else {\n            rectDuration = this.duration - item.time;\n          }\n          const rectWidth = rectDuration * this.pixelsPerSecond;\n          this.fillRect(curPixel, 0, rectWidth, height, item.color);\n        }\n        this.fillLine(curPixel, 0, 1, height);\n        this.fillText(item.text, curPixel, height / 2, fontSize);\n      } else {\n        if (item.text) {\n          if (item.color) {\n            this.fillText(\n              item.text,\n              curPixel,\n              height / 2,\n              fontSize,\n              item.color\n            );\n            this.fillLine(curPixel, 0, 3, height / 4, item.color);\n          } else {\n            this.fillText(item.text, curPixel, height / 2, fontSize);\n            this.fillLine(curPixel, 0, 1, height / 4);\n          }\n        } else {\n          if (item.color) {\n            this.fillLine(curPixel, 0, 3, height, item.color);\n          } else {\n            this.fillLine(curPixel, 0, 1, height);\n          }\n        }\n      }\n    }\n    this.fillLine(width, 0, 1, height);\n  }\n\n  /**\n   * Set the canvas fill style\n   *\n   * @param {DOMString|CanvasGradient|CanvasPattern} fillStyle Fill style to\n   * use\n   * @private\n   */\n  setFillStyles(fillStyle) {\n    this.canvases.forEach(canvas => {\n      canvas.getContext(\"2d\").fillStyle = fillStyle;\n    });\n  }\n\n  getFillStyles() {\n    this.canvases.forEach(canvas => {\n      return canvas.getContext(\"2d\").fillStyle;\n    });\n  }\n\n  /**\n   * Set the canvas font\n   *\n   * @param {DOMString} font Font to use\n   * @private\n   */\n  setFonts(font) {\n    this.canvases.forEach(canvas => {\n      canvas.getContext(\"2d\").font = font;\n    });\n  }\n\n  fillRect(x, y, width, height, color) {\n    this.setFillStyles(color);\n    this.canvases.forEach((canvas, i) => {\n      const leftOffset = i * this.maxCanvasWidth;\n      const intersection = {\n        x: Math.max(x, i * this.maxCanvasWidth),\n        y2: y + height\n      };\n      canvas\n        .getContext(\"2d\")\n        .fillRect(intersection.x - leftOffset, y, width, intersection.y2 - y);\n    });\n    this.setFillStyles(this.params.Color);\n  }\n  /**\n   * Draw a rectangle on the canvases\n   *\n   * (it figures out the offset for each canvas)\n   *\n   * @param {number} x X-position\n   * @param {number} y Y-position\n   * @param {number} width Width\n   * @param {number} height Height\n   * @private\n   */\n  fillLine(x, y, width, height, color) {\n    this.setFillStyles(color);\n    this.canvases.forEach((canvas, i) => {\n      const leftOffset = i * this.maxCanvasWidth;\n      const intersection = {\n        x1: Math.max(x, i * this.maxCanvasWidth),\n        y1: y,\n        x2: Math.min(x + width, i * this.maxCanvasWidth + canvas.width),\n        y2: y + height\n      };\n      if (intersection.x1 < intersection.x2) {\n        canvas\n          .getContext(\"2d\")\n          .fillRect(\n            intersection.x1 - leftOffset,\n            intersection.y1,\n            intersection.x2 - intersection.x1,\n            intersection.y2 - intersection.y1\n          );\n      } else {\n        canvas\n          .getContext(\"2d\")\n          .fillRect(\n            intersection.x1 - 1 - leftOffset,\n            intersection.y1,\n            1,\n            intersection.y2 - intersection.y1\n          );\n      }\n    });\n    this.setFillStyles(this.params.Color);\n  }\n\n  /**\n   * Fill a given text on the canvases\n   *\n   * @param {string} text Text to render\n   * @param {number} x X-position\n   * @param {number} y Y-position\n   * @param {number} fs fontSize\n   * @private\n   */\n  fillText(text, x, y, fs, color) {\n    this.setFillStyles(color);\n    let textWidth;\n    let xOffset = 0;\n    this.canvases.forEach(canvas => {\n      const context = canvas.getContext(\"2d\");\n      const canvasWidth = context.canvas.width;\n      if (xOffset > x + textWidth) {\n        return;\n      }\n      if (xOffset + canvasWidth > x) {\n        textWidth = context.measureText(text).width;\n        let _x = x - textWidth / 2;\n        if (this.tierType == \"interval\") {\n          _x = x + fs / 2;\n        }\n        const _y = y + fs / 2;\n        context.fillText(text, _x - xOffset, _y);\n      }\n      xOffset += canvasWidth;\n      this.setFillStyles(this.params.Color);\n    });\n  }\n}\n","<template>\n  <v-container v-resize=\"onResize\" fluid class=\"pa-0 movie-annotaion\">\n    <m-tool-bar v-if=\"item\" :file-name=\"item.name\" :menu-funcs=\"menuFuncs\">\n      <template v-slot:setting>\n        <m-setting-menu :menuFuncs=\"menuFuncs\" />\n      </template>\n    </m-tool-bar>\n    <v-card color=\"background\">\n      <v-container v-if=\"item\">\n        <v-row>\n          <v-col class=\"flex-grow-1 flex-shrink-1\">\n            <v-card ref=\"videoCard\" flat color=\"background\">\n              <m-video-array\n                ref=\"videoArray\"\n                :src=\"item.dataUrl\"\n                :frameOffset=\"frameOffset\"\n                :fps=\"item.fps\"\n                @loadeddata=\"onLoadeddata\"\n                @syncCanvas=\"onSyncCanvas\"\n              />\n              <v-card>\n                <v-card-actions>\n                  <v-btn icon @click=\"skip(-1 * skipConf.long)\">\n                    <v-icon>mdi-skip-backward</v-icon>\n                  </v-btn>\n                  <v-btn icon @click=\"skip(-1 * skipConf.short)\">\n                    <v-icon>mdi-skip-previous</v-icon>\n                  </v-btn>\n                  <v-spacer></v-spacer>\n                  <v-btn fab dark small color=\"accent\" @click=\"play\">\n                    <v-icon> mdi-play </v-icon>\n                  </v-btn>\n                  <v-btn fab dark small color=\"accent\" @click=\"pause\">\n                    <v-icon> mdi-pause </v-icon>\n                  </v-btn>\n                  <v-spacer></v-spacer>\n                  <v-btn icon @click=\"skip(skipConf.short)\">\n                    <v-icon>mdi-skip-next</v-icon>\n                  </v-btn>\n                  <v-btn icon @click=\"skip(skipConf.long)\">\n                    <v-icon>mdi-skip-forward</v-icon>\n                  </v-btn>\n                </v-card-actions>\n              </v-card>\n            </v-card>\n          </v-col>\n          <v-col cols=\"5\" class=\"flex-grow-1 flex-shrink-1 d-none d-sm-flex\">\n            <m-tier-list\n              v-if=\"tiers\"\n              :actions=\"tierActions\"\n              :items=\"tiers\"\n              :ws=\"ws\"\n              :max-height=\"videoHeight\"\n            />\n          </v-col>\n        </v-row>\n        <v-progress-linear\n          v-if=\"isLoading\"\n          color=\"accent\"\n          height=\"10\"\n          indeterminate\n        />\n        <v-card>\n          <v-card id=\"wave-spectrogram\" />\n          <v-card id=\"wave-timeline\" />\n          <v-text-field\n            @input=\"onChangeText\"\n            @keydown.enter=\"onEnterText\"\n            ref=\"textField\"\n            v-model=\"text\"\n            label=\"Text\"\n            hide-details\n            solo\n            dense\n          />\n          <v-card id=\"wave-multiline\" />\n          <v-card id=\"waveform\" />\n          <v-card id=\"wave-minimap\" />\n        </v-card>\n      </v-container>\n    </v-card>\n    <v-card v-if=\"debug\">\n      <v-container v-if=\"item\">\n        <pre>{{ debugItem }}</pre>\n      </v-container>\n    </v-card>\n  </v-container>\n</template>\n\n<script>\nimport File from \"@/models/file.js\";\nimport Tier from \"@/models/tier.js\";\nimport Item from \"@/models/item.js\";\nimport colors from \"vuetify/lib/util/colors\";\nimport MToolBar from \"@/components/MovieAnnotaion/MToolBar.vue\";\nimport MSettingMenu from \"@/components/MovieAnnotaion/MSettingMenu.vue\";\nimport MTierList from \"@/components/MovieAnnotaion/MTierList.vue\";\nimport MVideoArray from \"@/components/MovieAnnotaion/MVideoArray.vue\";\nimport WaveSurfer from \"@/components/wavesurfer/wavesurfer.js\";\nimport SpectrogramPlugin from \"@/components/wavesurfer/plugin/spectrogram.js\";\nimport TimelinePlugin from \"@/components/wavesurfer/plugin/timeline.js\";\nimport MinimapPlugin from \"@/components/wavesurfer/plugin/minimap.js\";\nimport MultilinePlugin from \"@/components/wavesurfer/plugin/multiline.js\";\n\nexport default {\n  name: \"MovieAnnotaion\",\n  components: {\n    MToolBar,\n    MTierList,\n    MSettingMenu,\n    MVideoArray\n  },\n  data: () => ({\n    // \n    frameOffset: 1, // \n    skipConf: {\n      short: 1, // ()\n      long: 5 // ()\n    },\n    options: {\n      waveColor: colors.grey.base,\n      progressColor: colors.grey.darken4,\n      loaderColor: colors.grey.darken4,\n      cursorColor: colors.teal.base,\n      minPxPerSec: 100,\n      height: 70,\n      scrollParent: true,\n      normalize: true\n    },\n    // \n    debug: false,\n    ws: null,\n    frame: null,\n    isVideoLoaded: false,\n    isLoading: true,\n    videoHeight: 0,\n    menuFuncs: [],\n    text: \"\",\n    currentTier: null,\n    currentIdx: null,\n    tierActions: {\n      point: []\n    }\n  }),\n  computed: {\n    item: {\n      get: function() {\n        return File.find(this.$route.params.id);\n      },\n      set: function(payload) {\n        File.update({\n          where: this.$route.params.id,\n          data: payload\n        });\n      }\n    },\n    tiers: {\n      get: function() {\n        const tag = `${this.$options.name}:computed:tiers:get`;\n        const tiers = [];\n        for (const tier of Tier.query()\n          .where(\"file_id\", this.item.id)\n          .get()) {\n          const items = [];\n          for (const item of Item.query()\n            .where(\"tier_id\", tier.id)\n            .orderBy(\"time\")\n            .get()) {\n            items.push({\n              id: item.id,\n              text: item.text,\n              time: item.time,\n              dataUrl: item.dataUrl\n            });\n          }\n          tier.items = items;\n          tiers.push(tier);\n        }\n        this.log(tag, tiers);\n        return tiers;\n      },\n      set: function(payload) {\n        const tag = `${this.$options.name}:computed:tiers:set`;\n        console.log(tag, payload);\n      }\n    },\n    debugItem: function() {\n      const data = {};\n      data.item = this.item;\n      data.tiers = this.tiers;\n      return data;\n    }\n  },\n  methods: {\n    // \n    log: function(tag, msg) {\n      if (this.debug) {\n        console.info(tag, msg);\n      }\n    },\n    // \n    load(payload) {\n      const tag = `${this.$options.name}:load`;\n      if (payload) {\n        if (this.ws) {\n          this.log(tag, payload);\n          if (!this.isVideoLoaded) {\n            this.ws.load(payload);\n            this.isVideoLoaded = true;\n          }\n        } else {\n          this.log(tag, \"no ws\");\n        }\n      } else {\n        this.log(tag, \"no video\");\n      }\n    },\n    initWs() {\n      const tag = `${this.$options.name}:initWs`;\n      if (this.ws) {\n        this.log(tag, \"destroy:ws\");\n        this.ws.destroy();\n        this.ws = null;\n      }\n      this.log(tag, \"init:ws\");\n      const options = this.options;\n      options.container = \"#waveform\";\n      options.backend = \"MediaElement\";\n      options.plugins = [\n        SpectrogramPlugin.create({\n          container: \"#wave-spectrogram\",\n          labels: true\n        }),\n        TimelinePlugin.create({\n          container: \"#wave-timeline\"\n        }),\n        MinimapPlugin.create({\n          container: \"#wave-minimap\",\n          height: 20\n        })\n      ];\n      this.ws = WaveSurfer.create(options);\n      for (const i in this.tiers) {\n        const tier = MultilinePlugin.create({\n          container: \"#wave-multiline\",\n          name: this.tiers[i].name,\n          tierType: this.tiers[i].tierType,\n          items: this.tiers[i].items\n        });\n        this.ws.addPlugin(tier).initPlugin(\"multiline\");\n      }\n      this.ws.on(\"ready\", this.onRedy);\n      this.ws.on(\"destroy\", this.onDestroy);\n      this.ws.on(\"error\", this.onError);\n      this.ws.on(\"multiline-update-current\", this.onUpdateMultiline);\n    },\n    setVideoHeight() {\n      const tag = `${this.$options.name}:setVideoHeight`;\n      this.$nextTick(() => {\n        const el = this.$refs.videoCard ? this.$refs.videoCard.$el : null;\n        if (el) {\n          this.videoHeight = el.clientHeight;\n        }\n        this.log(tag, this.videoHeight);\n      });\n    },\n    addTier(name, type) {\n      const tag = `${this.$options.name}:addTier`;\n      Tier.$create({\n        data: {\n          name: name,\n          tierType: type,\n          file_id: this.item.id,\n          items: [{ time: 0, text: \"\" }]\n        }\n      }).then(datas => {\n        const data = datas[datas.length - 1];\n        const tier = MultilinePlugin.create({\n          name: data.name,\n          container: \"#wave-multiline\",\n          tierType: data.tierType,\n          items: data.items\n        });\n        this.ws.addPlugin(tier).initPlugin(\"multiline\");\n        this.log(tag, data);\n      });\n    },\n    // \n    play: function() {\n      this.ws.play();\n    },\n    pause: function() {\n      this.ws.pause();\n    },\n    // \n    getCurrentTime: function() {\n      return this.ws.getCurrentTime();\n    },\n    getDuration: function() {\n      return this.ws.getDuration();\n    },\n    setCurrentTime: function(time) {\n      const duration = this.getDuration();\n      const val = time < 0 ? 0 : time < duration ? time : duration;\n      this.ws.seekTo(val / this.getDuration());\n    },\n    skip: function(frame_num) {\n      const time = this.getCurrentTime() + frame_num * (1 / this.item.fps);\n      this.setCurrentTime(time);\n    },\n    // \n    onSyncCanvas(payload) {\n      // const tag = `${this.$options.name}:onSyncCanvas`;\n      this.frame = payload;\n      // this.log(tag, payload);\n    },\n    onLoadeddata: function(payload) {\n      const tag = `${this.$options.name}:onLoadeddata`;\n      if (payload) {\n        this.log(tag, payload);\n        this.load(payload);\n      }\n    },\n    onChangeText: function(val) {\n      if (this.currentTier) {\n        this.currentTier.putText(this.currentIdx, val);\n      }\n    },\n    onEnterText: function(e) {\n      if (this.currentTier) {\n        this.currentTier.putText(this.currentIdx, e.target.value);\n      }\n    },\n    onRedy() {\n      // \n      const tag = `${this.$options.name}:onRedy`;\n      const vm = this;\n      // TextGrid\n      this.setVideoHeight();\n\n      // \n      this.menuFuncs = [\n        {\n          title: \"Add Interval Tier\",\n          callback: () => {\n            const num = vm.ws.getTierNum();\n            vm.addTier(`tier-${num + 1}`, \"interval\");\n          }\n        },\n        {\n          title: \"Add Point Tier\",\n          callback: () => {\n            const num = vm.ws.getTierNum();\n            vm.addTier(`tier-${num + 1}`, \"point\");\n          }\n        }\n      ];\n\n      // \n      this.tierActions.interval = [\n        {\n          name: \"play\",\n          icon: \"mdi-play\",\n          callback: item => {\n            this.ws.play(item.startTime, item.endTime);\n          }\n        },\n        {\n          name: \"skip\",\n          icon: \"mdi-image-filter-center-focus\",\n          callback: item => {\n            this.setCurrentTime(item.startTime);\n          }\n        },\n        {\n          name: \"delete\",\n          icon: \"mdi-delete\",\n          color: \"pink\",\n          callback: () => {}\n        }\n      ];\n      // \n      this.tierActions.point = [\n        {\n          name: \"edit\",\n          icon: \"mdi-square-edit-outline\",\n          callback: item => {\n            this.setCurrentTime(item.time);\n            // item.frame = this.$refs.videoArray.getFrame();\n            Item.$update({\n              where: item.id,\n              data: {\n                dataUrl: this.$refs.videoArray.getFrame()\n              }\n            }).then(() => {\n              console.log(\"tierActions.point.edit\", item);\n              this.$router.push({\n                name: \"ImageAnnotation\",\n                params: { id: item.id }\n              });\n            });\n          }\n        },\n        {\n          name: \"skip\",\n          icon: \"mdi-image-filter-center-focus\",\n          callback: item => {\n            this.setCurrentTime(item.time);\n          }\n        },\n        {\n          name: \"delete\",\n          icon: \"mdi-delete\",\n          color: \"pink\",\n          callback: () => {}\n        }\n      ];\n      this.log(tag, \"finish\");\n      this.isLoading = false;\n    },\n    onDestroy() {\n      const tag = `${this.$options.name}:onDestroy`;\n      this.log(tag, \"finish\");\n    },\n    onError(val) {\n      const tag = `${this.$options.name}:onError`;\n      this.log(tag, val);\n    },\n    onUpdateFiler(payload) {\n      const tag = `${this.$options.name}:onUpdateFiler`;\n      this.log(tag, payload);\n      this.ws.backend.setFilters(payload);\n    },\n    onUpdateMultiline(payload) {\n      if (payload.item) {\n        this.text = payload.item.text;\n        this.currentTier = this.ws.multiline.tiers[payload.name];\n        this.currentIdx = payload.id;\n        this.$refs.textField.focus();\n      }\n    },\n    onResize() {\n      this.setVideoHeight();\n    }\n  },\n  async mounted() {\n    const tag = `${this.$options.name}:mounted`;\n    this.$nextTick(() => {\n      if (!this.item) {\n        this.$router.push({ name: \"Home\" });\n      } else {\n        this.log(tag, \"initWs\");\n        this.initWs();\n      }\n    });\n    await File.$fetch();\n    await Tier.$fetch();\n    await Item.$fetch();\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MovieAnnotation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MovieAnnotation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MovieAnnotation.vue?vue&type=template&id=0e2d28c8&\"\nimport script from \"./MovieAnnotation.vue?vue&type=script&lang=js&\"\nexport * from \"./MovieAnnotation.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VProgressLinear } from 'vuetify/lib/components/VProgressLinear';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCol,VContainer,VIcon,VProgressLinear,VRow,VSpacer,VTextField})\n\n\n/* vuetify-loader */\nimport installDirectives from \"!../../node_modules/vuetify-loader/lib/runtime/installDirectives.js\"\nimport Resize from 'vuetify/lib/directives/resize'\ninstallDirectives(component, {Resize})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{directives:[{name:\"resize\",rawName:\"v-resize\",value:(_vm.onResize),expression:\"onResize\"}],staticClass:\"pa-0 movie-annotaion\",attrs:{\"fluid\":\"\"}},[_c('v-col',{attrs:{\"cols\":\"5\"}},[_c('v-card',[_c('v-img',{attrs:{\"src\":_vm.item.dataUrl,\"contain\":\"\"}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container v-resize=\"onResize\" fluid class=\"pa-0 movie-annotaion\">\n    <v-col cols=\"5\">\n      <v-card>\n        <v-img :src=\"item.dataUrl\" contain></v-img>\n      </v-card>\n    </v-col>\n  </v-container>\n</template>\n\n<script>\n// @ is an alias to /src\nimport Item from \"@/models/item.js\";\nexport default {\n  name: \"ImageAnnotaion\",\n  computed: {\n    item: {\n      get: function() {\n        return Item.find(this.$route.params.id);\n      },\n      set: function(payload) {\n        Item.$update({\n          where: this.$route.params.id,\n          data: payload\n        });\n      }\n    }\n  },\n  methods: {\n    onResize: function(payload) {\n      console.log(payload);\n    }\n  },\n  async mounted() {\n    await Item.$fetch();\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageAnnotation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageAnnotation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImageAnnotation.vue?vue&type=template&id=f063037e&\"\nimport script from \"./ImageAnnotation.vue?vue&type=script&lang=js&\"\nexport * from \"./ImageAnnotation.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VImg } from 'vuetify/lib/components/VImg';\ninstallComponents(component, {VCard,VCol,VContainer,VImg})\n\n\n/* vuetify-loader */\nimport installDirectives from \"!../../node_modules/vuetify-loader/lib/runtime/installDirectives.js\"\nimport Resize from 'vuetify/lib/directives/resize'\ninstallDirectives(component, {Resize})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"component-debug\"},[_c('h1',[_vm._v(\"Debug components\")]),_c('v-card',{staticClass:\"mx-auto\"},[_c('v-toolbar',{attrs:{\"color\":\"primary\",\"dark\":\"\"}},[_c('v-toolbar-title',[_vm._v(\"\")]),_c('v-spacer'),(_vm.video.name && _vm.video.fps)?_c('v-toolbar-title',[_vm._v(\" \"+_vm._s(_vm.video.name)+\" (\"+_vm._s(_vm.video.fps)+\") \")]):_vm._e()],1),_c('v-container',[_c('m-movie-input',{model:{value:(_vm.video),callback:function ($$v) {_vm.video=$$v},expression:\"video\"}}),_c('v-card',{staticClass:\"mx-auto\"},[_c('v-toolbar',{attrs:{\"color\":\"blue-grey\",\"dark\":\"\"}},[_c('v-toolbar-title',[_vm._v(\" Open CV DEMO \")]),_c('v-spacer'),_c('v-menu',{attrs:{\"bottom\":\"\",\"left\":\"\",\"close-on-content-click\":false},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"icon\":\"\"}},on),[_c('v-icon',[_vm._v(\"mdi-cog\")])],1)]}}]),model:{value:(_vm.conf.show),callback:function ($$v) {_vm.$set(_vm.conf, \"show\", $$v)},expression:\"conf.show\"}},[_c('v-list',{attrs:{\"subheader\":\"\"}},[_c('v-subheader',[_vm._v(\" background-subtractor \")]),_c('v-list-item',[_c('v-list-item-title',[_c('v-text-field',{attrs:{\"label\":\"history\"},model:{value:(_vm.conf.bs.history),callback:function ($$v) {_vm.$set(_vm.conf.bs, \"history\", $$v)},expression:\"conf.bs.history\"}})],1)],1),_c('v-list-item',[_c('v-list-item-title',[_c('v-text-field',{attrs:{\"label\":\"threshold\"},model:{value:(_vm.conf.bs.threshold),callback:function ($$v) {_vm.$set(_vm.conf.bs, \"threshold\", $$v)},expression:\"conf.bs.threshold\"}})],1)],1),_c('v-list-item',[_c('v-list-item-title',[_c('v-switch',{attrs:{\"label\":\"detectShadows\"},model:{value:(_vm.conf.bs.detectShadows),callback:function ($$v) {_vm.$set(_vm.conf.bs, \"detectShadows\", $$v)},expression:\"conf.bs.detectShadows\"}})],1)],1)],1)],1)],1),(_vm.video.dataUrl && _vm.video.file)?_c('v-container',[_c('v-row',[_c('v-card',{staticClass:\"ma-1\"},[_c('v-system-bar',{attrs:{\"dark\":\"\",\"color\":\"primary\"}},[_c('span',[_vm._v(\"origin\")])]),_c('video',{ref:\"video\",attrs:{\"width\":_vm.video.size.width,\"height\":_vm.video.size.height,\"src\":_vm.video.dataUrl}})],1),_c('v-card',{staticClass:\"ma-1\"},[_c('v-system-bar',{attrs:{\"dark\":\"\",\"color\":\"primary\"}},[_c('span',[_vm._v(\"background-subtractor\")])]),_c('background-subtractor',{ref:\"backgroundSubtractor\",attrs:{\"dataUrl\":_vm.video.dataUrl,\"fps\":_vm.video.fps,\"width\":_vm.video.size.width,\"height\":_vm.video.size.height,\"history\":Number(_vm.conf.bs.history),\"threshold\":Number(_vm.conf.bs.threshold),\"detectShadows\":_vm.conf.bs.detectShadows}})],1),_c('v-card',{staticClass:\"ma-1\"},[_c('v-system-bar',{attrs:{\"dark\":\"\",\"color\":\"primary\"}},[_c('span',[_vm._v(\"optical-flow\")])]),_c('optical-flow',{ref:\"opticalFlow\",attrs:{\"dataUrl\":_vm.video.dataUrl,\"fps\":_vm.video.fps,\"width\":_vm.video.size.width,\"height\":_vm.video.size.height}})],1),_c('v-card',{staticClass:\"ma-1\"},[_c('v-system-bar',{attrs:{\"dark\":\"\",\"color\":\"primary\"}},[_c('span',[_vm._v(\"mean-shift\")])]),_c('mean-shift',{ref:\"meanShift\",attrs:{\"dataUrl\":_vm.video.dataUrl,\"fps\":_vm.video.fps,\"width\":_vm.video.size.width,\"height\":_vm.video.size.height}})],1)],1)],1):_vm._e()],1)],1),_c('v-card-actions',[_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.prev}},[_vm._v(\" prev \")]),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.play}},[_vm._v(\"Play\")]),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.pause}},[_vm._v(\" Pause \")]),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.next}},[_vm._v(\"next\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"background-subtractor\"},[_c('video',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],ref:\"video\",attrs:{\"width\":_vm.width,\"height\":_vm.height,\"muted\":\"\",\"src\":_vm.dataUrl},domProps:{\"muted\":true},on:{\"timeupdate\":_vm.onTimeupdate,\"loadeddata\":_vm.onLoadeddata}}),_c('canvas',{ref:\"canvas\",staticStyle:{\"border\":\"1px solid #000000\"},attrs:{\"width\":_vm.width,\"height\":_vm.height}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import colors from \"vuetify/lib/util/colors\";\n\nconst getCode = text => {\n  const args = text.split(\" \");\n  if (args.length == 1) {\n    return colors[args[0]].base;\n  } else {\n    return colors[args[0]][args[1].replace(\"-\", \"\")];\n  }\n};\n\nconst css2rgb = code => {\n  if (code.length !== 7) {\n    return \"rgb(255,255,255)\";\n  } else {\n    if (code.split(\"\")[0] === \"#\") {\n      code = code.substring(1);\n    }\n    if (code.length === 3) {\n      var codeArr = code.split(\"\");\n      code =\n        codeArr[0] +\n        codeArr[0] +\n        codeArr[1] +\n        codeArr[1] +\n        codeArr[2] +\n        codeArr[2];\n    }\n    const r = parseInt(code.substring(0, 2), 16);\n    const g = parseInt(code.substring(2, 4), 16);\n    const b = parseInt(code.substring(4, 6), 16);\n    return `rgb(${r},${g},${b})`;\n  }\n};\n\nconst getRgb = text => {\n  const code = getCode(text);\n  if (code) {\n    return css2rgb(code);\n  }\n};\n\nexport default {\n  getCode: getCode,\n  getRgb: getRgb,\n  css2rgb: css2rgb\n};\n","<template>\n  <div class=\"background-subtractor\">\n    <video\n      v-show=\"false\"\n      ref=\"video\"\n      :width=\"width\"\n      :height=\"height\"\n      muted\n      :src=\"dataUrl\"\n      v-on:timeupdate=\"onTimeupdate\"\n      v-on:loadeddata=\"onLoadeddata\"\n    />\n    <canvas\n      ref=\"canvas\"\n      :width=\"width\"\n      :height=\"height\"\n      style=\"border:1px solid #000000;\"\n    />\n  </div>\n</template>\n\n<script>\nimport ColorUtil from \"@/utils/color.js\";\nexport default {\n  name: \"BackgroundSubtractor\",\n  props: {\n    dataUrl: {\n      type: String,\n      require: true\n    },\n    fps: {\n      type: Number,\n      require: true\n    },\n    width: {\n      type: Number,\n      require: true\n    },\n    height: {\n      type: Number,\n      require: true\n    },\n    history: {\n      type: Number,\n      default: 50\n    },\n    threshold: {\n      type: Number,\n      default: 16\n    },\n    detectShadows: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data: () => ({\n    cap: null,\n    video: null,\n    frame: null,\n    fgmask: null\n  }),\n  computed: {\n    fgbg: function() {\n      const tag = `${this.$options.name}:computed:fgbg`;\n      console.info(tag);\n      return new cv.BackgroundSubtractorMOG2(\n        this.history,\n        this.threshold,\n        this.detectShadows\n      );\n    }\n  },\n  methods: {\n    onLoadeddata: function() {\n      const tag = `${this.$options.name}:onLoadeddata`;\n      this.setCurrentTime(1 / this.fps);\n      try {\n        const canvas = this.$refs.canvas;\n        const ctx = canvas.getContext(\"2d\");\n        ctx.fillStyle = ColorUtil.getRgb(\"grey\");\n        ctx.fillRect(0, 0, this.width, this.height);\n        this.cap.read(this.frame);\n        cv.imshow(this.$refs.canvas, this.frame);\n        console.info(tag);\n      } catch (err) {\n        console.error(tag, err);\n      }\n    },\n    onTimeupdate: function() {\n      const tag = `${this.$options.name}:onTimeupdate`;\n      try {\n        this.cap.read(this.frame);\n        this.fgbg.apply(this.frame, this.fgmask);\n        cv.imshow(this.$refs.canvas, this.fgmask);\n      } catch (err) {\n        console.error(tag, err);\n      }\n    },\n    play: function() {\n      this.video.play();\n    },\n    pause: function() {\n      this.video.pause();\n    },\n    setCurrentTime: function(time) {\n      const tag = `${this.$options.name}:setCurrentTime`;\n      if (time > 0 && time < this.video.duration) {\n        this.video.currentTime = time;\n        console.info(tag, this.video.currentTime);\n      } else {\n        console.error(tag, this.video.currentTime);\n      }\n    }\n  },\n  mounted: function() {\n    this.video = this.$refs.video;\n    this.cap = new cv.VideoCapture(this.video);\n    this.frame = new cv.Mat(this.height, this.width, cv.CV_8UC4);\n    this.fgmask = new cv.Mat(this.height, this.width, cv.CV_8UC1);\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BackgroundSubtractor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BackgroundSubtractor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BackgroundSubtractor.vue?vue&type=template&id=4af4b77c&\"\nimport script from \"./BackgroundSubtractor.vue?vue&type=script&lang=js&\"\nexport * from \"./BackgroundSubtractor.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"optical-flow\"},[_c('video',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],ref:\"video\",attrs:{\"width\":_vm.width,\"height\":_vm.height,\"muted\":\"\",\"src\":_vm.dataUrl},domProps:{\"muted\":true},on:{\"timeupdate\":_vm.onTimeupdate,\"loadeddata\":_vm.onLoadeddata}}),_c('canvas',{ref:\"canvas\",staticStyle:{\"border\":\"1px solid #000000\"},attrs:{\"width\":_vm.width,\"height\":_vm.height}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"optical-flow\">\n    <video\n      v-show=\"false\"\n      ref=\"video\"\n      :width=\"width\"\n      :height=\"height\"\n      muted\n      :src=\"dataUrl\"\n      v-on:timeupdate=\"onTimeupdate\"\n      v-on:loadeddata=\"onLoadeddata\"\n    />\n    <canvas\n      ref=\"canvas\"\n      :width=\"width\"\n      :height=\"height\"\n      style=\"border:1px solid #000000;\"\n    />\n  </div>\n</template>\n\n<script>\n// import ColorUtil from \"@/utils/color.js\";\nexport default {\n  name: \"OpticalFlow\",\n  props: {\n    dataUrl: {\n      type: String,\n      require: true\n    },\n    fps: {\n      type: Number,\n      require: true\n    },\n    width: {\n      type: Number,\n      require: true\n    },\n    height: {\n      type: Number,\n      require: true\n    }\n  },\n  data: () => ({\n    video: null,\n    cap: null,\n    frame2: null,\n    next: null,\n    prvs: null,\n    flow: null,\n    flowVec: null,\n    ang: null,\n    mag: null,\n    hsv0: null,\n    hsv: null,\n    hsv2: null,\n    hsvVec: null,\n    rgb: null\n  }),\n  computed: {},\n  methods: {\n    onLoadeddata: function() {\n      const tag = `${this.$options.name}:onLoadeddata`;\n      this.cap.read(this.frame2);\n      cv.imshow(this.$refs.canvas, this.frame2);\n      console.log(tag);\n    },\n    onTimeupdate: function() {\n      const tag = `${this.$options.name}:onTimeupdate`;\n      try {\n        // start processing.\n        this.cap.read(this.frame2);\n        cv.cvtColor(this.frame2, this.next, cv.COLOR_RGBA2GRAY);\n        cv.calcOpticalFlowFarneback(\n          this.prvs,\n          this.next,\n          this.flow,\n          0.5,\n          3,\n          15,\n          3,\n          5,\n          1.2,\n          0\n        );\n        cv.split(this.flow, this.flowVec);\n        let u = this.flowVec.get(0);\n        let v = this.flowVec.get(1);\n        cv.cartToPolar(u, v, this.mag, this.ang);\n        u.delete();\n        v.delete();\n        this.ang.convertTo(this.hsv0, cv.CV_8UC1, 180 / Math.PI / 2);\n        cv.normalize(this.mag, this.hsv2, 0, 255, cv.NORM_MINMAX, cv.CV_8UC1);\n        cv.merge(this.hsvVec, this.hsv);\n        cv.cvtColor(this.hsv, this.rgb, cv.COLOR_HSV2RGB);\n        cv.imshow(this.$refs.canvas, this.rgb);\n        this.next.copyTo(this.prvs);\n      } catch (err) {\n        console.error(err);\n      }\n\n      console.log(tag);\n    },\n    play: function() {\n      this.video.play();\n    },\n    pause: function() {\n      this.video.pause();\n    },\n    setCurrentTime: function(time) {\n      const tag = `${this.$options.name}:setCurrentTime`;\n      if (time > 0 && time < this.video.duration) {\n        this.video.currentTime = time;\n        console.info(tag, this.video.currentTime);\n      } else {\n        console.error(tag, this.video.currentTime);\n      }\n    }\n  },\n  mounted: function() {\n    this.video = this.$refs.video;\n    this.cap = new cv.VideoCapture(this.video);\n\n    this.prvs = new cv.Mat();\n    this.frame2 = new cv.Mat(this.height, this.width, cv.CV_8UC4);\n    this.next = new cv.Mat(this.height, this.width, cv.CV_8UC1);\n    this.flow = new cv.Mat(this.height, this.width, cv.CV_32FC2);\n    this.flowVec = new cv.MatVector();\n\n    this.mag = new cv.Mat(this.height, this.width, cv.CV_32FC1);\n    this.ang = new cv.Mat(this.height, this.width, cv.CV_32FC1);\n\n    // take first frame of the video\n    let frame1 = new cv.Mat(this.height, this.width, cv.CV_8UC4);\n    this.cap.read(frame1);\n\n    cv.cvtColor(frame1, this.prvs, cv.COLOR_RGBA2GRAY);\n    frame1.delete();\n    this.hsv = new cv.Mat();\n    this.hsv0 = new cv.Mat(this.height, this.width, cv.CV_8UC1);\n    let hsv1 = new cv.Mat(\n      this.height,\n      this.width,\n      cv.CV_8UC1,\n      new cv.Scalar(255)\n    );\n    this.hsv2 = new cv.Mat(this.height, this.width, cv.CV_8UC1);\n    this.hsvVec = new cv.MatVector();\n    this.hsvVec.push_back(this.hsv0);\n    this.hsvVec.push_back(hsv1);\n    this.hsvVec.push_back(this.hsv2);\n    this.rgb = new cv.Mat(this.height, this.width, cv.CV_8UC3);\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OpticalFlow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OpticalFlow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OpticalFlow.vue?vue&type=template&id=3a27a021&\"\nimport script from \"./OpticalFlow.vue?vue&type=script&lang=js&\"\nexport * from \"./OpticalFlow.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mean-shift\"},[_c('video',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],ref:\"video\",attrs:{\"width\":_vm.width,\"height\":_vm.height,\"muted\":\"\",\"src\":_vm.dataUrl},domProps:{\"muted\":true},on:{\"timeupdate\":_vm.onTimeupdate,\"loadeddata\":_vm.onLoadeddata}}),_c('canvas',{ref:\"canvas\",staticStyle:{\"border\":\"1px solid #000000\"},attrs:{\"width\":_vm.width,\"height\":_vm.height}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"mean-shift\">\n    <video\n      v-show=\"false\"\n      ref=\"video\"\n      :width=\"width\"\n      :height=\"height\"\n      muted\n      :src=\"dataUrl\"\n      v-on:timeupdate=\"onTimeupdate\"\n      v-on:loadeddata=\"onLoadeddata\"\n    />\n    <canvas\n      ref=\"canvas\"\n      :width=\"width\"\n      :height=\"height\"\n      style=\"border:1px solid #000000;\"\n    />\n  </div>\n</template>\n\n<script>\n// import ColorUtil from \"@/utils/color.js\";\nexport default {\n  name: \"MeanShift\",\n  props: {\n    dataUrl: {\n      type: String,\n      require: true\n    },\n    fps: {\n      type: Number,\n      require: true\n    },\n    width: {\n      type: Number,\n      require: true\n    },\n    height: {\n      type: Number,\n      require: true\n    }\n  },\n  data: () => ({\n    video: null,\n    cap: null,\n    frame: null,\n    hsv: null,\n    hsvVec: null,\n    roiHist: null,\n    dst: null,\n    trackBox: null,\n    termCrit: null\n  }),\n  methods: {\n    onLoadeddata: function() {\n      const tag = `${this.$options.name}:onLoadeddata`;\n      this.cap.read(this.frame);\n      cv.imshow(this.$refs.canvas, this.frame);\n      console.info(tag, this.video.currentTime);\n    },\n    onTimeupdate: function() {\n      const tag = `${this.$options.name}:onTimeupdate`;\n      try {\n        // start processing.\n        this.cap.read(this.frame);\n        cv.cvtColor(this.frame, this.hsv, cv.COLOR_RGBA2RGB);\n        cv.cvtColor(this.hsv, this.hsv, cv.COLOR_RGB2HSV);\n        cv.calcBackProject(\n          this.hsvVec,\n          [0],\n          this.roiHist,\n          this.dst,\n          [0, 180],\n          1\n        );\n        // apply camshift to get the new location\n        [this.trackBox, this.trackWindow] = cv.CamShift(\n          this.dst,\n          this.trackWindow,\n          this.termCrit\n        );\n        // Draw it on image\n        let pts = cv.rotatedRectPoints(this.trackBox);\n        cv.line(this.frame, pts[0], pts[1], [255, 0, 0, 255], 3);\n        cv.line(this.frame, pts[1], pts[2], [255, 0, 0, 255], 3);\n        cv.line(this.frame, pts[2], pts[3], [255, 0, 0, 255], 3);\n        cv.line(this.frame, pts[3], pts[0], [255, 0, 0, 255], 3);\n        cv.imshow(this.$refs.canvas, this.frame);\n      } catch (err) {\n        console.error(tag, err);\n      }\n    },\n    play: function() {\n      this.video.play();\n    },\n    pause: function() {\n      this.video.pause();\n    },\n    setCurrentTime: function(time) {\n      if (time > 0 && time < this.video.duration) {\n        this.video.currentTime = time;\n      }\n    }\n  },\n  mounted: function() {\n    this.video = this.$refs.video;\n    this.cap = new cv.VideoCapture(this.video);\n    this.frame = new cv.Mat(this.height, this.width, cv.CV_8UC4);\n    this.trackWindow = new cv.Rect(150, 60, 63, 125);\n    let roi = this.frame.roi(this.trackWindow);\n    let hsvRoi = new cv.Mat();\n    cv.cvtColor(roi, hsvRoi, cv.COLOR_RGBA2RGB);\n    cv.cvtColor(hsvRoi, hsvRoi, cv.COLOR_RGB2HSV);\n    let mask = new cv.Mat();\n    let lowScalar = new cv.Scalar(30, 30, 0);\n    let highScalar = new cv.Scalar(180, 180, 180);\n    let low = new cv.Mat(hsvRoi.rows, hsvRoi.cols, hsvRoi.type(), lowScalar);\n    let high = new cv.Mat(hsvRoi.rows, hsvRoi.cols, hsvRoi.type(), highScalar);\n    cv.inRange(hsvRoi, low, high, mask);\n    this.roiHist = new cv.Mat();\n    let hsvRoiVec = new cv.MatVector();\n    hsvRoiVec.push_back(hsvRoi);\n    cv.calcHist(hsvRoiVec, [0], mask, this.roiHist, [180], [0, 180]);\n    cv.normalize(this.roiHist, this.roiHist, 0, 255, cv.NORM_MINMAX);\n\n    // delete useless mats.\n    roi.delete();\n    hsvRoi.delete();\n    mask.delete();\n    low.delete();\n    high.delete();\n    hsvRoiVec.delete();\n\n    // Setup the termination criteria, either 10 iteration or move by atleast 1 pt\n    this.termCrit = new cv.TermCriteria(\n      cv.TERM_CRITERIA_EPS | cv.TERM_CRITERIA_COUNT,\n      10,\n      1\n    );\n\n    this.hsv = new cv.Mat(this.height, this.width, cv.CV_8UC3);\n    this.hsvVec = new cv.MatVector();\n    this.hsvVec.push_back(this.hsv);\n    this.dst = new cv.Mat();\n    this.trackBox = null;\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MeanShift.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MeanShift.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MeanShift.vue?vue&type=template&id=da0130d2&\"\nimport script from \"./MeanShift.vue?vue&type=script&lang=js&\"\nexport * from \"./MeanShift.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"component-debug\">\n    <h1>Debug components</h1>\n    <v-card class=\"mx-auto\">\n      <v-toolbar color=\"primary\" dark>\n        <v-toolbar-title></v-toolbar-title>\n        <v-spacer></v-spacer>\n        <v-toolbar-title v-if=\"video.name && video.fps\">\n          {{ video.name }} ({{ video.fps }})\n        </v-toolbar-title>\n      </v-toolbar>\n      <v-container>\n        <m-movie-input v-model=\"video\" />\n        <v-card class=\"mx-auto\">\n          <v-toolbar color=\"blue-grey\" dark>\n            <v-toolbar-title>\n              Open CV DEMO\n            </v-toolbar-title>\n            <v-spacer></v-spacer>\n            <v-menu\n              bottom\n              left\n              v-model=\"conf.show\"\n              :close-on-content-click=\"false\"\n            >\n              <template v-slot:activator=\"{ on }\">\n                <v-btn icon v-on=\"on\">\n                  <v-icon>mdi-cog</v-icon>\n                </v-btn>\n              </template>\n              <v-list subheader>\n                <v-subheader>\n                  background-subtractor\n                </v-subheader>\n                <v-list-item>\n                  <v-list-item-title>\n                    <v-text-field v-model=\"conf.bs.history\" label=\"history\" />\n                  </v-list-item-title>\n                </v-list-item>\n                <v-list-item>\n                  <v-list-item-title>\n                    <v-text-field\n                      v-model=\"conf.bs.threshold\"\n                      label=\"threshold\"\n                    />\n                  </v-list-item-title>\n                </v-list-item>\n                <v-list-item>\n                  <v-list-item-title>\n                    <v-switch\n                      v-model=\"conf.bs.detectShadows\"\n                      label=\"detectShadows\"\n                    />\n                  </v-list-item-title>\n                </v-list-item>\n              </v-list>\n            </v-menu>\n          </v-toolbar>\n          <v-container v-if=\"video.dataUrl && video.file\">\n            <v-row>\n              <v-card class=\"ma-1\">\n                <v-system-bar dark color=\"primary\">\n                  <span>origin</span>\n                </v-system-bar>\n                <video\n                  ref=\"video\"\n                  :width=\"video.size.width\"\n                  :height=\"video.size.height\"\n                  :src=\"video.dataUrl\"\n                />\n              </v-card>\n              <v-card class=\"ma-1\">\n                <v-system-bar dark color=\"primary\">\n                  <span>background-subtractor</span>\n                </v-system-bar>\n                <background-subtractor\n                  ref=\"backgroundSubtractor\"\n                  :dataUrl=\"video.dataUrl\"\n                  :fps=\"video.fps\"\n                  :width=\"video.size.width\"\n                  :height=\"video.size.height\"\n                  :history=\"Number(conf.bs.history)\"\n                  :threshold=\"Number(conf.bs.threshold)\"\n                  :detectShadows=\"conf.bs.detectShadows\"\n                />\n              </v-card>\n              <v-card class=\"ma-1\">\n                <v-system-bar dark color=\"primary\">\n                  <span>optical-flow</span>\n                </v-system-bar>\n                <optical-flow\n                  ref=\"opticalFlow\"\n                  :dataUrl=\"video.dataUrl\"\n                  :fps=\"video.fps\"\n                  :width=\"video.size.width\"\n                  :height=\"video.size.height\"\n                />\n              </v-card>\n              <v-card class=\"ma-1\">\n                <v-system-bar dark color=\"primary\">\n                  <span>mean-shift</span>\n                </v-system-bar>\n                <mean-shift\n                  ref=\"meanShift\"\n                  :dataUrl=\"video.dataUrl\"\n                  :fps=\"video.fps\"\n                  :width=\"video.size.width\"\n                  :height=\"video.size.height\"\n                />\n              </v-card>\n            </v-row>\n          </v-container>\n        </v-card>\n      </v-container>\n      <v-card-actions>\n        <v-btn text @click=\"prev\">\n          prev\n        </v-btn>\n        <v-btn text @click=\"play\">Play</v-btn>\n        <v-btn text @click=\"pause\">\n          Pause\n        </v-btn>\n        <v-btn text @click=\"next\">next</v-btn>\n      </v-card-actions>\n    </v-card>\n  </div>\n</template>\n\n<script>\nimport MMovieInput from \"@/components/form/MMovieInput.vue\";\nimport BackgroundSubtractor from \"@/components/videos/BackgroundSubtractor.vue\";\nimport OpticalFlow from \"@/components/videos/OpticalFlow.vue\";\nimport MeanShift from \"@/components/videos/MeanShift.vue\";\nexport default {\n  name: \"ComponentDebug\",\n  components: {\n    MMovieInput,\n    BackgroundSubtractor,\n    OpticalFlow,\n    MeanShift\n  },\n  data: () => ({\n    video: {\n      loading: false,\n      name: null,\n      dataUrl: null,\n      fps: null,\n      size: {\n        width: null,\n        height: null\n      }\n    },\n    conf: {\n      show: false,\n      bs: {\n        history: 50,\n        threshold: 16,\n        detectShadows: false\n      }\n    }\n  }),\n  methods: {\n    play: function() {\n      const video = this.$refs.video;\n      video.play();\n      this.$refs.backgroundSubtractor.play();\n      this.$refs.meanShift.play();\n      this.$refs.opticalFlow.play();\n      this.$refs.videoArray.play();\n    },\n    pause: function() {\n      const video = this.$refs.video;\n      video.pause();\n      this.$refs.backgroundSubtractor.pause();\n      this.$refs.meanShift.pause();\n      this.$refs.opticalFlow.pause();\n      this.$refs.videoArray.pause();\n    },\n    prev: function() {\n      const video = this.$refs.video;\n      const frameRate = 1 / this.video.fps;\n      const time = Math.max(0, video.currentTime - frameRate);\n      video.currentTime = time;\n      this.$refs.backgroundSubtractor.setCurrentTime(time);\n      this.$refs.meanShift.setCurrentTime(time);\n      this.$refs.opticalFlow.setCurrentTime(time);\n      this.$refs.videoArray.prev();\n    },\n    next: function() {\n      const video = this.$refs.video;\n      const frameRate = 1 / this.video.fps;\n      const time = Math.min(video.duration, video.currentTime + frameRate);\n      video.currentTime = time;\n      this.$refs.backgroundSubtractor.setCurrentTime(time);\n      this.$refs.meanShift.setCurrentTime(time);\n      this.$refs.opticalFlow.setCurrentTime(time);\n      this.$refs.videoArray.next();\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComponentDebug.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComponentDebug.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ComponentDebug.vue?vue&type=template&id=07756de2&\"\nimport script from \"./ComponentDebug.vue?vue&type=script&lang=js&\"\nexport * from \"./ComponentDebug.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSubheader } from 'vuetify/lib/components/VSubheader';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\nimport { VSystemBar } from 'vuetify/lib/components/VSystemBar';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VCard,VCardActions,VContainer,VIcon,VList,VListItem,VListItemTitle,VMenu,VRow,VSpacer,VSubheader,VSwitch,VSystemBar,VTextField,VToolbar,VToolbarTitle})\n","import Vue from \"vue\";\nimport VueRouter from \"vue-router\";\nimport Home from \"@/views/Home.vue\";\nimport About from \"@/views/About.vue\";\nimport Config from \"@/views/Config.vue\";\nimport MovieAnnotation from \"@/views/MovieAnnotation.vue\";\nimport ImageAnnotation from \"@/views/ImageAnnotation.vue\";\nimport ComponentDebug from \"@/views/ComponentDebug.vue\";\n\nVue.use(VueRouter);\n\nconst routes = [\n  {\n    path: \"/\",\n    name: \"Home\",\n    component: Home\n  },\n  {\n    path: \"/about\",\n    name: \"About\",\n    component: About\n  },\n  {\n    path: \"/config\",\n    name: \"Config\",\n    component: Config\n  },\n  {\n    path: \"/movies/:id\",\n    name: \"MovieAnnotation\",\n    component: MovieAnnotation,\n    props: true\n  },\n  {\n    path: \"/imeges/:id\",\n    name: \"ImageAnnotation\",\n    component: ImageAnnotation,\n    props: true\n  },\n  {\n    path: \"/debug/\",\n    name: \"ComponentDebug\",\n    component: ComponentDebug,\n    props: true\n  },\n  {\n    path: \"*\",\n    redirect: { path: \"/\" }\n  }\n];\n\nconst router = new VueRouter({\n  mode: \"history\",\n  base: process.env.VUE_APP_PREFIX,\n  routes\n});\n\nexport default router;\n","/**\n * store/current.js\n *\n * .\n * , ,\n * , \n * \n */\n\nconst TAG = \"current\";\nconst MUTATIONTAG = `${TAG}:MUTATION`;\nconst ACTIONTAG = `${TAG}:ACTION`;\n\nexport const current = {\n  namespaced: true,\n  state: {\n    name: null,\n    fileSize: null,\n    fileType: null,\n    fps: null,\n    dataUrl: null,\n    lastModifiedDate: null,\n    currentTime: null,\n    size: {\n      width: null,\n      height: null\n    },\n    videoStream: {\n      bitrate: null,\n      codec_name: null,\n      fps: null,\n      pix_fmt: null,\n      tbc: null,\n      tbn: null,\n      tbr: null\n    },\n    audioStream: {\n      codec_name: null,\n      bitrate: null,\n      channel_layout: null,\n      sample_fmt: null,\n      sample_rate: null\n    }\n  },\n  mutations: {\n    setName: function(state, payload) {\n      console.info(`${MUTATIONTAG}:setName`, payload);\n      state.name = String(payload);\n    },\n    setCurrentTime: function(state, payload) {\n      console.info(`${MUTATIONTAG}:setCurrentTime`, payload);\n      state.currentTime = payload;\n    },\n    setLastModifiedData: function(state, payload) {\n      console.info(`${MUTATIONTAG}:setLastModifiedData`, payload);\n      state.lastModifiedDate = payload;\n    },\n    setFileSize: function(state, payload) {\n      console.info(`${MUTATIONTAG}:setFileSize`, payload);\n      state.fileSize = payload;\n    },\n    setFileType: function(state, payload) {\n      console.info(`${MUTATIONTAG}:setFileType`, payload);\n      state.fileType = payload;\n    },\n    setFps: function(state, payload) {\n      console.info(`${MUTATIONTAG}:setFps`, payload);\n      state.fps = Number(payload);\n    },\n    setDataUrl: function(state, payload) {\n      console.info(`${MUTATIONTAG}:setDataUrl`, payload.split(\",\")[0]);\n      state.dataUrl = String(payload);\n    },\n    setSize: function(state, payload) {\n      console.info(`${MUTATIONTAG}:setSize`, payload);\n      state.size.width = payload.width;\n      state.size.height = payload.height;\n    },\n    setWidth: function(state, payload) {\n      console.info(`${MUTATIONTAG}:setWidth`, payload);\n      state.size.width = payload;\n    },\n    setHeight: function(state, payload) {\n      console.info(`${MUTATIONTAG}:setHeight`, payload);\n      state.size.height = payload;\n    },\n    setVideoStream: function(state, payload) {\n      console.info(`${MUTATIONTAG}:setVideoStream`, payload);\n      state.videoStream.codec_name = String(payload.codec_name);\n      state.videoStream.pix_fmt = String(payload.pix_fmt);\n      state.videoStream.bitrate = Number(payload.bitrate);\n      state.videoStream.fps = Number(payload.fps);\n      state.videoStream.tbc = Number(payload.tbc);\n      state.videoStream.tbn = Number(payload.tbn);\n      state.videoStream.tbr = Number(payload.tbr);\n    },\n    setAudioStream: function(state, payload) {\n      console.info(`${MUTATIONTAG}:setAudioStream`, payload);\n      state.audioStream.bitrate = payload.bitrate;\n      state.audioStream.channel_layout = payload.channel_layout;\n      state.audioStream.codec_name = payload.codec_name;\n      state.audioStream.sample_fmt = payload.sample_fmt;\n      state.audioStream.sample_rate = payload.sample_rate;\n    }\n  },\n  actions: {\n    setItem: function(context, payload) {\n      console.info(`${ACTIONTAG}:setItem`, payload);\n      context.commit(\"setName\", payload.name);\n      context.commit(\"setLastModifiedData\", payload.lastModifiedDate);\n      context.commit(\"setFileSize\", payload.fileSize);\n      context.commit(\"setFileType\", payload.fileType);\n      context.commit(\"setFps\", payload.fps);\n      context.commit(\"setDataUrl\", payload.dataUrl);\n      context.commit(\"setSize\", payload.size);\n      context.commit(\"setVideoStream\", payload.videoStream);\n      context.commit(\"setAudioStream\", payload.audioStream);\n    },\n    setName: function(context, payload) {\n      console.info(`${ACTIONTAG}:setName`, payload);\n      context.commit(\"setName\", payload);\n    },\n    setFps: function(context, payload) {\n      console.info(`${ACTIONTAG}:setFps`, payload);\n      context.commit(\"setFps\", payload);\n    },\n    setCurrentTime: function(context, payload) {\n      console.info(`${ACTIONTAG}:setCurrentTime`, payload);\n      context.commit(\"setCurrentTime\", payload);\n    },\n    setDataUrl: function(context, payload) {\n      console.info(`${ACTIONTAG}:setDataUrl`, payload);\n      context.commit(\"setDataUrl\", payload);\n    },\n    setSize: function(context, payload) {\n      console.info(`${ACTIONTAG}:setSize`, payload);\n      context.commit(\"setSize\", payload);\n    },\n    setWidth: function(context, payload) {\n      console.info(`${ACTIONTAG}:setWidth`, payload);\n      context.commit(\"setWidth\", payload);\n    },\n    setMovieHeight: function(context, payload) {\n      console.info(`${ACTIONTAG}:setHeight`, payload);\n      context.commit(\"setHeight\", payload);\n    },\n    setVideoStream: function(context, payload) {\n      console.info(`${ACTIONTAG}:setVideoStream`, payload);\n      context.commit(\"setVideoStream\", payload);\n    },\n    setAudioStream: function(context, payload) {\n      console.info(`${ACTIONTAG}:setAudioStream`, payload);\n      context.commit(\"setAudioStream\", payload);\n    }\n  }\n};\n","import Vue from \"vue\";\nimport Vuex from \"vuex\";\nimport VuexORM from \"@vuex-orm/core\";\nimport VuexORMLocalForage from \"vuex-orm-localforage\";\n\nimport File from \"@/models/file.js\";\nimport AudioStream from \"@/models/audioStream.js\";\nimport VideoStream from \"@/models/videoStream.js\";\nimport VideoSize from \"@/models/videoSize.js\";\nimport Item from \"@/models/item.js\";\nimport Tier from \"@/models/tier.js\";\n\nimport { current } from \"./current.js\";\n\nconst database = new VuexORM.Database();\ndatabase.register(Item);\ndatabase.register(Tier);\ndatabase.register(AudioStream);\ndatabase.register(VideoStream);\ndatabase.register(VideoSize);\ndatabase.register(File);\n\nVuexORM.use(VuexORMLocalForage, {\n  database,\n  localforage: {\n    name: process.env.VUE_APP_LOCAlFORAGE_NAME\n  }\n});\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n  state: {\n    appName: \"MRI Vuewer\",\n    appVersion: \"2.0\"\n  },\n  mutations: {},\n  actions: {},\n  modules: { current },\n  plugins: [VuexORM.install(database)]\n});\n","export default {\n  badge: \"\",\n  close: \"\",\n  dataIterator: {\n    noResultsText: \"\",\n    loadingText: \"...\"\n  },\n  dataTable: {\n    itemsPerPageText: \"1\",\n    ariaLabel: {\n      sortDescending: \"\",\n      sortAscending: \"\",\n      sortNone: \"\",\n      activateNone: \"\",\n      activateDescending: \"\",\n      activateAscending: \"\"\n    },\n    sortBy: \"\"\n  },\n  dataFooter: {\n    itemsPerPageText: \"1\",\n    itemsPerPageAll: \"\",\n    nextPage: \"\",\n    prevPage: \"\",\n    firstPage: \"\",\n    lastPage: \"\",\n    pageText: \"{0}-{1}  / {2}\"\n  },\n  datePicker: {\n    itemsSelected: \"{0}\"\n  },\n  noDataText: \"\",\n  carousel: {\n    prev: \"\",\n    next: \"\",\n    ariaLabel: {\n      delimiter: \"Carousel slide {0} of {1}\"\n    }\n  },\n  calendar: {\n    moreEvents: \"{0}\"\n  },\n  fileInput: {\n    counter: \"{0} \",\n    counterSize: \"{0}  ( {1})\"\n  },\n  timePicker: {\n    am: \"AM\",\n    pm: \"PM\"\n  },\n  validate: {\n    required: \"\",\n    lessThen: \"{0}\",\n    moreThen: \"{0}\",\n    isFloat: \"\"\n  },\n  baseFromDialog: {\n    open: \"\",\n    hint: \"* \",\n    close: \"\",\n    save: \"\"\n  },\n  movieUploadDialog: {\n    file: {\n      title: \"\",\n      hint: \" mp4, webm   ogv \"\n    },\n    name: {\n      title: \"\",\n      hint: \"\"\n    },\n    fps: {\n      title: \"\",\n      hint: \" FPS \"\n    }\n  },\n  sidebar: {\n    files: {\n      title: \"\",\n      add: \"\",\n      list: \"\"\n    },\n    cache: {\n      destroy: \"\",\n      export: \"\",\n      import: \"\"\n    }\n  },\n  home: {\n    disc: \"MP4 \",\n    upload: {\n      title: \"\",\n      btn: \"\",\n      hint: \"\"\n    },\n    demo: {\n      title: \"\",\n      btn: \"\",\n      hint: \"\"\n    }\n  },\n  movieAnnotation: {\n    info: {\n      title: \"\",\n      videoStream: {\n        codec: {\n          title: \"\"\n        },\n        bitrate: {\n          title: \"\"\n        },\n        fps: { title: \"fps\" },\n        tbr: {\n          title: \"tbr\",\n          help: \"\"\n        },\n        tbn: {\n          title: \"tbn\",\n          help: \"\"\n        },\n        tbc: {\n          title: \"tbc\",\n          help: \"\"\n        }\n      },\n      audioStream: {\n        codec: { title: \"\" },\n        bitrate: {\n          title: \"\"\n        },\n        channel_layout: {\n          title: \"\"\n        },\n        sample_rate: {\n          title: \"\"\n        }\n      }\n    }\n  }\n};\n","export default {\n  badge: \"Badge\",\n  close: \"Close\",\n  dataIterator: {\n    noResultsText: \"No matching records found\",\n    loadingText: \"Loading items...\"\n  },\n  dataTable: {\n    itemsPerPageText: \"Rows per page:\",\n    ariaLabel: {\n      sortDescending: \"Sorted descending.\",\n      sortAscending: \"Sorted ascending.\",\n      sortNone: \"Not sorted.\",\n      activateNone: \"Activate to remove sorting.\",\n      activateDescending: \"Activate to sort descending.\",\n      activateAscending: \"Activate to sort ascending.\"\n    },\n    sortBy: \"Sort by\"\n  },\n  dataFooter: {\n    itemsPerPageText: \"Items per page:\",\n    itemsPerPageAll: \"All\",\n    nextPage: \"Next page\",\n    prevPage: \"Previous page\",\n    firstPage: \"First page\",\n    lastPage: \"Last page\",\n    pageText: \"{0}-{1} of {2}\"\n  },\n  datePicker: {\n    itemsSelected: \"{0} selected\"\n  },\n  noDataText: \"No data available\",\n  carousel: {\n    prev: \"Previous visual\",\n    next: \"Next visual\",\n    ariaLabel: {\n      delimiter: \"Carousel slide {0} of {1}\"\n    }\n  },\n  calendar: {\n    moreEvents: \"{0} more\"\n  },\n  fileInput: {\n    counter: \"{0} files\",\n    counterSize: \"{0} files ({1} in total)\"\n  },\n  timePicker: {\n    am: \"AM\",\n    pm: \"PM\"\n  },\n  validate: {\n    required: \"This field is required\",\n    lessThen: \"This field must be less than {0} characters\",\n    moreThen: \"This field must be more than {0} characters\",\n    isFloat: \"This is a float field\"\n  },\n  movieUploadDialog: {\n    file: {\n      title: \"Your movie\",\n      hint: \"supported format is mp4, webm and ogv\"\n    },\n    name: {\n      title: \"Display name\",\n      hint: \"Display name of your movie\"\n    },\n    fps: {\n      title: \"FPS\",\n      hint: \"Register your video fps\"\n    }\n  },\n  baseFromDialog: {\n    open: \"Open Dialog\",\n    hint: \"*indicates required field\",\n    close: \"Close\",\n    save: \"Save\"\n  },\n  sidebar: {\n    files: {\n      title: \"Annotation\",\n      add: \"File upload\",\n      list: \"Registered files\"\n    },\n    cache: {\n      destroy: \"Destroy an app cache\",\n      export: \"Export an app cache\",\n      import: \"Import an app cache\"\n    }\n  },\n  home: {\n    disc: \"Annotation tool for web videos\",\n    upload: {\n      title: \"Register your video\",\n      btn: \"Upload\",\n      hint: \"Import your video file for annotation\"\n    },\n    demo: {\n      title: \"Live demo\",\n      btn: \"Go to a sample movie\",\n      hint: \"Try the annotation function using a sample video\"\n    }\n  },\n  movieAnnotation: {\n    info: {\n      title: \"video format\",\n      videoStream: {\n        codec: {\n          title: \"codec\"\n        },\n        bitrate: {\n          title: \"bitrate\"\n        },\n        fps: { title: \"fps\" },\n        tbr: {\n          title: \"tbr\",\n          help:\n            \"tbr is guessed from the video stream and is the value users want to see when they look for the video frame rate\"\n        },\n        tbn: {\n          title: \"tbn\",\n          help: \"the time base in AVStream that has come from the container\"\n        },\n        tbc: {\n          title: \"tbc\",\n          help:\n            \"the time base in AVCodecContext for the codec used for a particular stream\"\n        }\n      },\n      audioStream: {\n        bitrate: {\n          title: \"bitrate\"\n        },\n        channel_layout: {\n          title: \"channel layout\"\n        },\n        codec: { title: \"codec\" },\n        sample_rate: {\n          title: \"sampling rate\"\n        }\n      }\n    }\n  }\n};\n","export default {\n  badge: \"\",\n  close: \"\",\n  dataIterator: {\n    noResultsText: \"\",\n    loadingText: \"\"\n  },\n  dataTable: {\n    itemsPerPageText: \"\",\n    ariaLabel: {\n      sortDescending: \"\",\n      sortAscending: \"\",\n      sortNone: \"\",\n      activateNone: \"\",\n      activateDescending: \"\",\n      activateAscending: \"\"\n    },\n    sortBy: \"\"\n  },\n  dataFooter: {\n    itemsPerPageText: \"\",\n    itemsPerPageAll: \"\",\n    nextPage: \"\",\n    prevPage: \"\",\n    firstPage: \"\",\n    lastPage: \"\",\n    pageText: \"{0}-{1}  {2}\"\n  },\n  datePicker: {\n    itemsSelected: \" {0}\"\n  },\n  noDataText: \"\",\n  carousel: {\n    prev: \"\",\n    next: \"\",\n    ariaLabel: {\n      delimiter: \"Carousel slide {0} of {1}\"\n    }\n  },\n  calendar: {\n    moreEvents: \" {0} \"\n  },\n  fileInput: {\n    counter: \"{0} \",\n    counterSize: \"{0}  {1}\"\n  },\n  timePicker: {\n    am: \"AM\",\n    pm: \"PM\"\n  },\n  validate: {\n    required: \"\",\n    lessThen: \"{0}\",\n    moreThen: \"{0}\",\n    isFloat: \"\"\n  },\n  movieUploadDialog: {\n    file: {\n      title: \"\",\n      hint: \"mp4webmogv\"\n    },\n    name: {\n      title: \"\",\n      hint: \"\"\n    },\n    fps: {\n      title: \"\",\n      hint: \"fps\"\n    }\n  },\n  baseFromDialog: {\n    open: \"\",\n    hint: \"*\",\n    close: \"\",\n    save: \"\"\n  },\n  sidebar: {\n    files: {\n      title: \"\",\n      add: \"\",\n      list: \"\"\n    },\n    cache: {\n      destroy: \"\",\n      export: \"\",\n      import: \"\"\n    }\n  },\n  home: {\n    disc: \"\",\n    upload: {\n      title: \"\",\n      btn: \"\",\n      hint: \"\"\n    },\n    demo: {\n      title: \"\",\n      btn: \"\",\n      hint: \"\"\n    }\n  },\n  movieAnnotation: {\n    info: {\n      title: \"\",\n      videoStream: {\n        codec: { title: \"\" },\n        bitrate: { title: \"\" },\n        fps: { title: \"fps\" },\n        tbr: {\n          title: \"tbr\",\n          help: \"tbr \"\n        },\n        tbn: {\n          title: \"tbn\",\n          help: \"\"\n        },\n        tbc: {\n          title: \"tbc\",\n          help: \"\"\n        }\n      },\n      audioStream: {\n        codec: { title: \"\" },\n        bitrate: { title: \"\" },\n        channel_layout: { title: \"\" },\n        sample_rate: { title: \"\" }\n      }\n    }\n  }\n};\n","import Vue from \"vue\";\nimport Vuetify from \"vuetify/lib\";\nimport colors from \"vuetify/lib/util/colors\";\nimport ja from \"@/locales/ja.ts\";\nimport en from \"@/locales/en.ts\";\nimport zhHans from \"@/locales/zh-Hans.ts\";\n\nVue.use(Vuetify);\nexport default new Vuetify({\n  theme: {\n    themes: {\n      light: {\n        primary: colors.blueGrey,\n        secondary: colors.blueGrey.darken3,\n        accent: colors.teal.darken3,\n        background: colors.grey.lighten3\n      },\n      dark: {\n        primary: colors.blueGrey.lighten3\n      }\n    }\n  },\n  lang: {\n    locales: { ja, en, zhHans },\n    current: \"zhHans\"\n  }\n});\n","import Vue from \"vue\";\nimport App from \"./App.vue\";\nimport \"./registerServiceWorker\";\nimport router from \"./router\";\nimport store from \"./store\";\nimport vuetify from \"./plugins/vuetify\";\n\nVue.config.productionTip = false;\n\nnew Vue({\n  router,\n  store,\n  vuetify,\n  render: h => h(App)\n}).$mount(\"#app\");\n"],"sourceRoot":""}
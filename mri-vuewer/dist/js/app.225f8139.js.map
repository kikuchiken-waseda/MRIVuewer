{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/App.vue?c9ac","webpack:///./src/components/MAppBar.vue?2f53","webpack:///src/components/MAppBar.vue","webpack:///./src/components/MAppBar.vue?939f","webpack:///./src/components/MAppBar.vue","webpack:///./src/components/MSideBar.vue?334e","webpack:///./src/models/audioStream.js","webpack:///./src/models/videoStream.js","webpack:///./src/models/videoSize.js","webpack:///./src/models/file.js","webpack:///./src/components/dialog/MMovieUploadDialog.vue?4f52","webpack:///./src/components/dialog/MBaseFormDialog.vue?d5cf","webpack:///src/components/dialog/MBaseFormDialog.vue","webpack:///./src/components/dialog/MBaseFormDialog.vue?6ab0","webpack:///./src/components/dialog/MBaseFormDialog.vue","webpack:///./src/components/form/MMovieInput.vue?6862","webpack:///./src/utils/video.js","webpack:///./src/utils/file.js","webpack:///src/components/form/MMovieInput.vue","webpack:///./src/components/form/MMovieInput.vue?b88d","webpack:///./src/components/form/MMovieInput.vue","webpack:///src/components/dialog/MMovieUploadDialog.vue","webpack:///./src/components/dialog/MMovieUploadDialog.vue?4be5","webpack:///./src/components/dialog/MMovieUploadDialog.vue","webpack:///src/components/MSideBar.vue","webpack:///./src/components/MSideBar.vue?a61e","webpack:///./src/components/MSideBar.vue","webpack:///src/App.vue","webpack:///./src/App.vue?5b92","webpack:///./src/App.vue","webpack:///./src/registerServiceWorker.js","webpack:///./src/views/Home.vue?14d2","webpack:///./src/components/util/MSampleVideoBotton.vue?43a6","webpack:///src/components/util/MSampleVideoBotton.vue","webpack:///./src/components/util/MSampleVideoBotton.vue?ce19","webpack:///./src/components/util/MSampleVideoBotton.vue","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?231f","webpack:///./src/views/Home.vue","webpack:///./src/views/About.vue?7563","webpack:///src/views/About.vue","webpack:///./src/views/About.vue?5ed7","webpack:///./src/views/About.vue","webpack:///./src/views/Config.vue?6903","webpack:///src/views/Config.vue","webpack:///./src/views/Config.vue?857c","webpack:///./src/views/Config.vue","webpack:///./src/views/MovieAnnotation.vue?19be","webpack:///./src/components/MovieAnnotaion/MToolBar.vue?a2ab","webpack:///./src/components/MovieAnnotaion/MInfoMenu.vue?fa05","webpack:///./src/components/util/MInfoList.vue?baef","webpack:///src/components/util/MInfoList.vue","webpack:///./src/components/util/MInfoList.vue?0832","webpack:///./src/components/util/MInfoList.vue","webpack:///src/components/MovieAnnotaion/MInfoMenu.vue","webpack:///./src/components/MovieAnnotaion/MInfoMenu.vue?c12c","webpack:///./src/components/MovieAnnotaion/MInfoMenu.vue","webpack:///./src/components/util/MFuncList.vue?dc26","webpack:///src/components/util/MFuncList.vue","webpack:///./src/components/util/MFuncList.vue?f45b","webpack:///./src/components/util/MFuncList.vue","webpack:///src/components/MovieAnnotaion/MToolBar.vue","webpack:///./src/components/MovieAnnotaion/MToolBar.vue?6d74","webpack:///./src/components/MovieAnnotaion/MToolBar.vue","webpack:///./src/components/MovieAnnotaion/MSettingMenu.vue?9864","webpack:///src/components/MovieAnnotaion/MSettingMenu.vue","webpack:///./src/components/MovieAnnotaion/MSettingMenu.vue?392e","webpack:///./src/components/MovieAnnotaion/MSettingMenu.vue","webpack:///./src/components/MovieAnnotaion/MTierList.vue?22e1","webpack:///src/components/MovieAnnotaion/MTierList.vue","webpack:///./src/components/MovieAnnotaion/MTierList.vue?0f90","webpack:///./src/components/MovieAnnotaion/MTierList.vue","webpack:///./src/components/MovieAnnotaion/MVideoArray.vue?71a2","webpack:///src/components/MovieAnnotaion/MVideoArray.vue","webpack:///./src/components/MovieAnnotaion/MVideoArray.vue?8d53","webpack:///./src/components/MovieAnnotaion/MVideoArray.vue","webpack:///./src/components/wavesurfer/util/observer.js","webpack:///./src/components/wavesurfer/util/ajax.js","webpack:///./src/components/wavesurfer/util/get-id.js","webpack:///./src/components/wavesurfer/util/max.js","webpack:///./src/components/wavesurfer/util/min.js","webpack:///./src/components/wavesurfer/util/extend.js","webpack:///./src/components/wavesurfer/util/style.js","webpack:///./src/components/wavesurfer/util/request-animation-frame.js","webpack:///./src/components/wavesurfer/util/frame.js","webpack:///./src/components/wavesurfer/util/prevent-click.js","webpack:///./src/components/wavesurfer/util/fetch.js","webpack:///./src/components/wavesurfer/drawer.js","webpack:///./src/components/wavesurfer/drawer.canvasentry.js","webpack:///./src/components/wavesurfer/drawer.multicanvas.js","webpack:///./src/components/wavesurfer/webaudio.js","webpack:///./src/components/wavesurfer/mediaelement.js","webpack:///./src/components/wavesurfer/peakcache.js","webpack:///./src/components/wavesurfer/mediaelement-webaudio.js","webpack:///./src/components/wavesurfer/wavesurfer.js","webpack:///./src/components/wavesurfer/plugin/spectrogram.js","webpack:///./src/components/wavesurfer/plugin/timeline.js","webpack:///./src/components/wavesurfer/plugin/minimap.js","webpack:///./src/components/wavesurfer/plugin/multiline.js","webpack:///src/views/MovieAnnotation.vue","webpack:///./src/views/MovieAnnotation.vue?034d","webpack:///./src/views/MovieAnnotation.vue","webpack:///./src/views/ImageAnnotation.vue?3bb0","webpack:///src/views/ImageAnnotation.vue","webpack:///./src/views/ImageAnnotation.vue?b114","webpack:///./src/views/ImageAnnotation.vue","webpack:///./src/views/ComponentDebug.vue?b342","webpack:///./src/components/videos/BackgroundSubtractor.vue?7ef1","webpack:///./src/utils/color.js","webpack:///src/components/videos/BackgroundSubtractor.vue","webpack:///./src/components/videos/BackgroundSubtractor.vue?5b2d","webpack:///./src/components/videos/BackgroundSubtractor.vue","webpack:///./src/components/videos/OpticalFlow.vue?96c5","webpack:///src/components/videos/OpticalFlow.vue","webpack:///./src/components/videos/OpticalFlow.vue?0972","webpack:///./src/components/videos/OpticalFlow.vue","webpack:///./src/components/videos/MeanShift.vue?24e5","webpack:///src/components/videos/MeanShift.vue","webpack:///./src/components/videos/MeanShift.vue?430f","webpack:///./src/components/videos/MeanShift.vue","webpack:///src/views/ComponentDebug.vue","webpack:///./src/views/ComponentDebug.vue?d202","webpack:///./src/views/ComponentDebug.vue","webpack:///./src/router/index.js","webpack:///./src/store/current.js","webpack:///./src/store/index.js","webpack:///./src/locales/ja.ts","webpack:///./src/locales/en.ts","webpack:///./src/locales/zh-Hans.ts","webpack:///./src/plugins/vuetify.js","webpack:///./src/main.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","map","webpackContext","req","id","webpackContextResolve","e","Error","code","keys","resolve","_vm","this","_h","$createElement","_c","_self","staticRenderFns","attrs","_v","_s","version","on","$event","to","computed","$store","state","appName","appVersion","methods","log","debug","console","info","tag","msg","payload","$router","component","VAppBar","VBtn","VIcon","VSpacer","VToolbarTitle","VToolbar","mini","search","label","model","callback","$$v","$set","expression","_e","$vuetify","lang","scopedSlots","_u","fn","ref","_g","files","menu","icon","proxy","_l","item","selectFile","fps","clearCache","importCache","exportCache","AudioStream","attr","codec_name","string","bitrate","number","channel_layout","sample_fmt","sample_rate","Model","VideoStream","pix_fmt","tbc","tbn","tbr","VideoSize","width","height","File","audioStream_id","videoStream_id","videoSize_id","fileSize","fileType","dataUrl","lastModifiedDate","moment","format","currentTime","audioStream","belongsTo","videoStream","size","video","loading","onValid","_t","nameMaxSize","nameRules","fpsRules","dialog","valid","staticClass","title","reset","isloading","validate","props","type","String","Boolean","default","$refs","form","$emit","warn","resetValidation","VCard","VCardActions","VCardText","VCardTitle","VDialog","VForm","onChangeFileInput","stdout","stderr","ffmpeg","arguments","print","printErr","onExit","buff","Uint8Array","MEMFS","split","line","indexOf","detail","filter","x","match","Number","getFrames","toBase64","file","Promise","reject","reader","FileReader","readAsDataURL","onload","onerror","error","toBlob","byteString","atob","mimeString","ab","ArrayBuffer","ia","charCodeAt","Blob","toBuff","toUnit8Array","download","url","filename","metadata","fetch","response","blob","required","set","val","initItem","VFileInput","components","MBaseFormDialog","MMovieInput","VContainer","VTextField","MMovieUploadDialog","watch","open","$route","VDivider","VList","VListGroup","VListItem","VListItemAction","VListItemContent","VListItemSubtitle","VListItemTitle","VNavigationDrawer","mounted","current","VApp","VContent","register","process","ready","registered","cached","updatefound","updated","offline","breakpoint","smAndDown","importSampleMovie","MSampleVideoBotton","_m","directives","rawName","menuFuncs","frameOffset","onLoadeddata","play","pause","tiers","ws","videoHeight","onChangeText","_k","keyCode","onEnterText","text","debugItem","fileName","show","items","help","Array","VSubheader","VTooltip","MInfoList","v","a","VMenu","domProps","VListItemIcon","MInfoMenu","MFuncList","onUpdateFiler","staticStyle","funcs","eq","zoom","f","requested","eqs","handler","setFilters","deep","gain","Q","frequency","filters","VSlider","style","tab","tierType","idx","time","getDuration","maxHeight","cardStyle","VSimpleTable","VTab","VTabItem","VTabs","VTabsItems","VTabsSlider","src","onTimeupdate","frameRate","syncVideos","offsetTime","videoPre","videoPos","duration","getCurrentTime","el","VCol","VRow","VSystemBar","Observer","handlers","event","un","args","setTimeout","forEach","ajax","options","instance","xhr","XMLHttpRequest","fired100","method","responseType","requestHeaders","header","setRequestHeader","withCredentials","addEventListener","fireEvent","lengthComputable","loaded","total","status","send","getId","prefix","undefined","Math","random","toString","substring","max","values","largest","Infinity","min","smallest","extend","dest","sources","source","styles","prop","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","element","frame","func","reqAnimationFrame","preventClickHandler","stopPropagation","document","body","removeEventListener","preventClick","ProgressHandler","contentLength","_reader","getReader","parseInt","controller","read","then","done","onProgress","close","byteLength","enqueue","catch","fetchFile","fetchHeaders","Headers","fetchRequest","Request","AbortController","append","fetchOptions","headers","credentials","cache","redirect","referrer","signal","progressAvailable","Response","ReadableStream","errMsg","ok","arrayBuffer","json","Drawer","container","params","pixelRatio","lastPos","wrapper","util","appendChild","createElement","display","position","userSelect","webkitUserSelect","fillParent","scrollParent","overflowX","hideScrollbar","overflowY","setupWrapperEvents","noPrevent","preventDefault","progress","clientX","targetTouches","bbox","getBoundingClientRect","nominalWidth","parentWidth","getWidth","rtl","right","left","scrollLeft","scrollWidth","scrollbarHeight","offsetHeight","clientHeight","clientY","bottom","interact","handleEvent","peaks","start","end","setWidth","clearWave","barWidth","drawBars","drawWave","percent","recenterOnPosition","immediate","half","clientWidth","maxScroll","target","offset","rate","autoCenterRate","round","updateSize","minPxDelta","pos","autoCenter","newPos","autoCenterImmediately","updateProgress","unAll","parentNode","removeChild","channelIndex","CanvasEntry","wave","waveCtx","progressCtx","constructor","toLowerCase","canvasContextAttributes","getContext","elementWidth","totalWidth","offsetLeft","elementSize","hasProgressCanvas","clearRect","canvas","waveColor","progressColor","fillStyle","y","radius","fillRectToContext","ctx","drawRoundedRect","fillRect","beginPath","moveTo","lineTo","quadraticCurveTo","closePath","fill","absmax","halfH","offsetY","drawLineToContext","peak","h","first","last","canvasStart","canvasEnd","scale","halfOffset","absmaxHalf","halfPixel","quality","toDataURL","MultiCanvas","maxCanvasWidth","maxCanvasElementWidth","canvases","progressWave","EntryClass","drawingContextAttributes","overlap","ceil","barRadius","createWrapper","createElements","zIndex","top","overflow","boxSizing","borderRightStyle","pointerEvents","addCanvas","updateCursor","borderRightWidth","cursorWidth","borderRightColor","cursorColor","requiredCanvases","removeCanvas","canvasWidth","lastCanvas","entry","updateDimensions","leftOffset","initWave","initProgress","lastEntry","parentElement","destroy","pop","prepareDraw","hasMinVals","peakIndexScale","bar","gap","barGap","step","floor","barMinHeight","reflectedPeaks","len","drawLine","setFillStyles","drawLines","startCanvas","endCanvas","intersection","x1","y1","x2","y2","fillRects","channels","splitChannels","setHeight","channelPeaks","barHeight","normalize","some","all","getImage","images","PLAYING","PAUSED","FINISHED","WebAudio","init","addOnAudioProcess","getPlayedPercents","startPosition","getPlayedTime","removeOnAudioProcess","ac","audioContext","supportsWebAudio","getAudioContext","lastPlay","scheduledPause","states","stateBehaviors","buffer","gainNode","mergedPeaks","offlineAc","playbackRate","analyser","scriptNode","splitPeaks","explicitDuration","destroyed","AudioContext","webkitAudioContext","WaveSurferAudioContext","sampleRate","WaveSurferOfflineAudioContext","OfflineAudioContext","webkitOfflineAudioContext","createVolumeNode","createScriptNode","createAnalyserNode","setState","setPlaybackRate","audioRate","setLength","disconnect","connect","disconnectFilters","reduce","prev","curr","audioScriptProcessor","createScriptProcessor","scriptBufferSize","createJavaScriptNode","destination","onaudioprocess","createAnalyser","createGain","createGainNode","deviceId","audio","Audio","setSinkId","autoplay","createMediaStreamDestination","srcObject","stream","setValueAtTime","arraybuffer","errback","getOfflineAudioContext","decodeAudioData","numberOfChannels","newBuffer","createBuffer","sampleSize","sampleStep","chan","getChannelData","disconnectSource","closeAudioContext","isPaused","destroyWebAudio","createSource","createBufferSource","noteGrainOn","stop","noteOff","adjustedTime","seekTo","resume","MediaElement","media","paused","volume","mediaType","elementPosition","isMuted","onPlayEnd","mediaListeners","createTimer","canplay","ended","seeked","volumechange","muted","onAudioProcess","preload","controls","mediaControls","prevMedia","querySelector","_load","elt","HTMLMediaElement","load","_setupMediaListeners","setVolume","seekable","clearPlayEnd","promise","setPlayEnd","_onPlayEnd","removeMediaElementOnDestroy","PeakCache","clearPeakCache","peakCacheRanges","peakCacheLength","uncachedRanges","arr","concat","sort","b","uncachedRangePairs","peakCacheRangePairs","MediaElementWebAudio","sourceMediaElement","createMediaElementSource","mediaElement","WaveSurfer","backend","backgroundColor","dragSelection","desynchronized","forceDecode","loopSelection","mediaContainer","minPxPerSec","partialRender","devicePixelRatio","screen","deviceXDPI","logicalXDPI","plugins","renderer","responsive","skipLength","assign","defaultParams","transform","setBackgroundColor","savedVolume","tmpEvents","currentRequest","drawer","peakCache","Backend","backends","initialisedPluginList","isDestroyed","isReady","prevWidth","_onResize","wavesurfer","registerPlugins","createDrawer","createBackend","createPeakCache","plugin","addPlugin","deferInit","initPlugin","staticProps","pluginStaticProp","Instance","observerPrototypeKeys","getOwnPropertyNames","destroyPlugin","drawBuffer","newVolume","getVolume","seconds","skip","seekAndCenter","recenter","isFinite","oldScrollParent","getPlaybackRate","setMute","mute","color","background","newRanges","addRangeToPeakCache","getPeaks","drawPeaks","pxPerSec","decodeArrayBuffer","loadDecodedBuffer","loadArrayBuffer","readAsArrayBuffer","empty","preloadIgnoreReasons","activeReasons","reason","join","loadBuffer","loadMediaElement","action","once","getArrayBuffer","setPeaks","urlOrElt","loadElt","err","request","percentComplete","accuracy","noWindow","JSON","stringify","encodeURIComponent","abort","cancelAjax","clearTmpEvents","destroyAllPlugins","FFT","bufferSize","windowFunc","alpha","bandwidth","sinTable","Float32Array","cosTable","windowValues","reverseTable","Uint32Array","peakBand","abs","cos","PI","pow","E","sin","limit","bit","calculateSpectrum","rval","ival","mag","real","imag","bSi","sqrt","spectrum","k","LN2","phaseShiftStepReal","phaseShiftStepImag","currentPhaseShiftReal","currentPhaseShiftImag","off","tr","ti","tmpReal","halfSize","fftStep","N","SpectrogramPlugin","frequenciesDataUrl","_onScroll","updateScroll","_onRender","render","_onWrapperClick","_wrapperClickHandler","_onReady","colorMap","cmEntry","fftSamples","noverlap","createCanvas","prevSpectrogram","wsParams","labels","labelsEl","classList","add","loadLabels","relX","offsetX","layerX","spectrCc","updateCanvasStyle","loadFrequenciesData","getFrequencies","drawSpectrogram","frequenciesData","my","pixels","resample","heightFactor","channelOne","frequencies","uniqueSamplesPerPx","fft","currentOffset","segment","array","log10","parse","freq","toFixed","bgFill","fontSizeFreq","fontSizeUnit","fontType","textColorFreq","textColorUnit","textAlign","frequenciesHeight","bgWidth","getMaxY","labelIndex","freqStart","textBaseline","freqType","units","unitType","yLabelOffset","font","fillText","oldMatrix","columnsNumber","newMatrix","oldPiece","newPiece","column","oldStart","oldEnd","newStart","newEnd","intColumn","TimelinePlugin","_onRedraw","_onZoom","notchPercentHeight","labelPadding","unlabeledNotchColor","primaryColor","secondaryColor","primaryFontColor","secondaryFontColor","fontFamily","fontSize","zoomDebounce","formatTimeCallback","defaultFormatTimeCallback","timeInterval","defaultTimeInterval","primaryLabelInterval","defaultPrimaryLabelInterval","secondaryLabelInterval","defaultSecondaryLabelInterval","debounce","innerHTML","updateCanvases","updateCanvasesPositioning","renderCanvases","canvasesLength","totalSeconds","height1","height2","pixelsPerSecond","formatTime","intervalFnOrVal","option","curPixel","curSeconds","positioning","renderPositions","cb","setFonts","textWidth","xOffset","context","measureText","minutes","MinimapPlugin","showRegions","showOverview","overviewBorderColor","overviewBorderSize","renderEvent","overviewRegion","isInitialised","_onShouldRender","bindWavesurferEvents","bindMinimapEvents","contains","insertBefore","regions","_onAudioprocess","_onSeek","draggingOverview","moveOverviewRegion","ratio","_onMouseover","region","renderRegions","regionElements","querySelectorAll","regionElement","cursor","border","opacity","overviewOpacity","positionMouseDown","relativePositionX","seek","waveShowedWidth","waveWidth","overviewWidth","offsetWidth","overviewPosition","TIERS","MultilinePlugin","isDragging","draggingItemIdx","wsp","getCurrentItemIndex","focusColor","focusPointColor","lastIdx","addItem","isCollisioned","csd","_onKeyBackSpace","_onTab","onCtrl","deleteItem","lastTime","isPlaying","getTierNum","children","getTiers","res","focusBgColor","Color","find","check","getCurrentItem","findIndex","isRender","_onDblClick","_onMouseMove","_onMouseDown","_onMouseUp","focus","_onMouseOut","_onKeyDown","setAttribute","fillLine","rectDuration","rectWidth","fs","_x","_y","MToolBar","MTierList","MSettingMenu","MVideoArray","where","isVideoLoaded","initWs","tier","onRedy","onDestroy","onError","onUpdateMultiline","setVideoHeight","$nextTick","addTier","currentTier","putText","currentIdx","isLoading","multiline","textField","onResize","VProgressLinear","Resize","conf","bs","history","threshold","detectShadows","next","getCode","colors","base","replace","css2rgb","codeArr","g","getRgb","require","fgbg","cv","BackgroundSubtractorMOG2","setCurrentTime","cap","imshow","fgmask","VideoCapture","Mat","CV_8UC4","CV_8UC1","frame2","cvtColor","COLOR_RGBA2GRAY","calcOpticalFlowFarneback","flow","flowVec","cartToPolar","u","ang","delete","convertTo","hsv0","hsv2","NORM_MINMAX","merge","hsvVec","hsv","rgb","COLOR_HSV2RGB","copyTo","prvs","CV_32FC2","MatVector","CV_32FC1","frame1","push_back","hsv1","CV_8UC3","COLOR_RGBA2RGB","COLOR_RGB2HSV","calcBackProject","pts","trackWindow","Rect","roi","hsvRoi","inRange","low","high","mask","roiHist","hsvRoiVec","calcHist","termCrit","TermCriteria","dst","trackBox","BackgroundSubtractor","OpticalFlow","MeanShift","backgroundSubtractor","meanShift","opticalFlow","videoArray","VSwitch","Vue","use","VueRouter","routes","path","Home","About","Config","MovieAnnotation","ImageAnnotation","ComponentDebug","router","TAG","MUTATIONTAG","ACTIONTAG","namespaced","mutations","setName","setLastModifiedData","setFileSize","setFileType","setFps","setDataUrl","setSize","setVideoStream","setAudioStream","actions","setItem","commit","setMovieHeight","database","VuexORM","Database","VuexORMLocalForage","localforage","Vuex","Store","install","badge","dataIterator","noResultsText","loadingText","dataTable","itemsPerPageText","ariaLabel","sortDescending","sortAscending","sortNone","activateNone","activateDescending","activateAscending","sortBy","dataFooter","itemsPerPageAll","nextPage","prevPage","firstPage","lastPage","pageText","datePicker","itemsSelected","noDataText","carousel","delimiter","calendar","moreEvents","fileInput","counter","counterSize","timePicker","am","pm","lessThen","moreThen","isFloat","baseFromDialog","hint","save","movieUploadDialog","sidebar","list","export","import","home","disc","upload","btn","demo","movieAnnotation","codec","Vuetify","theme","themes","light","primary","blueGrey","secondary","darken3","accent","teal","grey","lighten3","dark","locales","ja","en","zhHans","config","productionTip","store","vuetify","App","$mount"],"mappings":"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CX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,aAAc,OACd,gBAAiB,OACjB,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,UAAW,OACX,aAAc,OACd,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,aAAc,OACd,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW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","file":"js/app.225f8139.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var map = {\n\t\"./af\": \"2bfb\",\n\t\"./af.js\": \"2bfb\",\n\t\"./ar\": \"8e73\",\n\t\"./ar-dz\": \"a356\",\n\t\"./ar-dz.js\": \"a356\",\n\t\"./ar-kw\": \"423e\",\n\t\"./ar-kw.js\": \"423e\",\n\t\"./ar-ly\": \"1cfd\",\n\t\"./ar-ly.js\": \"1cfd\",\n\t\"./ar-ma\": \"0a84\",\n\t\"./ar-ma.js\": \"0a84\",\n\t\"./ar-sa\": \"8230\",\n\t\"./ar-sa.js\": \"8230\",\n\t\"./ar-tn\": \"6d83\",\n\t\"./ar-tn.js\": \"6d83\",\n\t\"./ar.js\": \"8e73\",\n\t\"./az\": \"485c\",\n\t\"./az.js\": \"485c\",\n\t\"./be\": \"1fc1\",\n\t\"./be.js\": \"1fc1\",\n\t\"./bg\": \"84aa\",\n\t\"./bg.js\": \"84aa\",\n\t\"./bm\": \"a7fa\",\n\t\"./bm.js\": \"a7fa\",\n\t\"./bn\": \"9043\",\n\t\"./bn.js\": \"9043\",\n\t\"./bo\": \"d26a\",\n\t\"./bo.js\": \"d26a\",\n\t\"./br\": \"6887\",\n\t\"./br.js\": \"6887\",\n\t\"./bs\": \"2554\",\n\t\"./bs.js\": \"2554\",\n\t\"./ca\": \"d716\",\n\t\"./ca.js\": \"d716\",\n\t\"./cs\": \"3c0d\",\n\t\"./cs.js\": \"3c0d\",\n\t\"./cv\": \"03ec\",\n\t\"./cv.js\": \"03ec\",\n\t\"./cy\": \"9797\",\n\t\"./cy.js\": \"9797\",\n\t\"./da\": \"0f14\",\n\t\"./da.js\": \"0f14\",\n\t\"./de\": \"b469\",\n\t\"./de-at\": \"b3eb\",\n\t\"./de-at.js\": \"b3eb\",\n\t\"./de-ch\": \"bb71\",\n\t\"./de-ch.js\": \"bb71\",\n\t\"./de.js\": \"b469\",\n\t\"./dv\": \"598a\",\n\t\"./dv.js\": \"598a\",\n\t\"./el\": \"8d47\",\n\t\"./el.js\": \"8d47\",\n\t\"./en-SG\": \"cdab\",\n\t\"./en-SG.js\": \"cdab\",\n\t\"./en-au\": \"0e6b\",\n\t\"./en-au.js\": \"0e6b\",\n\t\"./en-ca\": \"3886\",\n\t\"./en-ca.js\": \"3886\",\n\t\"./en-gb\": \"39a6\",\n\t\"./en-gb.js\": \"39a6\",\n\t\"./en-ie\": \"e1d3\",\n\t\"./en-ie.js\": \"e1d3\",\n\t\"./en-il\": \"7333\",\n\t\"./en-il.js\": \"7333\",\n\t\"./en-nz\": \"6f50\",\n\t\"./en-nz.js\": \"6f50\",\n\t\"./eo\": \"65db\",\n\t\"./eo.js\": \"65db\",\n\t\"./es\": \"898b\",\n\t\"./es-do\": \"0a3c\",\n\t\"./es-do.js\": \"0a3c\",\n\t\"./es-us\": \"55c9\",\n\t\"./es-us.js\": \"55c9\",\n\t\"./es.js\": \"898b\",\n\t\"./et\": \"ec18\",\n\t\"./et.js\": \"ec18\",\n\t\"./eu\": \"0ff2\",\n\t\"./eu.js\": \"0ff2\",\n\t\"./fa\": \"8df4\",\n\t\"./fa.js\": \"8df4\",\n\t\"./fi\": \"81e9\",\n\t\"./fi.js\": \"81e9\",\n\t\"./fo\": \"0721\",\n\t\"./fo.js\": \"0721\",\n\t\"./fr\": \"9f26\",\n\t\"./fr-ca\": \"d9f8\",\n\t\"./fr-ca.js\": \"d9f8\",\n\t\"./fr-ch\": \"0e49\",\n\t\"./fr-ch.js\": \"0e49\",\n\t\"./fr.js\": \"9f26\",\n\t\"./fy\": \"7118\",\n\t\"./fy.js\": \"7118\",\n\t\"./ga\": \"5120\",\n\t\"./ga.js\": \"5120\",\n\t\"./gd\": \"f6b4\",\n\t\"./gd.js\": \"f6b4\",\n\t\"./gl\": \"8840\",\n\t\"./gl.js\": \"8840\",\n\t\"./gom-latn\": \"0caa\",\n\t\"./gom-latn.js\": \"0caa\",\n\t\"./gu\": \"e0c5\",\n\t\"./gu.js\": \"e0c5\",\n\t\"./he\": \"c7aa\",\n\t\"./he.js\": \"c7aa\",\n\t\"./hi\": \"dc4d\",\n\t\"./hi.js\": \"dc4d\",\n\t\"./hr\": \"4ba9\",\n\t\"./hr.js\": \"4ba9\",\n\t\"./hu\": \"5b14\",\n\t\"./hu.js\": \"5b14\",\n\t\"./hy-am\": \"d6b6\",\n\t\"./hy-am.js\": \"d6b6\",\n\t\"./id\": \"5038\",\n\t\"./id.js\": \"5038\",\n\t\"./is\": \"0558\",\n\t\"./is.js\": \"0558\",\n\t\"./it\": \"6e98\",\n\t\"./it-ch\": \"6f12\",\n\t\"./it-ch.js\": \"6f12\",\n\t\"./it.js\": \"6e98\",\n\t\"./ja\": \"079e\",\n\t\"./ja.js\": \"079e\",\n\t\"./jv\": \"b540\",\n\t\"./jv.js\": \"b540\",\n\t\"./ka\": \"201b\",\n\t\"./ka.js\": \"201b\",\n\t\"./kk\": \"6d79\",\n\t\"./kk.js\": \"6d79\",\n\t\"./km\": \"e81d\",\n\t\"./km.js\": \"e81d\",\n\t\"./kn\": \"3e92\",\n\t\"./kn.js\": \"3e92\",\n\t\"./ko\": \"22f8\",\n\t\"./ko.js\": \"22f8\",\n\t\"./ku\": \"2421\",\n\t\"./ku.js\": \"2421\",\n\t\"./ky\": \"9609\",\n\t\"./ky.js\": \"9609\",\n\t\"./lb\": \"440c\",\n\t\"./lb.js\": \"440c\",\n\t\"./lo\": \"b29d\",\n\t\"./lo.js\": \"b29d\",\n\t\"./lt\": \"26f9\",\n\t\"./lt.js\": \"26f9\",\n\t\"./lv\": \"b97c\",\n\t\"./lv.js\": \"b97c\",\n\t\"./me\": \"293c\",\n\t\"./me.js\": \"293c\",\n\t\"./mi\": \"688b\",\n\t\"./mi.js\": \"688b\",\n\t\"./mk\": \"6909\",\n\t\"./mk.js\": \"6909\",\n\t\"./ml\": \"02fb\",\n\t\"./ml.js\": \"02fb\",\n\t\"./mn\": \"958b\",\n\t\"./mn.js\": \"958b\",\n\t\"./mr\": \"39bd\",\n\t\"./mr.js\": \"39bd\",\n\t\"./ms\": \"ebe4\",\n\t\"./ms-my\": \"6403\",\n\t\"./ms-my.js\": \"6403\",\n\t\"./ms.js\": \"ebe4\",\n\t\"./mt\": \"1b45\",\n\t\"./mt.js\": \"1b45\",\n\t\"./my\": \"8689\",\n\t\"./my.js\": \"8689\",\n\t\"./nb\": \"6ce3\",\n\t\"./nb.js\": \"6ce3\",\n\t\"./ne\": \"3a39\",\n\t\"./ne.js\": \"3a39\",\n\t\"./nl\": \"facd\",\n\t\"./nl-be\": \"db29\",\n\t\"./nl-be.js\": \"db29\",\n\t\"./nl.js\": \"facd\",\n\t\"./nn\": \"b84c\",\n\t\"./nn.js\": \"b84c\",\n\t\"./pa-in\": \"f3ff\",\n\t\"./pa-in.js\": \"f3ff\",\n\t\"./pl\": \"8d57\",\n\t\"./pl.js\": \"8d57\",\n\t\"./pt\": \"f260\",\n\t\"./pt-br\": \"d2d4\",\n\t\"./pt-br.js\": \"d2d4\",\n\t\"./pt.js\": \"f260\",\n\t\"./ro\": \"972c\",\n\t\"./ro.js\": \"972c\",\n\t\"./ru\": \"957c\",\n\t\"./ru.js\": \"957c\",\n\t\"./sd\": \"6784\",\n\t\"./sd.js\": \"6784\",\n\t\"./se\": \"ffff\",\n\t\"./se.js\": \"ffff\",\n\t\"./si\": \"eda5\",\n\t\"./si.js\": \"eda5\",\n\t\"./sk\": \"7be6\",\n\t\"./sk.js\": \"7be6\",\n\t\"./sl\": \"8155\",\n\t\"./sl.js\": \"8155\",\n\t\"./sq\": \"c8f3\",\n\t\"./sq.js\": \"c8f3\",\n\t\"./sr\": \"cf1e\",\n\t\"./sr-cyrl\": \"13e9\",\n\t\"./sr-cyrl.js\": \"13e9\",\n\t\"./sr.js\": \"cf1e\",\n\t\"./ss\": \"52bd\",\n\t\"./ss.js\": \"52bd\",\n\t\"./sv\": \"5fbd\",\n\t\"./sv.js\": \"5fbd\",\n\t\"./sw\": \"74dc\",\n\t\"./sw.js\": \"74dc\",\n\t\"./ta\": \"3de5\",\n\t\"./ta.js\": \"3de5\",\n\t\"./te\": \"5cbb\",\n\t\"./te.js\": \"5cbb\",\n\t\"./tet\": \"576c\",\n\t\"./tet.js\": \"576c\",\n\t\"./tg\": \"3b1b\",\n\t\"./tg.js\": \"3b1b\",\n\t\"./th\": \"10e8\",\n\t\"./th.js\": \"10e8\",\n\t\"./tl-ph\": \"0f38\",\n\t\"./tl-ph.js\": \"0f38\",\n\t\"./tlh\": \"cf75\",\n\t\"./tlh.js\": \"cf75\",\n\t\"./tr\": \"0e81\",\n\t\"./tr.js\": \"0e81\",\n\t\"./tzl\": \"cf51\",\n\t\"./tzl.js\": \"cf51\",\n\t\"./tzm\": \"c109\",\n\t\"./tzm-latn\": \"b53d\",\n\t\"./tzm-latn.js\": \"b53d\",\n\t\"./tzm.js\": \"c109\",\n\t\"./ug-cn\": \"6117\",\n\t\"./ug-cn.js\": \"6117\",\n\t\"./uk\": \"ada2\",\n\t\"./uk.js\": \"ada2\",\n\t\"./ur\": \"5294\",\n\t\"./ur.js\": \"5294\",\n\t\"./uz\": \"2e8c\",\n\t\"./uz-latn\": \"010e\",\n\t\"./uz-latn.js\": \"010e\",\n\t\"./uz.js\": \"2e8c\",\n\t\"./vi\": \"2921\",\n\t\"./vi.js\": \"2921\",\n\t\"./x-pseudo\": \"fd7e\",\n\t\"./x-pseudo.js\": \"fd7e\",\n\t\"./yo\": \"7f33\",\n\t\"./yo.js\": \"7f33\",\n\t\"./zh-cn\": \"5c3a\",\n\t\"./zh-cn.js\": \"5c3a\",\n\t\"./zh-hk\": \"49ab\",\n\t\"./zh-hk.js\": \"49ab\",\n\t\"./zh-tw\": \"90ea\",\n\t\"./zh-tw.js\": \"90ea\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"4678\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('m-app-bar'),_c('v-content',[_c('m-side-bar'),_c('router-view')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app-bar',{attrs:{\"app\":\"\",\"color\":\"primary\",\"dark\":\"\"}},[_c('v-toolbar-title',[_vm._v(_vm._s(_vm.name)+\" ver. \"+_vm._s(_vm.version))]),_c('v-spacer'),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.to({ name: 'Home' })}}},[_c('v-icon',[_vm._v(\"mdi-home\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-app-bar app color=\"primary\" dark>\n    <v-toolbar-title>{{ name }} ver. {{ version }}</v-toolbar-title>\n    <v-spacer></v-spacer>\n    <v-btn icon @click=\"to({ name: 'Home' })\">\n      <v-icon>mdi-home</v-icon>\n    </v-btn>\n  </v-app-bar>\n</template>\n\n<script>\nexport default {\n  name: \"MAppBar\",\n  data: () => ({\n    debug: false\n  }),\n  computed: {\n    name: {\n      get() {\n        return this.$store.state.appName;\n      }\n    },\n    version: {\n      get() {\n        return this.$store.state.appVersion;\n      }\n    }\n  },\n  methods: {\n    log: function(tag, msg) {\n      if (this.debug) {\n        console.info(tag, msg);\n      }\n    },\n    to: function(payload) {\n      const tag = `${this.$options.name}:to`;\n      this.log(tag, payload);\n      this.$router.push(payload);\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MAppBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MAppBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MAppBar.vue?vue&type=template&id=f1359a24&\"\nimport script from \"./MAppBar.vue?vue&type=script&lang=js&\"\nexport * from \"./MAppBar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAppBar } from 'vuetify/lib/components/VAppBar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VAppBar,VBtn,VIcon,VSpacer,VToolbarTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-navigation-drawer',{attrs:{\"app\":\"\",\"dark\":\"\",\"expand-on-hover\":\"\",\"mini-variant\":_vm.mini,\"permanent\":\"\"},on:{\"update:miniVariant\":function($event){_vm.mini=$event},\"update:mini-variant\":function($event){_vm.mini=$event}}},[_c('v-list',{attrs:{\"dense\":\"\",\"nav\":\"\"}},[(!_vm.mini)?_c('v-list-item',[_c('v-text-field',{attrs:{\"label\":_vm.search.label,\"single-line\":\"\",\"solo\":\"\",\"dense\":\"\",\"rounded\":\"\"},model:{value:(_vm.search.key),callback:function ($$v) {_vm.$set(_vm.search, \"key\", $$v)},expression:\"search.key\"}})],1):_c('v-list-item',[_c('v-list-item-action',[_c('v-icon',[_vm._v(\"mdi-menu-open\")])],1)],1),(!_vm.mini)?_c('v-list-item',[_c('v-list-item-subtitle',[_vm._v(\" \"+_vm._s(_vm.$vuetify.lang.t(\"$vuetify.sidebar.files.title\"))+\" \")])],1):_vm._e(),_c('m-movie-upload-dialog',{scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-list-item',_vm._g({attrs:{\"ripple\":\"\"}},on),[_c('v-list-item-action',[_c('v-icon',[_vm._v(\"mdi-playlist-plus\")])],1),_c('v-list-item-title',[_vm._v(\" \"+_vm._s(_vm.$vuetify.lang.t(\"$vuetify.sidebar.files.add\"))+\" \")])],1)]}}])}),(_vm.files.length > 0)?_c('v-list-group',{attrs:{\"prepend-icon\":_vm.menu.icon},scopedSlots:_vm._u([{key:\"activator\",fn:function(){return [_c('v-list-item-title',[_vm._v(\" \"+_vm._s(_vm.$vuetify.lang.t(\"$vuetify.sidebar.files.list\"))+\" \")])]},proxy:true}],null,false,979820808),model:{value:(_vm.menu.open),callback:function ($$v) {_vm.$set(_vm.menu, \"open\", $$v)},expression:\"menu.open\"}},_vm._l((_vm.files),function(item){return _c('v-list-item',{key:item.id,on:{\"click\":function($event){return _vm.selectFile(item)}}},[_c('v-list-item-title',[_vm._v(\" \"+_vm._s(item.name)+\" \"),_c('v-spacer'),_vm._v(\" (\"+_vm._s(item.fps)+\" fps) \")],1),_c('v-list-item-action',[_c('v-icon',[_vm._v(\"mdi-file-video\")])],1)],1)}),1):_vm._e(),_c('v-divider'),_c('v-list-item',{attrs:{\"ripple\":\"\"},on:{\"click\":_vm.clearCache}},[_c('v-list-item-action',[_c('v-icon',[_vm._v(\"mdi-database-remove\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\" \"+_vm._s(_vm.$vuetify.lang.t(\"$vuetify.sidebar.cache.destroy\"))+\" \")])],1)],1),_c('v-list-item',{attrs:{\"ripple\":\"\"},on:{\"click\":_vm.importCache}},[_c('v-list-item-action',[_c('v-icon',[_vm._v(\"mdi-database-import\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\" \"+_vm._s(_vm.$vuetify.lang.t(\"$vuetify.sidebar.cache.import\"))+\" \")])],1)],1),_c('v-list-item',{attrs:{\"ripple\":\"\"},on:{\"click\":_vm.exportCache}},[_c('v-list-item-action',[_c('v-icon',[_vm._v(\"mdi-database-export\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\" \"+_vm._s(_vm.$vuetify.lang.t(\"$vuetify.sidebar.cache.export\"))+\" \")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { Model } from \"@vuex-orm/core\";\n\nexport default class AudioStream extends Model {\n  static entity = \"audioStreams\";\n\n  static fields() {\n    return {\n      id: this.attr(null),\n      codec_name: this.string(\"\"),\n      bitrate: this.number(0),\n      channel_layout: this.string(\"mono\"),\n      sample_fmt: this.string(\"\"),\n      sample_rate: this.number(0)\n    };\n  }\n}\n","import { Model } from \"@vuex-orm/core\";\n\nexport default class VideoStream extends Model {\n  static entity = \"videoStreams\";\n\n  static fields() {\n    return {\n      id: this.attr(null),\n      codec_name: this.string(\"\"),\n      pix_fmt: this.string(\"\"),\n      bitrate: this.number(0),\n      fps: this.number(0),\n      tbc: this.number(0),\n      tbn: this.number(0),\n      tbr: this.number(0)\n    };\n  }\n}\n","import { Model } from \"@vuex-orm/core\";\n\nexport default class VideoSize extends Model {\n  static entity = \"videoSizes\";\n\n  static fields() {\n    return {\n      id: this.attr(null),\n      width: this.attr(0),\n      height: this.attr(0)\n    };\n  }\n}\n","/**\n * store/files.js\n *\n * アプリケーションに登録された動画ファイルを管理します\n */\nimport moment from \"moment\";\nimport { Model } from \"@vuex-orm/core\";\nimport AudioStream from \"./audioStream.js\";\nimport VideoStream from \"./videoStream.js\";\nimport VideoSize from \"./videoSize.js\";\n\nexport default class File extends Model {\n  static entity = \"files\";\n  static fields() {\n    return {\n      id: this.attr(null),\n      audioStream_id: this.attr(null),\n      videoStream_id: this.attr(null),\n      videoSize_id: this.attr(null),\n      name: this.attr(\"\"),\n      fileSize: this.attr(\"\"),\n      fileType: this.attr(\"\"),\n      fps: this.number(0),\n      dataUrl: this.attr(\"\"),\n      lastModifiedDate: this.string(moment().format()),\n      currentTime: this.number(0),\n      audioStream: this.belongsTo(AudioStream, \"audioStream_id\"),\n      videoStream: this.belongsTo(VideoStream, \"videoStream_id\"),\n      size: this.belongsTo(VideoSize, \"videoSize_id\")\n    };\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('m-base-form-dialog',{ref:\"form\",attrs:{\"title\":\"Movie Upload\",\"isloading\":_vm.video.loading},on:{\"valid\":_vm.onValid},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_vm._t(\"activator\",[_c('v-btn',_vm._g({attrs:{\"color\":\"primary\",\"dark\":\"\"}},on),[_vm._v(\" \"+_vm._s(_vm.$vuetify.lang.t(\"$vuetify.baseFromDialog.save\"))+\" \")])],{\"on\":on})]}},{key:\"form\",fn:function(){return [_c('v-container',[_c('m-movie-input',{model:{value:(_vm.video),callback:function ($$v) {_vm.video=$$v},expression:\"video\"}}),_c('v-text-field',{attrs:{\"label\":((_vm.$vuetify.lang.t('$vuetify.movieUploadDialog.name.title')) + \"*\"),\"counter\":_vm.nameMaxSize,\"rules\":_vm.nameRules,\"disabled\":_vm.video.loading,\"prepend-icon\":\"mdi-movie\",\"hint\":_vm.$vuetify.lang.t('$vuetify.movieUploadDialog.name.hint'),\"required\":\"\"},model:{value:(_vm.video.name),callback:function ($$v) {_vm.$set(_vm.video, \"name\", $$v)},expression:\"video.name\"}}),_c('v-text-field',{attrs:{\"label\":((_vm.$vuetify.lang.t('$vuetify.movieUploadDialog.fps.title')) + \"*\"),\"rules\":_vm.fpsRules,\"disabled\":_vm.video.loading,\"hint\":_vm.$vuetify.lang.t('$vuetify.movieUploadDialog.fps.hint'),\"prepend-icon\":\"mdi-movie-edit\",\"required\":\"\"},model:{value:(_vm.video.fps),callback:function ($$v) {_vm.$set(_vm.video, \"fps\", $$v)},expression:\"video.fps\"}})],1),(_vm.debug)?_c('v-container',[_c('pre',[_vm._v(_vm._s(_vm.video))])]):_vm._e()]},proxy:true}],null,true)})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"600px\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_vm._t(\"activator\",[_c('v-btn',_vm._g({},on),[_vm._v(\" \"+_vm._s(_vm.$vuetify.lang.t(\"$vuetify.baseFromDialog.open\"))+\" \")])],{\"on\":on})]}}],null,true),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[(_vm.title)?_c('v-card-title',[_c('span',{staticClass:\"headline\"},[_vm._v(_vm._s(_vm.title))])]):_vm._e(),_c('v-card-text',[_vm._t(\"form\"),_c('small',[_vm._v(\" \"+_vm._s(_vm.$vuetify.lang.t(\"$vuetify.baseFromDialog.hint\"))+\" \")])],2),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":_vm.reset}},[_vm._v(\" \"+_vm._s(_vm.$vuetify.lang.t(\"$vuetify.baseFromDialog.close\"))+\" \")]),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\",\"loading\":_vm.isloading},on:{\"click\":_vm.validate}},[_vm._v(\" \"+_vm._s(_vm.$vuetify.lang.t(\"$vuetify.baseFromDialog.save\"))+\" \")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-dialog v-model=\"dialog\" persistent max-width=\"600px\">\n    <template v-slot:activator=\"{ on }\">\n      <slot name=\"activator\" v-bind:on=\"on\">\n        <v-btn v-on=\"on\">\n          {{ $vuetify.lang.t(\"$vuetify.baseFromDialog.open\") }}\n        </v-btn>\n      </slot>\n    </template>\n    <v-card>\n      <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n        <v-card-title v-if=\"title\">\n          <span class=\"headline\">{{ title }}</span>\n        </v-card-title>\n        <v-card-text>\n          <slot name=\"form\"> </slot>\n          <small>\n            {{ $vuetify.lang.t(\"$vuetify.baseFromDialog.hint\") }}\n          </small>\n        </v-card-text>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"blue darken-1\" text @click=\"reset\">\n            {{ $vuetify.lang.t(\"$vuetify.baseFromDialog.close\") }}\n          </v-btn>\n          <v-btn\n            color=\"blue darken-1\"\n            text\n            @click=\"validate\"\n            :loading=\"isloading\"\n          >\n            {{ $vuetify.lang.t(\"$vuetify.baseFromDialog.save\") }}\n          </v-btn>\n        </v-card-actions>\n      </v-form>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nexport default {\n  name: \"MBaseFormDialog\",\n  props: {\n    title: {\n      type: String\n    },\n    isloading: {\n      type: Boolean,\n      default: () => false\n    }\n  },\n  data: () => ({\n    valid: true,\n    dialog: false\n  }),\n  methods: {\n    validate() {\n      const tag = `${this.$options.name}:validate`;\n      this.valid = this.$refs.form.validate();\n      if (this.valid) {\n        console.info(tag, this.valid);\n        this.$emit(\"valid\");\n        this.dialog = false;\n      } else {\n        console.warn(tag, this.valid);\n      }\n    },\n    reset() {\n      const tag = `${this.$options.name}:reset`;\n      console.info(tag);\n      this.$refs.form.reset();\n      this.dialog = false;\n    },\n    resetValidation() {\n      const tag = `${this.$options.name}:resetValidation`;\n      console.info(tag);\n      this.$refs.form.resetValidation();\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MBaseFormDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MBaseFormDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MBaseFormDialog.vue?vue&type=template&id=35731476&\"\nimport script from \"./MBaseFormDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./MBaseFormDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VDialog,VForm,VSpacer})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-file-input',{attrs:{\"label\":((_vm.$vuetify.lang.t('$vuetify.movieUploadDialog.file.title')) + \"*\"),\"hint\":_vm.$vuetify.lang.t('$vuetify.movieUploadDialog.file.hint'),\"prepend-icon\":\"mdi-file-video\",\"accept\":\"video/*\",\"show-size\":\"\"},on:{\"change\":_vm.onChangeFileInput},model:{value:(_vm.video.file),callback:function ($$v) {_vm.$set(_vm.video, \"file\", $$v)},expression:\"video.file\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import ffmpeg from \"ffmpeg.js/ffmpeg-mp4.js\";\n\nconst version = callback => {\n  let stdout = \"\";\n  let stderr = \"\";\n  // Print FFmpeg's version.\n  const result = ffmpeg({\n    arguments: [\"-version\"],\n    print: function(data) {\n      stdout += data + \"\\n\";\n    },\n    printErr: function(data) {\n      stderr += data + \"\\n\";\n    },\n    onExit: function(code) {\n      if (code == 0) {\n        console.info(stdout);\n        callback(code, stdout);\n      } else {\n        console.info(stderr);\n        callback(code, stdout);\n      }\n    }\n  });\n  return result;\n};\n\nconst info = (buff, callback) => {\n  const video = new Uint8Array(buff);\n  let stdout = \"\";\n  // Print FFmpeg's version.\n  const result = ffmpeg({\n    MEMFS: [{ name: \"data.mp4\", data: video }],\n    arguments: [\"-i\", \"data.mp4\"],\n    print: function(data) {\n      stdout += data + \"\\n\";\n    },\n    printErr: function(data) {\n      stdout += data + \"\\n\";\n    },\n    onExit: function() {\n      let item = {};\n      for (const line of stdout.split(\"\\n\")) {\n        if (~line.indexOf(\"Stream\")) {\n          const info = line.split(\": \");\n          if (info.length == 3) {\n            const detail = info[2].split(\", \");\n            if (info[1] == \"Video\") {\n              item.videoStream = {};\n              const size = detail\n                .filter(\n                  x =>\n                    x.match(/x/) &&\n                    x.match(/\\[/) &&\n                    x.match(/\\]/) &&\n                    x.match(/ /)\n                )[0]\n                .split(\" \")[0]\n                .split(\"x\");\n              item.size = {\n                width: Number(size[0]),\n                height: Number(size[1])\n              };\n              item.videoStream.codec_name = detail[0];\n              item.videoStream.pix_fmt = detail[1];\n              item.videoStream.bitrate = Number(\n                detail.filter(x => x.match(/kb\\/s/))[0].split(\" \")[0]\n              );\n              item.videoStream.fps = Number(\n                detail.filter(x => x.match(/fps/))[0].split(\" \")[0]\n              );\n              item.videoStream.tbr = Number(\n                detail.filter(x => x.match(/tbr/))[0].split(\" \")[0]\n              );\n              item.videoStream.tbn = Number(\n                detail.filter(x => x.match(/tbn/))[0].split(\" \")[0]\n              );\n              item.videoStream.tbc = Number(\n                detail.filter(x => x.match(/tbc/))[0].split(\" \")[0]\n              );\n            } else {\n              item.audioStream = {};\n              item.audioStream.codec_name = detail[0];\n              item.audioStream.sample_rate = Number(detail[1].split(\" \")[0]);\n              item.audioStream.channel_layout = detail[2];\n              item.audioStream.sample_fmt = detail[3];\n              item.audioStream.bitrate = Number(detail[4].split(\" \")[0]);\n            }\n          }\n        }\n      }\n      callback(item);\n    }\n  });\n  return result;\n};\n\nconst getFrames = buff => {\n  let stdout = \"\";\n  let stderr = \"\";\n  const video = new Uint8Array(buff);\n  const result = ffmpeg({\n    MEMFS: [{ name: \"data.mp4\", data: video }],\n    arguments: [\"-i\", \"data.mp4\", \"-vcodec\", \"mjpeg\", \"image_%03d.jpg\"],\n    print: function(data) {\n      stdout += data + \"\\n\";\n    },\n    printErr: function(data) {\n      stderr += data + \"\\n\";\n    },\n    onExit: function(code) {\n      console.info(\"Process exited with code \" + code);\n      if (code == 0) {\n        console.log(stdout);\n      } else {\n        console.log(stderr);\n      }\n    }\n  });\n  return result;\n};\n\nexport default {\n  version: version,\n  info: info,\n  getFrames: getFrames\n};\n","const toBase64 = file =>\n  new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = () => resolve(reader.result);\n    reader.onerror = error => reject(error);\n  });\n\nconst toBlob = dataUrl => {\n  const byteString = atob(dataUrl.split(\",\")[1]);\n  const mimeString = dataUrl\n    .split(\",\")[0]\n    .split(\":\")[1]\n    .split(\";\")[0];\n  const ab = new ArrayBuffer(byteString.length);\n  const ia = new Uint8Array(ab);\n  for (var i = 0; i < byteString.length; i++) {\n    ia[i] = byteString.charCodeAt(i);\n  }\n  return new Blob([ab], { type: mimeString });\n};\n\nconst toBuff = dataUrl => {\n  const byteString = atob(dataUrl.split(\",\")[1]);\n  const ab = new ArrayBuffer(byteString.length);\n  const ia = new Uint8Array(ab);\n  for (var i = 0; i < byteString.length; i++) {\n    ia[i] = byteString.charCodeAt(i);\n  }\n  return ab;\n};\n\nconst toUnit8Array = file =>\n  new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = () => resolve(new Uint8Array(reader.result));\n    reader.onerror = error => reject(error);\n  });\n\nconst download = async function(url, filename, metadata) {\n  const response = await fetch(url);\n  const data = await response.blob();\n  const file = new File([data], filename, metadata);\n  return file;\n};\n\nexport default {\n  toBase64: toBase64,\n  toBlob: toBlob,\n  toBuff: toBuff,\n  toUnit8Array: toUnit8Array,\n  download: download\n};\n","<template>\n  <div>\n    <v-file-input\n      :label=\"`${$vuetify.lang.t('$vuetify.movieUploadDialog.file.title')}*`\"\n      :hint=\"$vuetify.lang.t('$vuetify.movieUploadDialog.file.hint')\"\n      v-model=\"video.file\"\n      prepend-icon=\"mdi-file-video\"\n      accept=\"video/*\"\n      show-size\n      @change=\"onChangeFileInput\"\n    />\n  </div>\n</template>\n\n<script>\nimport VideoUtil from \"@/utils/video.js\";\nimport FileUtil from \"@/utils/file.js\";\nexport default {\n  name: \"MMovieInput\",\n  props: {\n    value: {\n      type: Object,\n      required: true\n    }\n  },\n  data: () => ({\n    debug: false\n  }),\n  computed: {\n    video: {\n      get() {\n        return this.value;\n      },\n      set(val) {\n        this.$emit(\"onChangeFileInput\", val);\n      }\n    }\n  },\n  methods: {\n    log: function(tag, msg) {\n      if (this.debug) {\n        console.info(tag, msg);\n      }\n    },\n    initItem: function() {\n      this.video.dataUrl = null;\n      this.video.name = null;\n      this.video.fps = null;\n      this.video.size = {\n        width: null,\n        height: null\n      };\n      this.video.videoStream = {\n        codec_name: null,\n        pix_fmt: null,\n        bitrate: null,\n        fps: null,\n        tbc: null,\n        tbn: null,\n        tbr: null\n      };\n      this.video.audioStream = {\n        bitrate: null,\n        channel_layout: null,\n        codec_name: null,\n        sample_fmt: null,\n        sample_rate: null\n      };\n    },\n    onChangeFileInput: async function(e) {\n      const tag = `${this.$options.name}:onChangeFileInput`;\n      this.video.loading = true;\n      if (e) {\n        this.video.name = e.name;\n        if (e.arrayBuffer) {\n          const buff = await e.arrayBuffer();\n          VideoUtil.info(buff, res => {\n            this.video.size = res.size;\n            if (res.videoStream) {\n              this.log(tag + \":set video\", res.videoStream);\n              this.video.fps = res.videoStream.fps\n                ? res.videoStream.fps\n                : this.video.fps;\n              this.video.videoStream = {\n                codec_name: res.videoStream.codec_name,\n                pix_fmt: res.videoStream.pix_fmt,\n                bitrate: res.videoStream.bitrate,\n                fps: res.videoStream.fps,\n                tbc: res.videoStream.tbc,\n                tbn: res.videoStream.tbn,\n                tbr: res.videoStream.tbr\n              };\n            }\n            if (res.audioStream) {\n              this.log(tag + \":set audio\", res.videoStream);\n              this.video.audioStream = {\n                codec_name: res.audioStream.codec_name,\n                sample_rate: res.audioStream.sample_rate,\n                channel_layout: res.audioStream.channel_layout,\n                sample_fmt: res.audioStream.sample_fmt,\n                bitrate: res.audioStream.bitrate\n              };\n            }\n          });\n          this.video.dataUrl = await FileUtil.toBase64(this.video.file);\n        } else {\n          this.initItem();\n        }\n        this.video.loading = false;\n      } else {\n        this.initItem();\n        console.warn(tag, \"no video\", this.video);\n        this.video.loading = false;\n      }\n    }\n  }\n};\n</script>\n\n<style scoped></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MMovieInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MMovieInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MMovieInput.vue?vue&type=template&id=b5874ce6&scoped=true&\"\nimport script from \"./MMovieInput.vue?vue&type=script&lang=js&\"\nexport * from \"./MMovieInput.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b5874ce6\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VFileInput } from 'vuetify/lib/components/VFileInput';\ninstallComponents(component, {VFileInput})\n","<template>\n  <m-base-form-dialog\n    ref=\"form\"\n    title=\"Movie Upload\"\n    @valid=\"onValid\"\n    :isloading=\"video.loading\"\n  >\n    <template v-slot:activator=\"{ on }\">\n      <slot name=\"activator\" v-bind:on=\"on\">\n        <v-btn color=\"primary\" dark v-on=\"on\">\n          {{ $vuetify.lang.t(\"$vuetify.baseFromDialog.save\") }}\n        </v-btn>\n      </slot>\n    </template>\n    <template v-slot:form>\n      <v-container>\n        <m-movie-input v-model=\"video\" />\n        <v-text-field\n          :label=\"\n            `${$vuetify.lang.t('$vuetify.movieUploadDialog.name.title')}*`\n          \"\n          v-model=\"video.name\"\n          :counter=\"nameMaxSize\"\n          :rules=\"nameRules\"\n          :disabled=\"video.loading\"\n          prepend-icon=\"mdi-movie\"\n          :hint=\"$vuetify.lang.t('$vuetify.movieUploadDialog.name.hint')\"\n          required\n        />\n        <v-text-field\n          :label=\"`${$vuetify.lang.t('$vuetify.movieUploadDialog.fps.title')}*`\"\n          v-model=\"video.fps\"\n          :rules=\"fpsRules\"\n          :disabled=\"video.loading\"\n          :hint=\"$vuetify.lang.t('$vuetify.movieUploadDialog.fps.hint')\"\n          prepend-icon=\"mdi-movie-edit\"\n          required\n        />\n      </v-container>\n      <v-container v-if=\"debug\">\n        <pre>{{ video }}</pre>\n      </v-container>\n    </template>\n  </m-base-form-dialog>\n</template>\n\n<script>\nimport File from \"@/models/file.js\";\nimport MBaseFormDialog from \"./MBaseFormDialog.vue\";\nimport MMovieInput from \"../form/MMovieInput.vue\";\nconst nameMaxSize = 30;\n\nexport default {\n  name: \"MMovieUploadDialog\",\n  components: {\n    MBaseFormDialog,\n    MMovieInput\n  },\n  data: () => ({\n    debug: false,\n    dialog: false,\n    video: {\n      loading: false,\n      name: null,\n      fps: 0\n    },\n    nameMaxSize: nameMaxSize,\n    nameRules: null,\n    fpsRules: null\n  }),\n  methods: {\n    log: function(tag, msg) {\n      if (this.debug) {\n        console.info(tag, msg);\n      }\n    },\n    onValid: function() {\n      const tag = `${this.$options.name}:onValid`;\n      const item = {\n        name: this.video.name,\n        fileSize: this.video.file.size,\n        fileType: this.video.file.type,\n        fps: this.video.fps,\n        dataUrl: this.video.dataUrl,\n        lastModifiedDate: this.video.file.lastModifiedDate,\n        currentTime: 0,\n        audioStream: this.video.audioStream,\n        videoStream: this.video.videoStream,\n        size: {\n          width: this.video.size.width,\n          height: this.video.size.height\n        }\n      };\n      this.log(tag + \":inserteItem\", item);\n      File.$create({ data: item }).then(() => {\n        const file = File.query().last();\n        this.log(tag + \":insertedItem\", file);\n        this.$refs.form.reset();\n        this.$router.push({ name: \"MovieAnnotation\", params: { id: file.id } });\n      });\n    }\n  },\n  async mounted() {\n    this.fpsRules = [\n      v => !!v || this.$vuetify.lang.t(\"$vuetify.validate.required\"),\n      v => {\n        const regex = /^([1-9]\\d*|0)(\\.\\d+)?$/;\n        if (v) {\n          if (!regex.test(v)) {\n            return this.$vuetify.lang.t(\"$vuetify.validate.isFloat\");\n          }\n          return true;\n        }\n        return true;\n      }\n    ];\n    this.nameRules = [\n      v => !!v || this.$vuetify.lang.t(\"$vuetify.validate.required\"),\n      v =>\n        (v && v.length < nameMaxSize) ||\n        this.$vuetify.lang.t(\"$vuetify.validate.lessThen\", nameMaxSize)\n    ];\n    await File.$fetch();\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MMovieUploadDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MMovieUploadDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MMovieUploadDialog.vue?vue&type=template&id=16403206&\"\nimport script from \"./MMovieUploadDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./MMovieUploadDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VContainer,VTextField})\n","<template>\n  <v-navigation-drawer\n    app\n    dark\n    expand-on-hover\n    :mini-variant.sync=\"mini\"\n    permanent\n  >\n    <v-list dense nav>\n      <v-list-item v-if=\"!mini\">\n        <v-text-field\n          :label=\"search.label\"\n          v-model=\"search.key\"\n          single-line\n          solo\n          dense\n          rounded\n        />\n      </v-list-item>\n      <v-list-item v-else>\n        <v-list-item-action>\n          <v-icon>mdi-menu-open</v-icon>\n        </v-list-item-action>\n      </v-list-item>\n      <v-list-item v-if=\"!mini\">\n        <v-list-item-subtitle>\n          {{ $vuetify.lang.t(\"$vuetify.sidebar.files.title\") }}\n        </v-list-item-subtitle>\n      </v-list-item>\n      <!-- 新規ファイルの作成 -->\n      <m-movie-upload-dialog>\n        <template v-slot:activator=\"{ on }\">\n          <v-list-item ripple v-on=\"on\">\n            <v-list-item-action>\n              <v-icon>mdi-playlist-plus</v-icon>\n            </v-list-item-action>\n            <v-list-item-title>\n              {{ $vuetify.lang.t(\"$vuetify.sidebar.files.add\") }}\n            </v-list-item-title>\n          </v-list-item>\n        </template>\n      </m-movie-upload-dialog>\n\n      <!-- 登録済みファイル一覧 -->\n      <v-list-group\n        v-if=\"files.length > 0\"\n        :prepend-icon=\"menu.icon\"\n        v-model=\"menu.open\"\n      >\n        <template v-slot:activator>\n          <v-list-item-title>\n            {{ $vuetify.lang.t(\"$vuetify.sidebar.files.list\") }}\n          </v-list-item-title>\n        </template>\n        <v-list-item\n          v-for=\"item in files\"\n          :key=\"item.id\"\n          @click=\"selectFile(item)\"\n        >\n          <v-list-item-title>\n            {{ item.name }}\n            <v-spacer />\n            ({{ item.fps }} fps)\n          </v-list-item-title>\n          <v-list-item-action>\n            <v-icon>mdi-file-video</v-icon>\n          </v-list-item-action>\n        </v-list-item>\n      </v-list-group>\n      <v-divider></v-divider>\n      <v-list-item ripple @click=\"clearCache\">\n        <v-list-item-action>\n          <v-icon>mdi-database-remove</v-icon>\n        </v-list-item-action>\n        <v-list-item-content>\n          <v-list-item-title>\n            {{ $vuetify.lang.t(\"$vuetify.sidebar.cache.destroy\") }}\n          </v-list-item-title>\n        </v-list-item-content>\n      </v-list-item>\n      <v-list-item ripple @click=\"importCache\">\n        <v-list-item-action>\n          <v-icon>mdi-database-import</v-icon>\n        </v-list-item-action>\n        <v-list-item-content>\n          <v-list-item-title>\n            {{ $vuetify.lang.t(\"$vuetify.sidebar.cache.import\") }}\n          </v-list-item-title>\n        </v-list-item-content>\n      </v-list-item>\n\n      <v-list-item ripple @click=\"exportCache\">\n        <v-list-item-action>\n          <v-icon>mdi-database-export</v-icon>\n        </v-list-item-action>\n        <v-list-item-content>\n          <v-list-item-title>\n            {{ $vuetify.lang.t(\"$vuetify.sidebar.cache.export\") }}\n          </v-list-item-title>\n        </v-list-item-content>\n      </v-list-item>\n    </v-list>\n  </v-navigation-drawer>\n</template>\n\n<script>\nimport File from \"@/models/file.js\";\nimport MMovieUploadDialog from \"@/components/dialog/MMovieUploadDialog.vue\";\n// import Cache from \"@/utils/cache.js\";\nexport default {\n  name: \"MSideBar\",\n  components: {\n    MMovieUploadDialog\n  },\n  data: () => ({\n    name: \"MSideBar\",\n    debug: false,\n    mini: true,\n    menu: {\n      icon: \"mdi-playlist-play\",\n      open: false\n    },\n    search: {\n      key: \"\",\n      label: \"search\"\n    }\n  }),\n  watch: {\n    \"search.key\": function(val) {\n      // 検索文字列存在時にファイル一覧を開く\n      const tag = `${this.$options.name}:watch:search.key`;\n      if (val) {\n        this.log(tag, val);\n        this.menu.open = true;\n      } else {\n        this.menu.open = false;\n      }\n    },\n    mini: function(val) {\n      // サイドバー縮小時にファイル一覧を閉じる\n      const tag = `${this.$options.name}:watch:mini`;\n      this.log(tag, val);\n      if (val === true) {\n        this.menu.open = false;\n      }\n    }\n  },\n  methods: {\n    log: function(tag, msg) {\n      if (this.debug) {\n        console.info(tag, msg);\n      }\n    },\n    selectFile: function(item) {\n      const tag = `${this.$options.name}:selectFile`;\n      this.log(tag, item.id);\n      this.$router.push({ name: \"MovieAnnotation\", params: { id: item.id } });\n    },\n    clearCache: function() {\n      const tag = `${this.$options.name}`;\n      // await Cache.destroy();\n      this.log(tag, \"clearCache\");\n      if (this.$route.name != \"Home\") {\n        this.$router.push({ name: \"Home\" });\n      }\n    },\n    importCache: function() {\n      const tag = `${this.$options.name}`;\n      this.log(tag, \"importCache\");\n    },\n    exportCache: function() {\n      const tag = `${this.$options.name}:exportCache`;\n      // const cache = Cache.get();\n      // const json = JSON.stringify(cache);\n      // const blob = new Blob([json], {\n      //   type: \"application/json\"\n      // });\n      // const link = document.createElement(\"a\");\n      // link.href = window.URL.createObjectURL(blob);\n      // link.download = \"Cache.json\";\n      // link.click();\n      this.log(tag, \"\");\n    }\n  },\n  computed: {\n    files: function() {\n      const tag = `${this.$options.name}:conputed:files:get`;\n      let files;\n      if (this.search.key) {\n        // ファイル検索\n        const key = this.search.key;\n        files = File.query()\n          .where(file => {\n            if (~file.name.indexOf(key)) {\n              return true;\n            }\n            if (~key.indexOf(\"fps\")) {\n              const fps = Number(key.split(\"fps\")[0].trim());\n              return file.fps > fps;\n            }\n            return false;\n          })\n          .get();\n      } else {\n        files = File.query().all();\n      }\n      this.log(tag, files);\n      return files;\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MSideBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MSideBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MSideBar.vue?vue&type=template&id=61f5029e&\"\nimport script from \"./MSideBar.vue?vue&type=script&lang=js&\"\nexport * from \"./MSideBar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListGroup } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VNavigationDrawer } from 'vuetify/lib/components/VNavigationDrawer';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VDivider,VIcon,VList,VListGroup,VListItem,VListItemAction,VListItemContent,VListItemSubtitle,VListItemTitle,VNavigationDrawer,VSpacer,VTextField})\n","<template>\n  <v-app>\n    <m-app-bar />\n    <v-content>\n      <m-side-bar />\n      <router-view></router-view>\n    </v-content>\n  </v-app>\n</template>\n\n<script>\nimport MAppBar from \"@/components/MAppBar.vue\";\nimport MSideBar from \"@/components/MSideBar.vue\";\nexport default {\n  name: \"App\",\n  components: { MAppBar, MSideBar },\n  data: () => ({\n    //\n  }),\n  mounted: function() {\n    const lang = navigator.language;\n    if (lang == \"ja\") {\n      this.$vuetify.lang.current = \"ja\";\n    } else if (~lang.indexOf(\"zh\")) {\n      this.$vuetify.lang.current = \"zhHans\";\n    } else {\n      this.$vuetify.lang.current = \"en\";\n    }\n    console.log();\n  }\n};\n</script>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=36c53b52&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VContent } from 'vuetify/lib/components/VContent';\ninstallComponents(component, {VApp,VContent})\n","/* eslint-disable no-console */\n\nimport { register } from \"register-service-worker\";\n\nif (process.env.NODE_ENV === \"production\") {\n  register(`${process.env.BASE_URL}service-worker.js`, {\n    ready() {\n      console.log(\n        \"App is being served from cache by a service worker.\\n\" +\n          \"For more details, visit https://goo.gl/AFskqB\"\n      );\n    },\n    registered() {\n      console.log(\"Service worker has been registered.\");\n    },\n    cached() {\n      console.log(\"Content has been cached for offline use.\");\n    },\n    updatefound() {\n      console.log(\"New content is downloading.\");\n    },\n    updated() {\n      console.log(\"New content is available; please refresh.\");\n    },\n    offline() {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    },\n    error(error) {\n      console.error(\"Error during service worker registration:\", error);\n    }\n  });\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"home\"},[_c('v-card',{attrs:{\"flat\":\"\"}},[(!_vm.$vuetify.breakpoint.smAndDown)?_c('div',[_c('h3',{staticClass:\"display-3\"},[_vm._v(_vm._s(_vm.name)+\" ver.\"+_vm._s(_vm.version))]),_c('div',{staticClass:\"subheading\"},[_vm._v(\" \"+_vm._s(_vm.$vuetify.lang.t(\"$vuetify.home.disc\"))+\" \")]),_c('v-divider',{staticClass:\"my-3\"})],1):_vm._e(),_c('div',{staticClass:\"title mb-3\"},[_vm._v(\" \"+_vm._s(_vm.$vuetify.lang.t(\"$vuetify.home.upload.title\"))+\" \")]),_c('m-movie-upload-dialog',{scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({staticClass:\"mx-0\",attrs:{\"color\":\"primary\",\"dark\":\"\",\"large\":\"\"}},on),[_vm._v(\" \"+_vm._s(_vm.$vuetify.lang.t(\"$vuetify.home.upload.btn\"))+\" \")])]}}])}),_c('div',{staticClass:\"caption py-1\"},[_c('v-icon',[_vm._v(\"mdi-information\")]),_vm._v(\" \"+_vm._s(_vm.$vuetify.lang.t(\"$vuetify.home.upload.hint\"))+\" \")],1),_c('v-divider',{staticClass:\"my-3\"}),_c('div',{staticClass:\"title mb-3\"},[_vm._v(\" \"+_vm._s(_vm.$vuetify.lang.t(\"$vuetify.home.demo.title\"))+\" \")]),_c('m-sample-video-botton',{staticClass:\"mx-0\"}),_c('div',{staticClass:\"caption\"},[_c('v-icon',[_vm._v(\"mdi-information\")]),_vm._v(\" \"+_vm._s(_vm.$vuetify.lang.t(\"$vuetify.home.demo.hint\"))+\" \")],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-btn',{attrs:{\"color\":\"primary\",\"dark\":\"\",\"large\":\"\",\"loading\":_vm.video.loading},on:{\"click\":_vm.importSampleMovie}},[_vm._v(\" \"+_vm._s(_vm.$vuetify.lang.t(\"$vuetify.home.demo.btn\"))+\" \")]),(_vm.debug)?_c('pre',[_vm._v(\"  \"+_vm._s(_vm.item)+\"\\n  \")]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <v-btn\n      color=\"primary\"\n      dark\n      large\n      @click=\"importSampleMovie\"\n      :loading=\"video.loading\"\n    >\n      {{ $vuetify.lang.t(\"$vuetify.home.demo.btn\") }}\n    </v-btn>\n    <pre v-if=\"debug\">\n    {{ item }}\n    </pre>\n  </div>\n</template>\n\n<script>\nimport File from \"@/models/file.js\";\nimport FileUtil from \"@/utils/file.js\";\nimport VideoUtil from \"@/utils/video.js\";\nexport default {\n  data: () => ({\n    debug: false,\n    item: {\n      fps: 13.79\n    },\n    video: {\n      loading: false\n    }\n  }),\n  methods: {\n    log: function(tag, msg) {\n      if (this.debug) {\n        console.info(tag, msg);\n      }\n    },\n    importSampleMovie: async function() {\n      const tag = `${this.$options.name}:importSampleMovie`;\n      this.item.name = \"sample.mp4\";\n      this.item.loading = true;\n      this.item.fileSize = 1571328;\n      this.item.fileType = \"video/mp4\";\n      const url = \"https://kikuchiken-waseda.github.io/MRIVuewer/misc/6.mp4\";\n      const file = await FileUtil.download(url, this.item.name, {\n        type: \"video/mp4\"\n      });\n      this.item.dataUrl = await FileUtil.toBase64(file);\n      const buff = FileUtil.toBuff(this.item.dataUrl);\n      VideoUtil.info(buff, res => {\n        this.item.size = res.size;\n        if (res.videoStream) {\n          this.item.fps = res.videoStream.fps\n            ? res.videoStream.fps\n            : this.item.fps;\n          this.item.videoStream = {\n            codec_name: res.videoStream.codec_name,\n            pix_fmt: res.videoStream.pix_fmt,\n            bitrate: res.videoStream.bitrate,\n            fps: res.videoStream.fps,\n            tbc: res.videoStream.tbc,\n            tbn: res.videoStream.tbn,\n            tbr: res.videoStream.tbr\n          };\n        }\n        if (res.audioStream) {\n          this.item.audioStream = {\n            codec_name: res.audioStream.codec_name,\n            sample_rate: res.audioStream.sample_rate,\n            channel_layout: res.audioStream.channel_layout,\n            sample_fmt: res.audioStream.sample_fmt,\n            bitrate: res.audioStream.bitrate\n          };\n        }\n        this.log(tag + \":inserteItem\", this.item);\n        File.insertOrUpdate({ data: this.item }).then(() => {\n          const file = File.query().last();\n          this.log(tag + \":insertedItem\", file);\n          this.video.loading = false;\n          this.$router.push({\n            name: \"MovieAnnotation\",\n            params: { id: file.id }\n          });\n        });\n      });\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MSampleVideoBotton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MSampleVideoBotton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MSampleVideoBotton.vue?vue&type=template&id=4205b2c1&\"\nimport script from \"./MSampleVideoBotton.vue?vue&type=script&lang=js&\"\nexport * from \"./MSampleVideoBotton.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\ninstallComponents(component, {VBtn})\n","<template>\n  <v-container class=\"home\">\n    <v-card flat>\n      <div v-if=\"!$vuetify.breakpoint.smAndDown\">\n        <h3 class=\"display-3\">{{ name }} ver.{{ version }}</h3>\n        <div class=\"subheading\">\n          {{ $vuetify.lang.t(\"$vuetify.home.disc\") }}\n        </div>\n        <v-divider class=\"my-3\"></v-divider>\n      </div>\n      <div class=\"title mb-3\">\n        {{ $vuetify.lang.t(\"$vuetify.home.upload.title\") }}\n      </div>\n      <m-movie-upload-dialog>\n        <template v-slot:activator=\"{ on }\">\n          <v-btn class=\"mx-0\" color=\"primary\" dark large v-on=\"on\">\n            {{ $vuetify.lang.t(\"$vuetify.home.upload.btn\") }}\n          </v-btn>\n        </template>\n      </m-movie-upload-dialog>\n      <div class=\"caption py-1\">\n        <v-icon>mdi-information</v-icon>\n        {{ $vuetify.lang.t(\"$vuetify.home.upload.hint\") }}\n      </div>\n      <v-divider class=\"my-3\"></v-divider>\n\n      <div class=\"title mb-3\">\n        {{ $vuetify.lang.t(\"$vuetify.home.demo.title\") }}\n      </div>\n      <m-sample-video-botton class=\"mx-0\" />\n      <div class=\"caption\">\n        <v-icon>mdi-information</v-icon>\n        {{ $vuetify.lang.t(\"$vuetify.home.demo.hint\") }}\n      </div>\n    </v-card>\n  </v-container>\n</template>\n\n<script>\n// @ is an alias to /src\nimport MMovieUploadDialog from \"@/components/dialog/MMovieUploadDialog.vue\";\nimport MSampleVideoBotton from \"@/components/util/MSampleVideoBotton.vue\";\nexport default {\n  name: \"Home\",\n  components: {\n    MMovieUploadDialog,\n    MSampleVideoBotton\n  },\n  computed: {\n    name: {\n      get() {\n        return this.$store.state.appName;\n      }\n    },\n    version: {\n      get() {\n        return this.$store.state.appVersion;\n      }\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=5149b018&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VBtn,VCard,VContainer,VDivider,VIcon})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"about\"},[_c('h1',[_vm._v(\"This is an about page\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"about\">\n    <h1>This is an about page</h1>\n  </div>\n</template>\n<script>\n// @ is an alias to /src\n// import HelloWorld from \"@/components/HelloWorld.vue\";\nexport default {\n  name: \"About\"\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./About.vue?vue&type=template&id=31e1c72d&\"\nimport script from \"./About.vue?vue&type=script&lang=js&\"\nexport * from \"./About.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"config\"},[_c('h1',[_vm._v(\"This is a config page\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"config\">\n    <h1>This is a config page</h1>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\n// import HelloWorld from \"@/components/HelloWorld.vue\";\nexport default {\n  name: \"Config\"\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Config.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Config.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Config.vue?vue&type=template&id=36507eae&\"\nimport script from \"./Config.vue?vue&type=script&lang=js&\"\nexport * from \"./Config.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{directives:[{name:\"resize\",rawName:\"v-resize\",value:(_vm.onResize),expression:\"onResize\"}],staticClass:\"pa-0 movie-annotaion\",attrs:{\"fluid\":\"\"}},[(_vm.item)?_c('m-tool-bar',{attrs:{\"file-name\":_vm.item.name,\"menu-funcs\":_vm.menuFuncs},scopedSlots:_vm._u([{key:\"setting\",fn:function(){return [_c('m-setting-menu',{attrs:{\"menuFuncs\":_vm.menuFuncs}})]},proxy:true}],null,false,2857358650)}):_vm._e(),_c('v-card',{attrs:{\"color\":\"background\"}},[(_vm.item)?_c('v-container',[_c('v-row',[_c('v-col',{staticClass:\"flex-grow-1 flex-shrink-1\"},[_c('v-card',{ref:\"videoCard\",attrs:{\"flat\":\"\",\"color\":\"background\"}},[_c('m-video-array',{attrs:{\"src\":_vm.item.dataUrl,\"frameOffset\":_vm.frameOffset,\"fps\":_vm.item.fps},on:{\"loadeddata\":_vm.onLoadeddata}}),_c('v-card',[_c('v-card-actions',[_c('v-btn',{attrs:{\"icon\":\"\"}},[_c('v-icon',[_vm._v(\"mdi-skip-previous\")])],1),_c('v-btn',{attrs:{\"icon\":\"\"}},[_c('v-icon',[_vm._v(\"mdi-skip-backward\")])],1),_c('v-spacer'),_c('v-btn',{attrs:{\"fab\":\"\",\"dark\":\"\",\"small\":\"\",\"color\":\"accent\"},on:{\"click\":_vm.play}},[_c('v-icon',[_vm._v(\" mdi-play \")])],1),_c('v-btn',{attrs:{\"fab\":\"\",\"dark\":\"\",\"small\":\"\",\"color\":\"accent\"},on:{\"click\":_vm.pause}},[_c('v-icon',[_vm._v(\" mdi-pause \")])],1),_c('v-spacer'),_c('v-btn',{attrs:{\"icon\":\"\"}},[_c('v-icon',[_vm._v(\"mdi-skip-next\")])],1),_c('v-btn',{attrs:{\"icon\":\"\"}},[_c('v-icon',[_vm._v(\"mdi-skip-forward\")])],1)],1)],1)],1)],1),_c('v-col',{staticClass:\"flex-grow-1 flex-shrink-1 d-none d-sm-flex\",attrs:{\"cols\":\"5\"}},[(_vm.tiers)?_c('m-tier-list',{attrs:{\"items\":_vm.tiers,\"ws\":_vm.ws,\"max-height\":_vm.videoHeight}}):_vm._e()],1)],1),(_vm.isLoading)?_c('v-progress-linear',{attrs:{\"color\":\"accent\",\"height\":\"10\",\"indeterminate\":\"\"}}):_vm._e(),_c('v-card',[_c('v-card',{attrs:{\"id\":\"wave-spectrogram\"}}),_c('v-card',{attrs:{\"id\":\"wave-timeline\"}}),_c('v-text-field',{ref:\"textField\",attrs:{\"label\":\"Text\",\"hide-details\":\"\",\"solo\":\"\",\"dense\":\"\"},on:{\"input\":_vm.onChangeText,\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.onEnterText($event)}},model:{value:(_vm.text),callback:function ($$v) {_vm.text=$$v},expression:\"text\"}}),_c('v-card',{attrs:{\"id\":\"wave-multiline\"}}),_c('v-card',{attrs:{\"id\":\"waveform\"}}),_c('v-card',{attrs:{\"id\":\"wave-minimap\"}})],1)],1):_vm._e()],1),(_vm.debug)?_c('v-card',[(_vm.item)?_c('v-container',[_c('pre',[_vm._v(_vm._s(_vm.debugItem))])]):_vm._e()],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-toolbar',{attrs:{\"dark\":\"\",\"color\":\"secondary\",\"dense\":\"\"}},[_c('v-toolbar-title',[_vm._v(\" \"+_vm._s(_vm.fileName)+\" \")]),_c('v-spacer'),_c('m-info-menu'),_vm._t(\"setting\"),_c('v-menu',{attrs:{\"left\":\"\",\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"icon\":\"\"}},on),[_c('v-icon',[_vm._v(\"mdi-dots-vertical\")])],1)]}}])},[_c('m-func-list',{attrs:{\"title\":\"メニュー\",\"items\":_vm.menuFuncs}})],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-menu',{attrs:{\"bottom\":\"\",\"left\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"icon\":\"\"}},on),[_c('v-icon',[_vm._v(_vm._s(_vm.icon))])],1)]}}]),model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('v-card',{staticClass:\"mx-auto\"},[_c('v-toolbar',{attrs:{\"color\":\"primary\",\"dark\":\"\",\"dense\":\"\"}},[_c('v-toolbar-title',[_vm._v(\" \"+_vm._s(_vm.$vuetify.lang.t(\"$vuetify.movieAnnotation.info.title\"))+\" \")])],1),(_vm.items.videoStream)?_c('m-info-list',{attrs:{\"title\":\"video stream\",\"items\":_vm.items.videoStream}}):_vm._e(),(_vm.items.audioStream)?_c('m-info-list',{attrs:{\"title\":\"audio stream\",\"items\":_vm.items.audioStream}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-list',[(_vm.title)?_c('v-subheader',[_vm._v(_vm._s(_vm.title))]):_vm._e(),_vm._l((_vm.items),function(item,key){return _c('v-list-item',{key:key,attrs:{\"two-line\":\"\"}},[_c('v-list-item-title',[_vm._v(\" \"+_vm._s(item.title)+\" \"),(item.help)?_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-icon',_vm._g({},on),[_vm._v(\" mdi-information \")])]}}],null,true)},[_c('span',[_vm._v(_vm._s(item.help))])]):_vm._e()],1),_c('v-list-item-subtitle',[_vm._v(\" \"+_vm._s(item.val)+\" \")])],1)})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-list>\n    <v-subheader v-if=\"title\">{{ title }}</v-subheader>\n    <v-list-item two-line v-for=\"(item, key) in items\" :key=\"key\">\n      <v-list-item-title>\n        {{ item.title }}\n        <v-tooltip bottom v-if=\"item.help\">\n          <template v-slot:activator=\"{ on }\">\n            <v-icon v-on=\"on\">\n              mdi-information\n            </v-icon>\n          </template>\n          <span>{{ item.help }}</span>\n        </v-tooltip>\n      </v-list-item-title>\n      <v-list-item-subtitle>\n        {{ item.val }}\n      </v-list-item-subtitle>\n    </v-list-item>\n  </v-list>\n</template>\n\n<script>\nexport default {\n  props: {\n    items: {\n      type: Array\n    },\n    title: {\n      type: String\n    }\n  }\n};\n</script>\n\n<style scoped></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MInfoList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MInfoList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MInfoList.vue?vue&type=template&id=f32d7fa0&scoped=true&\"\nimport script from \"./MInfoList.vue?vue&type=script&lang=js&\"\nexport * from \"./MInfoList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f32d7fa0\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VSubheader } from 'vuetify/lib/components/VSubheader';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VIcon,VList,VListItem,VListItemSubtitle,VListItemTitle,VSubheader,VTooltip})\n","<template>\n  <v-menu bottom v-model=\"show\" left>\n    <template v-slot:activator=\"{ on }\">\n      <v-btn icon v-on=\"on\">\n        <v-icon>{{ icon }}</v-icon>\n      </v-btn>\n    </template>\n    <v-card class=\"mx-auto\">\n      <v-toolbar color=\"primary\" dark dense>\n        <v-toolbar-title>\n          {{ $vuetify.lang.t(\"$vuetify.movieAnnotation.info.title\") }}\n        </v-toolbar-title>\n      </v-toolbar>\n      <m-info-list\n        title=\"video stream\"\n        :items=\"items.videoStream\"\n        v-if=\"items.videoStream\"\n      />\n      <m-info-list\n        title=\"audio stream\"\n        :items=\"items.audioStream\"\n        v-if=\"items.audioStream\"\n      />\n    </v-card>\n  </v-menu>\n</template>\n\n<script>\nimport MInfoList from \"@/components/util/MInfoList.vue\";\nimport File from \"@/models/file.js\";\nimport VideoStream from \"@/models/videoStream.js\";\nimport AudioStream from \"@/models/audioStream.js\";\nexport default {\n  name: \"movie-annotaion-m-info-menu\",\n  components: {\n    MInfoList\n  },\n  data: () => ({\n    debug: false,\n    show: false\n  }),\n  methods: {\n    log: function(tag, msg) {\n      if (this.debug) {\n        console.info(tag, msg);\n      }\n    }\n  },\n  computed: {\n    items: function() {\n      const tag = `${this.$options.name}:computed:items`;\n      const id = this.$route.params.id;\n      const result = {\n        audioStream: [],\n        videoStream: []\n      };\n      if (id) {\n        const file = File.find(id);\n        this.log(tag, file);\n        const v = VideoStream.find(file.videoStream_id);\n        if (v) {\n          result.videoStream = [\n            {\n              title: this.$vuetify.lang.t(\n                \"$vuetify.movieAnnotation.info.videoStream.codec.title\"\n              ),\n              val: `${v.codec_name}, ${v.pix_fmt}`\n            },\n            {\n              title: this.$vuetify.lang.t(\n                \"$vuetify.movieAnnotation.info.videoStream.bitrate.title\"\n              ),\n              val: `${v.bitrate} kb/s`\n            },\n            {\n              title: this.$vuetify.lang.t(\n                \"$vuetify.movieAnnotation.info.videoStream.fps.title\"\n              ),\n              val: `${v.fps} fps`\n            },\n            {\n              title: this.$vuetify.lang.t(\n                \"$vuetify.movieAnnotation.info.videoStream.tbr.title\"\n              ),\n              val: `${v.tbr} tbr`,\n              help: this.$vuetify.lang.t(\n                \"$vuetify.movieAnnotation.info.videoStream.tbr.help\"\n              )\n            },\n            {\n              title: this.$vuetify.lang.t(\n                \"$vuetify.movieAnnotation.info.videoStream.tbn.title\"\n              ),\n              val: `${v.tbn} tbn`,\n              help: this.$vuetify.lang.t(\n                \"$vuetify.movieAnnotation.info.videoStream.tbn.help\"\n              )\n            },\n            {\n              title: this.$vuetify.lang.t(\n                \"$vuetify.movieAnnotation.info.videoStream.tbc.title\"\n              ),\n              val: `${v.tbc} tbc`,\n              help: this.$vuetify.lang.t(\n                \"$vuetify.movieAnnotation.info.videoStream.tbc.help\"\n              )\n            }\n          ];\n        }\n        const a = AudioStream.find(file.audioStream_id);\n        this.log(tag + \":audioStream\", a);\n        if (a) {\n          result.audioStream = [\n            {\n              title: this.$vuetify.lang.t(\n                \"$vuetify.movieAnnotation.info.audioStream.codec.title\"\n              ),\n              val: a.codec_name\n            },\n            {\n              title: this.$vuetify.lang.t(\n                \"$vuetify.movieAnnotation.info.audioStream.bitrate.title\"\n              ),\n              val: `${a.bitrate} kb/s`\n            },\n            {\n              title: this.$vuetify.lang.t(\n                \"$vuetify.movieAnnotation.info.audioStream.channel_layout.title\"\n              ),\n              val: a.channel_layout\n            },\n            {\n              title: this.$vuetify.lang.t(\n                \"$vuetify.movieAnnotation.info.audioStream.sample_rate.title\"\n              ),\n              val: `${a.sample_rate} Hz`\n            }\n          ];\n        }\n      } else {\n        this.log(tag, \"no id\");\n      }\n      return result;\n    }\n  },\n  props: {\n    icon: {\n      type: String,\n      default: \"mdi-help-circle\"\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MInfoMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MInfoMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MInfoMenu.vue?vue&type=template&id=5b36273a&\"\nimport script from \"./MInfoMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./MInfoMenu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VCard,VIcon,VMenu,VToolbar,VToolbarTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-list',[(_vm.title)?_c('v-subheader',[_vm._v(_vm._s(_vm.title))]):_vm._e(),_vm._l((_vm.items),function(item,key){return _c('v-list-item',{key:key,on:{\"click\":item.callback}},[(item.icon)?_c('v-list-item-icon',[_c('v-icon',{domProps:{\"textContent\":_vm._s(item.icon)}})],1):_vm._e(),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\" \"+_vm._s(item.title)+\" \"),(item.help)?_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-icon',_vm._g({},on),[_vm._v(\" mdi-information \")])]}}],null,true)},[_c('span',[_vm._v(_vm._s(item.help))])]):_vm._e()],1)],1)],1)})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-list>\n    <v-subheader v-if=\"title\">{{ title }}</v-subheader>\n    <v-list-item v-for=\"(item, key) in items\" :key=\"key\" @click=\"item.callback\">\n      <v-list-item-icon v-if=\"item.icon\">\n        <v-icon v-text=\"item.icon\"></v-icon>\n      </v-list-item-icon>\n      <v-list-item-content>\n        <v-list-item-title>\n          {{ item.title }}\n          <v-tooltip bottom v-if=\"item.help\">\n            <template v-slot:activator=\"{ on }\">\n              <v-icon v-on=\"on\">\n                mdi-information\n              </v-icon>\n            </template>\n            <span>{{ item.help }}</span>\n          </v-tooltip>\n        </v-list-item-title>\n      </v-list-item-content>\n    </v-list-item>\n  </v-list>\n</template>\n\n<script>\nexport default {\n  props: {\n    items: {\n      type: Array\n    },\n    title: {\n      type: String\n    }\n  }\n};\n</script>\n\n<style scoped></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MFuncList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MFuncList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MFuncList.vue?vue&type=template&id=197a6350&scoped=true&\"\nimport script from \"./MFuncList.vue?vue&type=script&lang=js&\"\nexport * from \"./MFuncList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"197a6350\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemIcon } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VSubheader } from 'vuetify/lib/components/VSubheader';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VIcon,VList,VListItem,VListItemContent,VListItemIcon,VListItemTitle,VSubheader,VTooltip})\n","<template>\n  <v-toolbar dark color=\"secondary\" dense>\n    <v-toolbar-title>\n      {{ fileName }}\n    </v-toolbar-title>\n    <v-spacer />\n    <m-info-menu />\n    <slot name=\"setting\"></slot>\n    <v-menu left bottom>\n      <template v-slot:activator=\"{ on }\">\n        <v-btn icon v-on=\"on\">\n          <v-icon>mdi-dots-vertical</v-icon>\n        </v-btn>\n      </template>\n      <m-func-list title=\"メニュー\" :items=\"menuFuncs\" />\n    </v-menu>\n  </v-toolbar>\n</template>\n\n<script>\nimport MInfoMenu from \"@/components/MovieAnnotaion/MInfoMenu.vue\";\nimport MFuncList from \"@/components/util/MFuncList.vue\";\nexport default {\n  name: \"movie-annotaion-tool-bar\",\n  components: {\n    MInfoMenu,\n    MFuncList\n  },\n  props: {\n    fileName: {\n      type: String\n    },\n    menuFuncs: {\n      type: Array\n    }\n  },\n  methods: {\n    onUpdateFiler: function(payload) {\n      this.$emit(\"updateFiler\", payload);\n    }\n  }\n};\n</script>\n\n<style scoped></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MToolBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MToolBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MToolBar.vue?vue&type=template&id=a57e322e&scoped=true&\"\nimport script from \"./MToolBar.vue?vue&type=script&lang=js&\"\nexport * from \"./MToolBar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a57e322e\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VIcon,VMenu,VSpacer,VToolbar,VToolbarTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-menu',{attrs:{\"bottom\":\"\",\"close-on-click\":false,\"close-on-content-click\":false,\"left\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"icon\":\"\"}},on),[_c('v-icon',[_vm._v(_vm._s(_vm.icon))])],1)]}}]),model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('v-card',{staticStyle:{\"min-width\":\"600px\"}},[_c('v-toolbar',{attrs:{\"color\":\"primary\",\"dark\":\"\",\"dense\":\"\"}},[_c('v-toolbar-title',[_vm._v(\"設定メニュー\")])],1),_c('m-func-list',{attrs:{\"title\":\"動画操作\",\"items\":_vm.funcs}}),_c('v-list',{staticClass:\"overflow-y-auto\",staticStyle:{\"min-width\":\"600px\",\"max-height\":\"400px\"}},[_c('v-subheader',[_vm._v(\"イコライザー\")]),_vm._l((_vm.eqs),function(eq,key){return _c('v-list-item',{key:key},[_c('v-list-item-content',[_c('v-slider',{attrs:{\"min\":-40,\"max\":40,\"label\":(\"f: \" + (eq.f))},model:{value:(eq.val),callback:function ($$v) {_vm.$set(eq, \"val\", $$v)},expression:\"eq.val\"}})],1)],1)})],2),_c('v-list',[_c('v-subheader',[_vm._v(\"拡大\")]),_c('v-list-item-content',[_c('v-slider',{attrs:{\"min\":200,\"max\":300},model:{value:(_vm.zoom),callback:function ($$v) {_vm.zoom=$$v},expression:\"zoom\"}})],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.show = false}}},[_vm._v(\"Close\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-menu\n    bottom\n    v-model=\"show\"\n    :close-on-click=\"false\"\n    :close-on-content-click=\"false\"\n    left\n  >\n    <template v-slot:activator=\"{ on }\">\n      <v-btn icon v-on=\"on\">\n        <v-icon>{{ icon }}</v-icon>\n      </v-btn>\n    </template>\n    <v-card style=\"min-width: 600px\">\n      <v-toolbar color=\"primary\" dark dense>\n        <v-toolbar-title>設定メニュー</v-toolbar-title>\n      </v-toolbar>\n      <m-func-list title=\"動画操作\" :items=\"funcs\" />\n      <v-list\n        style=\"min-width: 600px; max-height: 400px\"\n        class=\"overflow-y-auto\"\n      >\n        <v-subheader>イコライザー</v-subheader>\n        <v-list-item v-for=\"(eq, key) in eqs\" :key=\"key\">\n          <v-list-item-content>\n            <v-slider\n              v-model=\"eq.val\"\n              :min=\"-40\"\n              :max=\"40\"\n              :label=\"`f: ${eq.f}`\"\n            />\n          </v-list-item-content>\n        </v-list-item>\n      </v-list>\n      <v-list>\n        <v-subheader>拡大</v-subheader>\n        <v-list-item-content>\n          <v-slider v-model=\"zoom\" :min=\"200\" :max=\"300\" />\n        </v-list-item-content>\n      </v-list>\n      <v-card-actions>\n        <v-spacer></v-spacer>\n        <v-btn text @click=\"show = false\">Close</v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-menu>\n</template>\n\n<script>\nimport MFuncList from \"@/components/util/MFuncList.vue\";\nexport default {\n  name: \"movie-annotaion-m-setting-menu\",\n  components: {\n    MFuncList\n  },\n  data: () => ({\n    show: false,\n    funcs: [],\n    zoom: 100,\n    eqs: [\n      {\n        f: 32,\n        val: 0,\n        type: \"lowshelf\"\n      },\n      {\n        f: 64,\n        val: 0,\n        type: \"peaking\"\n      },\n      {\n        f: 125,\n        val: 0,\n        type: \"peaking\"\n      },\n      {\n        f: 250,\n        val: 0,\n        type: \"peaking\"\n      },\n      {\n        f: 500,\n        val: 0,\n        type: \"peaking\"\n      },\n      {\n        f: 1000,\n        val: 0,\n        type: \"peaking\"\n      },\n      {\n        f: 2000,\n        val: 0,\n        type: \"peaking\"\n      },\n      {\n        f: 4000,\n        val: 0,\n        type: \"peaking\"\n      },\n      {\n        f: 8000,\n        val: 0,\n        type: \"peaking\"\n      },\n      {\n        f: 16000,\n        val: 0,\n        type: \"highshelf\"\n      }\n    ]\n  }),\n  props: {\n    value: {\n      type: Object,\n      requested: true\n    },\n    icon: {\n      type: String,\n      default: \"mdi-cog\"\n    }\n  },\n  watch: {\n    eqs: {\n      handler: function(val) {\n        const tag = `${this.$options.name}:watch:eqs`;\n        console.log(tag, val);\n        this.setFilters();\n      },\n      deep: true\n    },\n    zoom: function(val) {\n      const tag = `${this.$options.name}:zoom`;\n      console.log(tag, val);\n      this.ws.zoom(Number(val));\n    }\n  },\n  methods: {\n    setFilters: function() {\n      if (this.ws) {\n        const tag = `${this.$options.name}:setFilters`;\n        console.log(tag);\n        const filters = this.eqs.map(eq => {\n          const filter = this.ws.backend.ac.createBiquadFilter();\n          filter.type = eq.type;\n          filter.gain.value = ~~eq.val;\n          filter.Q.value = 1;\n          filter.frequency.value = eq.f;\n          return filter;\n        });\n        console.log(tag, filters);\n        this.$emit(\"updateFiler\", filters);\n      }\n    }\n  },\n  mounted: function() {}\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MSettingMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MSettingMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MSettingMenu.vue?vue&type=template&id=589b6bda&\"\nimport script from \"./MSettingMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./MSettingMenu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VSlider } from 'vuetify/lib/components/VSlider';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSubheader } from 'vuetify/lib/components/VSubheader';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VCard,VCardActions,VIcon,VList,VListItem,VListItemContent,VMenu,VSlider,VSpacer,VSubheader,VToolbar,VToolbarTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"max-auto overflow-y-auto\",style:(_vm.cardStyle),attrs:{\"width\":\"100%\"}},[_c('v-tabs',{attrs:{\"dark\":\"\",\"background-color\":\"teal darken-3\",\"show-arrows\":\"\"},model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c('v-tabs-slider',{attrs:{\"color\":\"teal lighten-3\"}}),_vm._l((_vm.items),function(item,key){return _c('v-tab',{key:key},[_vm._v(\" \"+_vm._s(item.name)+\" \")])})],2),_c('v-tabs-items',{model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},_vm._l((_vm.items),function(item){return _c('v-tab-item',{key:item.name},[_c('v-card',{attrs:{\"flat\":\"\"}},[_c('v-simple-table',{scopedSlots:_vm._u([{key:\"default\",fn:function(){return [(item.tierType == 'interval')?_c('tbody',_vm._l((item.items),function(x,idx){return _c('tr',{key:idx},[_c('td',[_vm._v(_vm._s(x.text))]),_c('td',[_vm._v(_vm._s(x.time))]),(idx == item.items.length - 1)?_c('td',[_vm._v(\" \"+_vm._s(_vm.ws.getDuration())+\" \")]):_c('td',[_vm._v(\" \"+_vm._s(item.items[Number(idx + 1)].time)+\" \")])])}),0):_c('tbody',_vm._l((item.items),function(x,key){return _c('tr',{key:key},[_c('td',[_vm._v(_vm._s(x.text))]),_c('td',[_vm._v(_vm._s(x.time))])])}),0)]},proxy:true}],null,true)})],1)],1)}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card class=\"max-auto overflow-y-auto\" :style=\"cardStyle\" width=\"100%\">\n    <v-tabs v-model=\"tab\" dark background-color=\"teal darken-3\" show-arrows>\n      <v-tabs-slider color=\"teal lighten-3\"></v-tabs-slider>\n      <v-tab v-for=\"(item, key) in items\" :key=\"key\">\n        {{ item.name }}\n      </v-tab>\n    </v-tabs>\n    <v-tabs-items v-model=\"tab\">\n      <v-tab-item v-for=\"item in items\" :key=\"item.name\">\n        <v-card flat>\n          <v-simple-table>\n            <template v-slot:default>\n              <tbody v-if=\"item.tierType == 'interval'\">\n                <tr v-for=\"(x, idx) in item.items\" :key=\"idx\">\n                  <td>{{ x.text }}</td>\n                  <td>{{ x.time }}</td>\n                  <td v-if=\"idx == item.items.length - 1\">\n                    {{ ws.getDuration() }}\n                  </td>\n                  <td v-else>\n                    {{ item.items[Number(idx + 1)].time }}\n                  </td>\n                </tr>\n              </tbody>\n              <tbody v-else>\n                <tr v-for=\"(x, key) in item.items\" :key=\"key\">\n                  <td>{{ x.text }}</td>\n                  <td>{{ x.time }}</td>\n                </tr>\n              </tbody>\n            </template>\n          </v-simple-table>\n        </v-card>\n      </v-tab-item>\n    </v-tabs-items>\n  </v-card>\n</template>\n\n<script>\nexport default {\n  data: () => ({\n    tab: null\n  }),\n  props: {\n    items: {\n      type: Array\n    },\n    maxHeight: {\n      type: Number\n    },\n    ws: {\n      type: Object\n    }\n  },\n  computed: {\n    cardStyle: function() {\n      if (this.maxHeight) {\n        return `max-height: ${this.maxHeight}px`;\n      }\n      return \"max-height: 400px\";\n    }\n  }\n};\n</script>\n\n<style scoped></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MTierList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MTierList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MTierList.vue?vue&type=template&id=620286fd&scoped=true&\"\nimport script from \"./MTierList.vue?vue&type=script&lang=js&\"\nexport * from \"./MTierList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"620286fd\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VSimpleTable } from 'vuetify/lib/components/VDataTable';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabItem } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VTabsItems } from 'vuetify/lib/components/VTabs';\nimport { VTabsSlider } from 'vuetify/lib/components/VTabs';\ninstallComponents(component, {VCard,VSimpleTable,VTab,VTabItem,VTabs,VTabsItems,VTabsSlider})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"pa-0\",attrs:{\"fluid\":\"\"}},[_c('v-row',{staticClass:\"py-0\"},[_c('v-col',{staticClass:\"py-0\",attrs:{\"cols\":\"4\"}},[_c('v-card',{attrs:{\"flat\":\"\",\"color\":\"background\"}},[_c('v-system-bar',{attrs:{\"dark\":\"\",\"color\":\"accent\"}},[_vm._v(\" \"+_vm._s(_vm.frameOffset)+\"フレーム前の画像 \")]),(_vm.src)?_c('video',{ref:\"videoPre\",style:(_vm.videoStyle),attrs:{\"muted\":\"\",\"src\":_vm.src},domProps:{\"muted\":true}}):_vm._e()],1)],1),_c('v-col',{staticClass:\"py-0\",attrs:{\"cols\":\"4\"}},[_c('v-card',{attrs:{\"flat\":\"\",\"color\":\"background\"}},[_c('v-system-bar',{attrs:{\"dark\":\"\",\"color\":\"accent\"}},[_vm._v(\" 現在画像 \")]),(_vm.src)?_c('video',{ref:\"video\",style:(_vm.videoStyle),attrs:{\"src\":_vm.src},on:{\"loadeddata\":_vm.onLoadeddata,\"timeupdate\":_vm.onTimeupdate}}):_vm._e()],1)],1),_c('v-col',{staticClass:\"py-0\",attrs:{\"cols\":\"4\"}},[_c('v-card',{attrs:{\"flat\":\"\",\"color\":\"background\"}},[_c('v-system-bar',{attrs:{\"dark\":\"\",\"color\":\"accent\"}},[_vm._v(\" \"+_vm._s(_vm.frameOffset)+\"フレーム後の画像 \")]),(_vm.src)?_c('video',{ref:\"videoPos\",style:(_vm.videoStyle),attrs:{\"muted\":\"\",\"src\":_vm.src},domProps:{\"muted\":true}}):_vm._e()],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container fluid class=\"pa-0\">\n    <v-row class=\"py-0\">\n      <v-col cols=\"4\" class=\"py-0\">\n        <v-card flat color=\"background\">\n          <v-system-bar dark color=\"accent\">\n            {{ frameOffset }}フレーム前の画像\n          </v-system-bar>\n          <video\n            v-if=\"src\"\n            muted\n            ref=\"videoPre\"\n            :style=\"videoStyle\"\n            :src=\"src\"\n          />\n        </v-card>\n      </v-col>\n      <v-col cols=\"4\" class=\"py-0\">\n        <v-card flat color=\"background\">\n          <v-system-bar dark color=\"accent\">\n            現在画像\n          </v-system-bar>\n          <video\n            v-if=\"src\"\n            ref=\"video\"\n            @loadeddata=\"onLoadeddata\"\n            @timeupdate=\"onTimeupdate\"\n            :style=\"videoStyle\"\n            :src=\"src\"\n          />\n        </v-card>\n      </v-col>\n      <v-col cols=\"4\" class=\"py-0\">\n        <v-card flat color=\"background\">\n          <v-system-bar dark color=\"accent\">\n            {{ frameOffset }}フレーム後の画像\n          </v-system-bar>\n          <video\n            muted\n            v-if=\"src\"\n            ref=\"videoPos\"\n            :style=\"videoStyle\"\n            :src=\"src\"\n          />\n        </v-card>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nexport default {\n  name: \"MVideoArray\",\n  props: {\n    src: {\n      type: String,\n      requested: true\n    },\n    fps: {\n      type: Number,\n      requested: true\n    },\n    frameOffset: {\n      type: Number,\n      default: 1\n    }\n  },\n  data: () => ({\n    el: null,\n    debug: false,\n    background: \"grey lighten-3\",\n    videoStyle: {\n      width: \"100%\",\n      height: \"auto\"\n    }\n  }),\n  computed: {\n    frameRate: function() {\n      return 1 / this.fps;\n    }\n  },\n  methods: {\n    // ユーティリティ関数\n    log: function(tag, msg) {\n      if (this.debug) {\n        console.info(tag, msg);\n      }\n    },\n    syncVideos: function(currentTime) {\n      const tag = `${this.$options.name}:syncVideos`;\n      const offsetTime = this.frameOffset * this.frameRate;\n      this.log(tag, `currentTime:${currentTime} offsetTime:${offsetTime}`);\n      if (currentTime - offsetTime > 0) {\n        const time = currentTime - offsetTime;\n        this.log(tag, `video-pre: setCurrentTime: ${time}`);\n        this.$refs.videoPre.currentTime = time;\n      }\n      if (offsetTime + currentTime < this.getDuration()) {\n        this.log(tag, \"video-pos: setCurrentTime\");\n        const time = currentTime + offsetTime;\n        this.$refs.videoPos.currentTime = time;\n      }\n    },\n    getDuration: function() {\n      return this.$refs.video.duration;\n    },\n    getCurrentTime: function() {\n      return this.$refs.video.currentTime;\n    },\n    // イベント発火\n    onLoadeddata() {\n      const tag = `${this.$options.name}:onLoadeddata`;\n      this.el = this.$refs.video;\n      this.log(tag, this.el);\n      this.$emit(\"loadeddata\", this.el);\n    },\n    onTimeupdate: function() {\n      const tag = `${this.$options.name}:onTimeupdate`;\n      const currentTime = this.getCurrentTime();\n      this.$emit(\"timeupdate\", currentTime);\n      this.syncVideos(currentTime);\n      this.log(tag, currentTime);\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MVideoArray.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MVideoArray.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MVideoArray.vue?vue&type=template&id=4dd27da8&\"\nimport script from \"./MVideoArray.vue?vue&type=script&lang=js&\"\nexport * from \"./MVideoArray.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSystemBar } from 'vuetify/lib/components/VSystemBar';\ninstallComponents(component, {VCard,VCol,VContainer,VRow,VSystemBar})\n","/**\n * @typedef {Object} ListenerDescriptor\n * @property {string} name The name of the event\n * @property {function} callback The callback\n * @property {function} un The function to call to remove the listener\n */\n\n/**\n * Observer class\n */\nexport default class Observer {\n  /**\n   * Instantiate Observer\n   */\n  constructor() {\n    /**\n     * @private\n     * @todo Initialise the handlers here already and remove the conditional\n     * assignment in `on()`\n     */\n    this.handlers = null;\n  }\n  /**\n   * Attach a handler function for an event.\n   *\n   * @param {string} event Name of the event to listen to\n   * @param {function} fn The callback to trigger when the event is fired\n   * @return {ListenerDescriptor} The event descriptor\n   */\n  on(event, fn) {\n    if (!this.handlers) {\n      this.handlers = {};\n    }\n\n    let handlers = this.handlers[event];\n    if (!handlers) {\n      handlers = this.handlers[event] = [];\n    }\n    handlers.push(fn);\n\n    // Return an event descriptor\n    return {\n      name: event,\n      callback: fn,\n      un: (e, fn) => this.un(e, fn)\n    };\n  }\n\n  /**\n   * Remove an event handler.\n   *\n   * @param {string} event Name of the event the listener that should be\n   * removed listens to\n   * @param {function} fn The callback that should be removed\n   */\n  un(event, fn) {\n    if (!this.handlers) {\n      return;\n    }\n\n    const handlers = this.handlers[event];\n    let i;\n    if (handlers) {\n      if (fn) {\n        for (i = handlers.length - 1; i >= 0; i--) {\n          if (handlers[i] == fn) {\n            handlers.splice(i, 1);\n          }\n        }\n      } else {\n        handlers.length = 0;\n      }\n    }\n  }\n\n  /**\n   * Remove all event handlers.\n   */\n  unAll() {\n    this.handlers = null;\n  }\n\n  /**\n   * Attach a handler to an event. The handler is executed at most once per\n   * event type.\n   *\n   * @param {string} event The event to listen to\n   * @param {function} handler The callback that is only to be called once\n   * @return {ListenerDescriptor} The event descriptor\n   */\n  once(event, handler) {\n    const fn = (...args) => {\n      /*  eslint-disable no-invalid-this */\n      handler.apply(this, args);\n      /*  eslint-enable no-invalid-this */\n      setTimeout(() => {\n        this.un(event, fn);\n      }, 0);\n    };\n    return this.on(event, fn);\n  }\n\n  /**\n   * Manually fire an event\n   *\n   * @param {string} event The event to fire manually\n   * @param {...any} args The arguments with which to call the listeners\n   */\n  fireEvent(event, ...args) {\n    if (!this.handlers) {\n      return;\n    }\n    const handlers = this.handlers[event];\n    handlers &&\n      handlers.forEach(fn => {\n        fn(...args);\n      });\n  }\n}\n","import Observer from \"./observer\";\n\n/**\n * Perform an ajax request using `XMLHttpRequest`.\n *\n * @deprecated Use `util.fetchFile` instead.\n *\n * @param {Object} options AJAX options to use. See example below for options.\n * @returns {Observer} Observer instance\n * @example\n * // default options\n * let options = {\n *     method: 'GET',\n *     url: undefined,\n *     responseType: 'json',\n *     xhr: {}\n * };\n *\n * // override default options\n * options.url = '../media/demo.wav';\n * options.responseType = 'arraybuffer';\n * options.xhr = {\n *     requestHeaders: [\n *         {\n *             key: 'Authorization',\n *             value: 'my-token'\n *         }\n *     ],\n *     withCredentials: true\n * };\n *\n * // make ajax call\n * let ajaxCall = util.ajax(options);\n * ajaxCall.on('progress', e => {\n *     console.log('progress', e);\n * });\n * ajaxCall.on('success', (data, e) => {\n *     console.log('success!', data);\n * });\n * ajaxCall.on('error', e => {\n *     console.warn('ajax error: ' + e.target.statusText);\n * });\n */\nexport default function ajax(options) {\n  const instance = new Observer();\n  const xhr = new XMLHttpRequest();\n  let fired100 = false;\n  xhr.open(options.method || \"GET\", options.url, true);\n  xhr.responseType = options.responseType || \"json\";\n\n  if (options.xhr) {\n    if (options.xhr.requestHeaders) {\n      // add custom request headers\n      options.xhr.requestHeaders.forEach(header => {\n        xhr.setRequestHeader(header.key, header.value);\n      });\n    }\n    if (options.xhr.withCredentials) {\n      // use credentials\n      xhr.withCredentials = true;\n    }\n  }\n\n  xhr.addEventListener(\"progress\", e => {\n    instance.fireEvent(\"progress\", e);\n    if (e.lengthComputable && e.loaded == e.total) {\n      fired100 = true;\n    }\n  });\n  xhr.addEventListener(\"load\", e => {\n    if (!fired100) {\n      instance.fireEvent(\"progress\", e);\n    }\n    instance.fireEvent(\"load\", e);\n    if (200 == xhr.status || 206 == xhr.status) {\n      instance.fireEvent(\"success\", xhr.response, e);\n    } else {\n      instance.fireEvent(\"error\", e);\n    }\n  });\n  xhr.addEventListener(\"error\", e => instance.fireEvent(\"error\", e));\n  xhr.send();\n  instance.xhr = xhr;\n  return instance;\n}\n","/**\n * Get a random prefixed ID\n *\n * @param {String} prefix Prefix to use. Default is `'wavesurfer_'`.\n * @returns {String} Random prefixed ID\n * @example\n * console.log(getId()); // logs 'wavesurfer_b5pors4ru6g'\n *\n * let prefix = 'foo-';\n * console.log(getId(prefix)); // logs 'foo-b5pors4ru6g'\n */\nexport default function getId(prefix) {\n  if (prefix === undefined) {\n    prefix = \"wavesurfer_\";\n  }\n  return (\n    prefix +\n    Math.random()\n      .toString(32)\n      .substring(2)\n  );\n}\n","/**\n * Get the largest value\n *\n * @param   {Array} values Array of numbers\n * @returns {Number} Largest number found\n * @example console.log(max([1, 2, 3])); // logs 3\n */\nexport default function max(values) {\n  let largest = -Infinity;\n  Object.keys(values).forEach(i => {\n    if (values[i] > largest) {\n      largest = values[i];\n    }\n  });\n  return largest;\n}\n","/**\n * Get the smallest value\n *\n * @param   {Array} values Array of numbers\n * @returns {Number} Smallest number found\n * @example console.log(min([1, 2, 3])); // logs 1\n */\nexport default function min(values) {\n  let smallest = Number(Infinity);\n  Object.keys(values).forEach(i => {\n    if (values[i] < smallest) {\n      smallest = values[i];\n    }\n  });\n  return smallest;\n}\n","/* eslint no-console: [\"error\", { allow: [\"warn\"] }] */\n/**\n * Extend an object shallowly with others\n *\n * @param {Object} dest The target object\n * @param {Object[]} sources The objects to use for extending\n *\n * @return {Object} Merged object\n * @deprecated since version 3.3.0\n */\nexport default function extend(dest, ...sources) {\n  console.warn(\"util.extend is deprecated; use Object.assign instead\");\n  sources.forEach(source => {\n    Object.keys(source).forEach(key => {\n      dest[key] = source[key];\n    });\n  });\n  return dest;\n}\n","/**\n * Apply a map of styles to an element\n *\n * @param {HTMLElement} el The element that the styles will be applied to\n * @param {Object} styles The map of propName: attribute, both are used as-is\n *\n * @return {HTMLElement} el\n */\nexport default function style(el, styles) {\n  Object.keys(styles).forEach(prop => {\n    if (el.style[prop] !== styles[prop]) {\n      el.style[prop] = styles[prop];\n    }\n  });\n  return el;\n}\n","/* eslint-disable valid-jsdoc */\n/* eslint no-unused-vars: 0 */\n/**\n * Returns the `requestAnimationFrame` function for the browser, or a shim with\n * `setTimeout` if the function is not found\n *\n * @return {function} Available `requestAnimationFrame` function for the browser\n */\nexport default (\n  window.requestAnimationFrame ||\n  window.webkitRequestAnimationFrame ||\n  window.mozRequestAnimationFrame ||\n  window.oRequestAnimationFrame ||\n  window.msRequestAnimationFrame ||\n  ((callback, element) => setTimeout(callback, 1000 / 60))\n).bind(window);\n","import reqAnimationFrame from \"./request-animation-frame\";\n\n/**\n * Create a function which will be called at the next requestAnimationFrame\n * cycle\n *\n * @param {function} func The function to call\n *\n * @return {func} The function wrapped within a requestAnimationFrame\n */\nexport default function frame(func) {\n  return (...args) => reqAnimationFrame(() => func(...args));\n}\n","/* eslint no-unused-vars: 0 */\n/**\n * Stops propagation of click event and removes event listener\n *\n * @private\n * @param {object} event The click event\n */\nfunction preventClickHandler(event) {\n  event.stopPropagation();\n  document.body.removeEventListener(\"click\", preventClickHandler, true);\n}\n\n/**\n * Starts listening for click event and prevent propagation\n *\n * @param {object} values Values\n */\nexport default function preventClick(values) {\n  document.body.addEventListener(\"click\", preventClickHandler, true);\n}\n","/**\n * @since 3.0.0\n */\n\nimport Observer from \"./observer\";\n\nclass ProgressHandler {\n  /**\n   * Instantiate ProgressHandler\n   *\n   * @param {Observer} instance The `fetchFile` observer instance.\n   * @param {Number} contentLength Content length.\n   * @param {Response} response Response object.\n   */\n  constructor(instance, contentLength, response) {\n    this.instance = instance;\n    this.instance._reader = response.body.getReader();\n\n    this.total = parseInt(contentLength, 10);\n    this.loaded = 0;\n  }\n\n  /**\n   * A method that is called once, immediately after the `ReadableStream``\n   * is constructed.\n   *\n   * @param {ReadableStreamDefaultController} controller Controller instance\n   *     used to control the stream.\n   */\n  start(controller) {\n    const read = () => {\n      // instance._reader.read() returns a promise that resolves\n      // when a value has been received\n      this.instance._reader\n        .read()\n        .then(({ done, value }) => {\n          // result objects contain two properties:\n          // done  - true if the stream has already given you all its data.\n          // value - some data. Always undefined when done is true.\n          if (done) {\n            // ensure onProgress called when content-length=0\n            if (this.total === 0) {\n              this.instance.onProgress.call(this.instance, {\n                loaded: this.loaded,\n                total: this.total,\n                lengthComputable: false\n              });\n            }\n            // no more data needs to be consumed, close the stream\n            controller.close();\n            return;\n          }\n\n          this.loaded += value.byteLength;\n          this.instance.onProgress.call(this.instance, {\n            loaded: this.loaded,\n            total: this.total,\n            lengthComputable: !(this.total === 0)\n          });\n          // enqueue the next data chunk into our target stream\n          controller.enqueue(value);\n          read();\n        })\n        .catch(error => {\n          controller.error(error);\n        });\n    };\n\n    read();\n  }\n}\n\n/**\n * Load a file using `fetch`.\n *\n * @param {object} options Request options to use. See example below.\n * @returns {Observer} Observer instance\n * @example\n * // default options\n * let options = {\n *     url: undefined,\n *     method: 'GET',\n *     mode: 'cors',\n *     credentials: 'same-origin',\n *     cache: 'default',\n *     responseType: 'json',\n *     requestHeaders: [],\n *     redirect: 'follow',\n *     referrer: 'client'\n * };\n *\n * // override some options\n * options.url = '../media/demo.wav';\n\n * // available types: 'arraybuffer', 'blob', 'json' or 'text'\n * options.responseType = 'arraybuffer';\n *\n * // make fetch call\n * let request = util.fetchFile(options);\n *\n * // listen for events\n * request.on('progress', e => {\n *     console.log('progress', e);\n * });\n *\n * request.on('success', data => {\n *     console.log('success!', data);\n * });\n *\n * request.on('error', e => {\n *     console.warn('fetchFile error: ', e);\n * });\n */\nexport default function fetchFile(options) {\n  if (!options) {\n    throw new Error(\"fetch options missing\");\n  } else if (!options.url) {\n    throw new Error(\"fetch url missing\");\n  }\n  const instance = new Observer();\n  const fetchHeaders = new Headers();\n  const fetchRequest = new Request(options.url);\n\n  // add ability to abort\n  instance.controller = new AbortController();\n\n  // check if headers have to be added\n  if (options && options.requestHeaders) {\n    // add custom request headers\n    options.requestHeaders.forEach(header => {\n      fetchHeaders.append(header.key, header.value);\n    });\n  }\n\n  // parse fetch options\n  const responseType = options.responseType || \"json\";\n  const fetchOptions = {\n    method: options.method || \"GET\",\n    headers: fetchHeaders,\n    mode: options.mode || \"cors\",\n    credentials: options.credentials || \"same-origin\",\n    cache: options.cache || \"default\",\n    redirect: options.redirect || \"follow\",\n    referrer: options.referrer || \"client\",\n    signal: instance.controller.signal\n  };\n\n  fetch(fetchRequest, fetchOptions)\n    .then(response => {\n      // store response reference\n      instance.response = response;\n\n      let progressAvailable = true;\n      if (!response.body) {\n        // ReadableStream is not yet supported in this browser\n        // see https://developer.mozilla.org/en-US/docs/Web/API/ReadableStream\n        progressAvailable = false;\n      }\n\n      // Server must send CORS header \"Access-Control-Expose-Headers: content-length\"\n      const contentLength = response.headers.get(\"content-length\");\n      if (contentLength === null) {\n        // Content-Length server response header missing.\n        // Don't evaluate download progress if we can't compare against a total size\n        // see https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS#Access-Control-Expose-Headers\n        progressAvailable = false;\n      }\n\n      if (!progressAvailable) {\n        // not able to check download progress so skip it\n        return response;\n      }\n\n      // fire progress event when during load\n      instance.onProgress = e => {\n        instance.fireEvent(\"progress\", e);\n      };\n\n      return new Response(\n        new ReadableStream(\n          new ProgressHandler(instance, contentLength, response)\n        ),\n        fetchOptions\n      );\n    })\n    .then(response => {\n      let errMsg;\n      if (response.ok) {\n        switch (responseType) {\n          case \"arraybuffer\":\n            return response.arrayBuffer();\n\n          case \"json\":\n            return response.json();\n\n          case \"blob\":\n            return response.blob();\n\n          case \"text\":\n            return response.text();\n\n          default:\n            errMsg = \"Unknown responseType: \" + responseType;\n            break;\n        }\n      }\n      if (!errMsg) {\n        errMsg = \"HTTP error status: \" + response.status;\n      }\n      throw new Error(errMsg);\n    })\n    .then(response => {\n      instance.fireEvent(\"success\", response);\n    })\n    .catch(error => {\n      instance.fireEvent(\"error\", error);\n    });\n\n  // return the fetch request\n  instance.fetchRequest = fetchRequest;\n  return instance;\n}\n","/* eslint no-unused-vars: 0 */\nimport * as util from \"./util\";\n\n/**\n * Parent class for renderers\n *\n * @extends {Observer}\n */\nexport default class Drawer extends util.Observer {\n  /**\n   * @param {HTMLElement} container The container node of the wavesurfer instance\n   * @param {WavesurferParams} params The wavesurfer initialisation options\n   */\n  constructor(container, params) {\n    super();\n    /** @private */\n    this.container = container;\n    /**\n     * @type {WavesurferParams}\n     * @private\n     */\n    this.params = params;\n    /**\n     * The width of the renderer\n     * @type {number}\n     */\n    this.width = 0;\n    /**\n     * The height of the renderer\n     * @type {number}\n     */\n    this.height = params.height * this.params.pixelRatio;\n    /** @private */\n    this.lastPos = 0;\n    /**\n     * The `<wave>` element which is added to the container\n     * @type {HTMLElement}\n     */\n    this.wrapper = null;\n  }\n\n  /**\n   * Alias of `util.style`\n   *\n   * @param {HTMLElement} el The element that the styles will be applied to\n   * @param {Object} styles The map of propName: attribute, both are used as-is\n   * @return {HTMLElement} el\n   */\n  style(el, styles) {\n    return util.style(el, styles);\n  }\n\n  /**\n   * Create the wrapper `<wave>` element, style it and set up the events for\n   * interaction\n   */\n  createWrapper() {\n    this.wrapper = this.container.appendChild(document.createElement(\"wave\"));\n\n    this.style(this.wrapper, {\n      display: \"block\",\n      position: \"relative\",\n      userSelect: \"none\",\n      webkitUserSelect: \"none\",\n      height: this.params.height + \"px\"\n    });\n\n    if (this.params.fillParent || this.params.scrollParent) {\n      this.style(this.wrapper, {\n        width: \"100%\",\n        overflowX: this.params.hideScrollbar ? \"hidden\" : \"auto\",\n        overflowY: \"hidden\"\n      });\n    }\n\n    this.setupWrapperEvents();\n  }\n\n  /**\n   * Handle click event\n   *\n   * @param {Event} e Click event\n   * @param {?boolean} noPrevent Set to true to not call `e.preventDefault()`\n   * @return {number} Playback position from 0 to 1\n   */\n  handleEvent(e, noPrevent) {\n    !noPrevent && e.preventDefault();\n\n    const clientX = e.targetTouches ? e.targetTouches[0].clientX : e.clientX;\n    const bbox = this.wrapper.getBoundingClientRect();\n\n    const nominalWidth = this.width;\n    const parentWidth = this.getWidth();\n\n    let progress;\n    if (!this.params.fillParent && nominalWidth < parentWidth) {\n      progress =\n        (this.params.rtl ? bbox.right - clientX : clientX - bbox.left) *\n          (this.params.pixelRatio / nominalWidth) || 0;\n\n      if (progress > 1) {\n        progress = 1;\n      }\n    } else {\n      progress =\n        ((this.params.rtl ? bbox.right - clientX : clientX - bbox.left) +\n          this.wrapper.scrollLeft) /\n          this.wrapper.scrollWidth || 0;\n    }\n\n    return progress;\n  }\n\n  /**\n   * @private\n   */\n  setupWrapperEvents() {\n    this.wrapper.addEventListener(\"click\", e => {\n      const scrollbarHeight =\n        this.wrapper.offsetHeight - this.wrapper.clientHeight;\n      if (scrollbarHeight !== 0) {\n        // scrollbar is visible.  Check if click was on it\n        const bbox = this.wrapper.getBoundingClientRect();\n        if (e.clientY >= bbox.bottom - scrollbarHeight) {\n          // ignore mousedown as it was on the scrollbar\n          return;\n        }\n      }\n\n      if (this.params.interact) {\n        this.fireEvent(\"click\", e, this.handleEvent(e));\n      }\n    });\n\n    this.wrapper.addEventListener(\"dblclick\", e => {\n      if (this.params.interact) {\n        this.fireEvent(\"dblclick\", e, this.handleEvent(e));\n      }\n    });\n\n    this.wrapper.addEventListener(\"scroll\", e => this.fireEvent(\"scroll\", e));\n  }\n\n  /**\n   * Draw peaks on the canvas\n   *\n   * @param {number[]|Number.<Array[]>} peaks Can also be an array of arrays\n   * for split channel rendering\n   * @param {number} length The width of the area that should be drawn\n   * @param {number} start The x-offset of the beginning of the area that\n   * should be rendered\n   * @param {number} end The x-offset of the end of the area that should be\n   * rendered\n   */\n  drawPeaks(peaks, length, start, end) {\n    if (!this.setWidth(length)) {\n      this.clearWave();\n    }\n\n    this.params.barWidth\n      ? this.drawBars(peaks, 0, start, end)\n      : this.drawWave(peaks, 0, start, end);\n  }\n\n  /**\n   * Scroll to the beginning\n   */\n  resetScroll() {\n    if (this.wrapper !== null) {\n      this.wrapper.scrollLeft = 0;\n    }\n  }\n\n  /**\n   * Recenter the view-port at a certain percent of the waveform\n   *\n   * @param {number} percent Value from 0 to 1 on the waveform\n   */\n  recenter(percent) {\n    const position = this.wrapper.scrollWidth * percent;\n    this.recenterOnPosition(position, true);\n  }\n\n  /**\n   * Recenter the view-port on a position, either scroll there immediately or\n   * in steps of 5 pixels\n   *\n   * @param {number} position X-offset in pixels\n   * @param {boolean} immediate Set to true to immediately scroll somewhere\n   */\n  recenterOnPosition(position, immediate) {\n    const scrollLeft = this.wrapper.scrollLeft;\n    const half = ~~(this.wrapper.clientWidth / 2);\n    const maxScroll = this.wrapper.scrollWidth - this.wrapper.clientWidth;\n    let target = position - half;\n    let offset = target - scrollLeft;\n\n    if (maxScroll == 0) {\n      // no need to continue if scrollbar is not there\n      return;\n    }\n\n    // if the cursor is currently visible...\n    if (!immediate && -half <= offset && offset < half) {\n      // set rate at which waveform is centered\n      let rate = this.params.autoCenterRate;\n\n      // make rate depend on width of view and length of waveform\n      rate /= half;\n      rate *= maxScroll;\n\n      offset = Math.max(-rate, Math.min(rate, offset));\n      target = scrollLeft + offset;\n    }\n\n    // limit target to valid range (0 to maxScroll)\n    target = Math.max(0, Math.min(maxScroll, target));\n    // no use attempting to scroll if we're not moving\n    if (target != scrollLeft) {\n      this.wrapper.scrollLeft = target;\n    }\n  }\n\n  /**\n   * Get the current scroll position in pixels\n   *\n   * @return {number} Horizontal scroll position in pixels\n   */\n  getScrollX() {\n    let x = 0;\n    if (this.wrapper) {\n      const pixelRatio = this.params.pixelRatio;\n      x = Math.round(this.wrapper.scrollLeft * pixelRatio);\n\n      // In cases of elastic scroll (safari with mouse wheel) you can\n      // scroll beyond the limits of the container\n      // Calculate and floor the scrollable extent to make sure an out\n      // of bounds value is not returned\n      // Ticket #1312\n      if (this.params.scrollParent) {\n        const maxScroll = ~~(\n          this.wrapper.scrollWidth * pixelRatio -\n          this.getWidth()\n        );\n        x = Math.min(maxScroll, Math.max(0, x));\n      }\n    }\n    return x;\n  }\n\n  /**\n   * Get the width of the container\n   *\n   * @return {number} The width of the container\n   */\n  getWidth() {\n    return Math.round(this.container.clientWidth * this.params.pixelRatio);\n  }\n\n  /**\n   * Set the width of the container\n   *\n   * @param {number} width The new width of the container\n   * @return {boolean} Whether the width of the container was updated or not\n   */\n  setWidth(width) {\n    if (this.width == width) {\n      return false;\n    }\n\n    this.width = width;\n\n    if (this.params.fillParent || this.params.scrollParent) {\n      this.style(this.wrapper, {\n        width: \"\"\n      });\n    } else {\n      this.style(this.wrapper, {\n        width: ~~(this.width / this.params.pixelRatio) + \"px\"\n      });\n    }\n\n    this.updateSize();\n    return true;\n  }\n\n  /**\n   * Set the height of the container\n   *\n   * @param {number} height The new height of the container.\n   * @return {boolean} Whether the height of the container was updated or not\n   */\n  setHeight(height) {\n    if (height == this.height) {\n      return false;\n    }\n    this.height = height;\n\n    this.style(this.wrapper, {\n      height: ~~(this.height / this.params.pixelRatio) + \"px\"\n    });\n\n    this.updateSize();\n    return true;\n  }\n\n  /**\n   * Called by wavesurfer when progress should be rendered\n   *\n   * @param {number} progress From 0 to 1\n   */\n  progress(progress) {\n    const minPxDelta = 1 / this.params.pixelRatio;\n    const pos = Math.round(progress * this.width) * minPxDelta;\n\n    if (pos < this.lastPos || pos - this.lastPos >= minPxDelta) {\n      this.lastPos = pos;\n\n      if (this.params.scrollParent && this.params.autoCenter) {\n        const newPos = ~~(this.wrapper.scrollWidth * progress);\n        this.recenterOnPosition(newPos, this.params.autoCenterImmediately);\n      }\n\n      this.updateProgress(pos);\n    }\n  }\n\n  /**\n   * This is called when wavesurfer is destroyed\n   */\n  destroy() {\n    this.unAll();\n    if (this.wrapper) {\n      if (this.wrapper.parentNode == this.container) {\n        this.container.removeChild(this.wrapper);\n      }\n      this.wrapper = null;\n    }\n  }\n\n  /* Renderer-specific methods */\n\n  /**\n   * Called after cursor related params have changed.\n   *\n   * @abstract\n   */\n  updateCursor() {}\n\n  /**\n   * Called when the size of the container changes so the renderer can adjust\n   *\n   * @abstract\n   */\n  updateSize() {}\n\n  /**\n   * Draw a waveform with bars\n   *\n   * @abstract\n   * @param {number[]|Number.<Array[]>} peaks Can also be an array of arrays for split channel\n   * rendering\n   * @param {number} channelIndex The index of the current channel. Normally\n   * should be 0\n   * @param {number} start The x-offset of the beginning of the area that\n   * should be rendered\n   * @param {number} end The x-offset of the end of the area that should be\n   * rendered\n   */\n  drawBars(peaks, channelIndex, start, end) {}\n\n  /**\n   * Draw a waveform\n   *\n   * @abstract\n   * @param {number[]|Number.<Array[]>} peaks Can also be an array of arrays for split channel\n   * rendering\n   * @param {number} channelIndex The index of the current channel. Normally\n   * should be 0\n   * @param {number} start The x-offset of the beginning of the area that\n   * should be rendered\n   * @param {number} end The x-offset of the end of the area that should be\n   * rendered\n   */\n  drawWave(peaks, channelIndex, start, end) {}\n\n  /**\n   * Clear the waveform\n   *\n   * @abstract\n   */\n  clearWave() {}\n\n  /**\n   * Render the new progress\n   *\n   * @abstract\n   * @param {number} position X-Offset of progress position in pixels\n   */\n  updateProgress(position) {}\n}\n","/**\n * @since 3.0.0\n */\n/* eslint no-unused-vars: 0 */\nimport style from \"./util/style\";\nimport getId from \"./util/get-id\";\n\n/**\n * The `CanvasEntry` class represents an element consisting of a wave `canvas`\n * and an (optional) progress wave `canvas`.\n *\n * The `MultiCanvas` renderer uses one or more `CanvasEntry` instances to\n * render a waveform, depending on the zoom level.\n */\nexport default class CanvasEntry {\n  constructor() {\n    /**\n     * The wave node\n     *\n     * @type {HTMLCanvasElement}\n     */\n    this.wave = null;\n    /**\n     * The wave canvas rendering context\n     *\n     * @type {CanvasRenderingContext2D}\n     */\n    this.waveCtx = null;\n    /**\n     * The (optional) progress wave node\n     *\n     * @type {HTMLCanvasElement}\n     */\n    this.progress = null;\n    /**\n     * The (optional) progress wave canvas rendering context\n     *\n     * @type {CanvasRenderingContext2D}\n     */\n    this.progressCtx = null;\n    /**\n     * Start of the area the canvas should render, between 0 and 1\n     *\n     * @type {number}\n     * @private\n     */\n    this.start = 0;\n    /**\n     * End of the area the canvas should render, between 0 and 1\n     *\n     * @type {number}\n     * @private\n     */\n    this.end = 1;\n    /**\n     * Unique identifier for this entry\n     *\n     * @type {string}\n     */\n    this.id = getId(\n      typeof this.constructor.name !== \"undefined\"\n        ? this.constructor.name.toLowerCase() + \"_\"\n        : \"canvasentry_\"\n    );\n    /**\n     * Canvas 2d context attributes\n     *\n     * @type {object}\n     */\n    this.canvasContextAttributes = {};\n  }\n\n  /**\n   * Store the wave canvas element and create the 2D rendering context\n   *\n   * @param {HTMLCanvasElement} element The wave `canvas` element.\n   */\n  initWave(element) {\n    this.wave = element;\n    this.waveCtx = this.wave.getContext(\"2d\", this.canvasContextAttributes);\n  }\n\n  /**\n   * Store the progress wave canvas element and create the 2D rendering\n   * context\n   *\n   * @param {HTMLCanvasElement} element The progress wave `canvas` element.\n   */\n  initProgress(element) {\n    this.progress = element;\n    this.progressCtx = this.progress.getContext(\n      \"2d\",\n      this.canvasContextAttributes\n    );\n  }\n\n  /**\n   * Update the dimensions\n   *\n   * @param {number} elementWidth Width of the entry\n   * @param {number} totalWidth Total width of the multi canvas renderer\n   * @param {number} width The new width of the element\n   * @param {number} height The new height of the element\n   */\n  updateDimensions(elementWidth, totalWidth, width, height) {\n    // where the canvas starts and ends in the waveform, represented as a\n    // decimal between 0 and 1\n    this.start = this.wave.offsetLeft / totalWidth || 0;\n    this.end = this.start + elementWidth / totalWidth;\n\n    // set wave canvas dimensions\n    this.wave.width = width;\n    this.wave.height = height;\n    let elementSize = { width: elementWidth + \"px\" };\n    style(this.wave, elementSize);\n\n    if (this.hasProgressCanvas) {\n      // set progress canvas dimensions\n      this.progress.width = width;\n      this.progress.height = height;\n      style(this.progress, elementSize);\n    }\n  }\n\n  /**\n   * Clear the wave and progress rendering contexts\n   */\n  clearWave() {\n    // wave\n    this.waveCtx.clearRect(\n      0,\n      0,\n      this.waveCtx.canvas.width,\n      this.waveCtx.canvas.height\n    );\n\n    // progress\n    if (this.hasProgressCanvas) {\n      this.progressCtx.clearRect(\n        0,\n        0,\n        this.progressCtx.canvas.width,\n        this.progressCtx.canvas.height\n      );\n    }\n  }\n\n  /**\n   * Set the fill styles for wave and progress\n   *\n   * @param {string} waveColor Fill color for the wave canvas\n   * @param {?string} progressColor Fill color for the progress canvas\n   */\n  setFillStyles(waveColor, progressColor) {\n    this.waveCtx.fillStyle = waveColor;\n\n    if (this.hasProgressCanvas) {\n      this.progressCtx.fillStyle = progressColor;\n    }\n  }\n\n  /**\n   * Draw a rectangle for wave and progress\n   *\n   * @param {number} x X start position\n   * @param {number} y Y start position\n   * @param {number} width Width of the rectangle\n   * @param {number} height Height of the rectangle\n   * @param {number} radius Radius of the rectangle\n   */\n  fillRects(x, y, width, height, radius) {\n    this.fillRectToContext(this.waveCtx, x, y, width, height, radius);\n\n    if (this.hasProgressCanvas) {\n      this.fillRectToContext(this.progressCtx, x, y, width, height, radius);\n    }\n  }\n\n  /**\n   * Draw the actual rectangle on a `canvas` element\n   *\n   * @private\n   * @param {CanvasRenderingContext2D} ctx Rendering context of target canvas\n   * @param {number} x X start position\n   * @param {number} y Y start position\n   * @param {number} width Width of the rectangle\n   * @param {number} height Height of the rectangle\n   * @param {number} radius Radius of the rectangle\n   */\n  fillRectToContext(ctx, x, y, width, height, radius) {\n    if (!ctx) {\n      return;\n    }\n\n    if (radius) {\n      this.drawRoundedRect(ctx, x, y, width, height, radius);\n    } else {\n      ctx.fillRect(x, y, width, height);\n    }\n  }\n\n  /**\n   * Draw a rounded rectangle on Canvas\n   *\n   * @private\n   * @param {CanvasRenderingContext2D} ctx Canvas context\n   * @param {number} x X-position of the rectangle\n   * @param {number} y Y-position of the rectangle\n   * @param {number} width Width of the rectangle\n   * @param {number} height Height of the rectangle\n   * @param {number} radius Radius of the rectangle\n   *\n   * @return {void}\n   * @example drawRoundedRect(ctx, 50, 50, 5, 10, 3)\n   */\n  drawRoundedRect(ctx, x, y, width, height, radius) {\n    if (height === 0) {\n      return;\n    }\n    // peaks are float values from -1 to 1. Use absolute height values in\n    // order to correctly calculate rounded rectangle coordinates\n    if (height < 0) {\n      height *= -1;\n      y -= height;\n    }\n    ctx.beginPath();\n    ctx.moveTo(x + radius, y);\n    ctx.lineTo(x + width - radius, y);\n    ctx.quadraticCurveTo(x + width, y, x + width, y + radius);\n    ctx.lineTo(x + width, y + height - radius);\n    ctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);\n    ctx.lineTo(x + radius, y + height);\n    ctx.quadraticCurveTo(x, y + height, x, y + height - radius);\n    ctx.lineTo(x, y + radius);\n    ctx.quadraticCurveTo(x, y, x + radius, y);\n    ctx.closePath();\n    ctx.fill();\n  }\n\n  /**\n   * Render the actual wave and progress lines\n   *\n   * @param {number[]} peaks Array with peaks data\n   * @param {number} absmax Maximum peak value (absolute)\n   * @param {number} halfH Half the height of the waveform\n   * @param {number} offsetY Offset to the top\n   * @param {number} start The x-offset of the beginning of the area that\n   * should be rendered\n   * @param {number} end The x-offset of the end of the area that\n   * should be rendered\n   */\n  drawLines(peaks, absmax, halfH, offsetY, start, end) {\n    this.drawLineToContext(\n      this.waveCtx,\n      peaks,\n      absmax,\n      halfH,\n      offsetY,\n      start,\n      end\n    );\n\n    if (this.hasProgressCanvas) {\n      this.drawLineToContext(\n        this.progressCtx,\n        peaks,\n        absmax,\n        halfH,\n        offsetY,\n        start,\n        end\n      );\n    }\n  }\n\n  /**\n   * Render the actual waveform line on a `canvas` element\n   *\n   * @private\n   * @param {CanvasRenderingContext2D} ctx Rendering context of target canvas\n   * @param {number[]} peaks Array with peaks data\n   * @param {number} absmax Maximum peak value (absolute)\n   * @param {number} halfH Half the height of the waveform\n   * @param {number} offsetY Offset to the top\n   * @param {number} start The x-offset of the beginning of the area that\n   * should be rendered\n   * @param {number} end The x-offset of the end of the area that\n   * should be rendered\n   */\n  drawLineToContext(ctx, peaks, absmax, halfH, offsetY, start, end) {\n    if (!ctx) {\n      return;\n    }\n\n    const length = peaks.length / 2;\n    const first = Math.round(length * this.start);\n\n    // use one more peak value to make sure we join peaks at ends -- unless,\n    // of course, this is the last canvas\n    const last = Math.round(length * this.end) + 1;\n\n    const canvasStart = first;\n    const canvasEnd = last;\n    const scale = this.wave.width / (canvasEnd - canvasStart - 1);\n\n    // optimization\n    const halfOffset = halfH + offsetY;\n    const absmaxHalf = absmax / halfH;\n\n    ctx.beginPath();\n    ctx.moveTo((canvasStart - first) * scale, halfOffset);\n\n    ctx.lineTo(\n      (canvasStart - first) * scale,\n      halfOffset - Math.round((peaks[2 * canvasStart] || 0) / absmaxHalf)\n    );\n\n    let i, peak, h;\n    for (i = canvasStart; i < canvasEnd; i++) {\n      peak = peaks[2 * i] || 0;\n      h = Math.round(peak / absmaxHalf);\n      ctx.lineTo((i - first) * scale + this.halfPixel, halfOffset - h);\n    }\n\n    // draw the bottom edge going backwards, to make a single\n    // closed hull to fill\n    let j = canvasEnd - 1;\n    for (j; j >= canvasStart; j--) {\n      peak = peaks[2 * j + 1] || 0;\n      h = Math.round(peak / absmaxHalf);\n      ctx.lineTo((j - first) * scale + this.halfPixel, halfOffset - h);\n    }\n\n    ctx.lineTo(\n      (canvasStart - first) * scale,\n      halfOffset - Math.round((peaks[2 * canvasStart + 1] || 0) / absmaxHalf)\n    );\n\n    ctx.closePath();\n    ctx.fill();\n  }\n\n  /**\n   * Destroys this entry\n   */\n  destroy() {\n    this.waveCtx = null;\n    this.wave = null;\n\n    this.progressCtx = null;\n    this.progress = null;\n  }\n\n  /**\n   * Return image data of the wave `canvas` element\n   *\n   * When using a `type` of `'blob'`, this will return a `Promise` that\n   * resolves with a `Blob` instance.\n   *\n   * @param {string} format='image/png' An optional value of a format type.\n   * @param {number} quality=0.92 An optional value between 0 and 1.\n   * @param {string} type='dataURL' Either 'dataURL' or 'blob'.\n   * @return {string|Promise} When using the default `'dataURL'` `type` this\n   * returns a data URL. When using the `'blob'` `type` this returns a\n   * `Promise` that resolves with a `Blob` instance.\n   */\n  getImage(format, quality, type) {\n    if (type === \"blob\") {\n      return new Promise(resolve => {\n        this.wave.toBlob(resolve, format, quality);\n      });\n    } else if (type === \"dataURL\") {\n      return this.wave.toDataURL(format, quality);\n    }\n  }\n}\n","/* eslint no-unused-vars: 0 */\nimport Drawer from \"./drawer\";\nimport * as util from \"./util\";\nimport CanvasEntry from \"./drawer.canvasentry\";\n\n/**\n * MultiCanvas renderer for wavesurfer. Is currently the default and sole\n * builtin renderer.\n *\n * A `MultiCanvas` consists of one or more `CanvasEntry` instances, depending\n * on the zoom level.\n */\nexport default class MultiCanvas extends Drawer {\n  /**\n   * @param {HTMLElement} container The container node of the wavesurfer instance\n   * @param {WavesurferParams} params The wavesurfer initialisation options\n   */\n  constructor(container, params) {\n    super(container, params);\n\n    /**\n     * @type {number}\n     * @private\n     */\n    this.maxCanvasWidth = params.maxCanvasWidth;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.maxCanvasElementWidth = Math.round(\n      params.maxCanvasWidth / params.pixelRatio\n    );\n\n    /**\n     * Whether or not the progress wave is rendered. If the `waveColor`\n     * and `progressColor` are the same color it is not.\n     *\n     * @type {boolean}\n     */\n    this.hasProgressCanvas = params.waveColor != params.progressColor;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.halfPixel = 0.5 / params.pixelRatio;\n\n    /**\n     * List of `CanvasEntry` instances.\n     *\n     * @private\n     * @type {Array}\n     */\n    this.canvases = [];\n\n    /**\n     * @private\n     * @type {HTMLElement}\n     */\n    this.progressWave = null;\n\n    /**\n     * Class used to generate entries.\n     *\n     * @private\n     * @type {function}\n     */\n    this.EntryClass = CanvasEntry;\n\n    /**\n     * Canvas 2d context attributes.\n     *\n     * @private\n     * @type {object}\n     */\n    this.canvasContextAttributes = params.drawingContextAttributes;\n\n    /**\n     * Overlap added between entries to prevent vertical white stripes\n     * between `canvas` elements.\n     *\n     * @type {number}\n     */\n    this.overlap = 2 * Math.ceil(params.pixelRatio / 2);\n\n    /**\n     * The radius of the wave bars. Makes bars rounded\n     *\n     * @private\n     * @type {number}\n     */\n    this.barRadius = params.barRadius || 0;\n  }\n\n  /**\n   * Initialize the drawer\n   */\n  init() {\n    this.createWrapper();\n    this.createElements();\n  }\n\n  /**\n   * Create the canvas elements and style them\n   *\n   * @private\n   */\n  createElements() {\n    this.progressWave = this.wrapper.appendChild(\n      this.style(document.createElement(\"wave\"), {\n        position: \"absolute\",\n        zIndex: 3,\n        left: 0,\n        top: 0,\n        bottom: 0,\n        overflow: \"hidden\",\n        width: \"0\",\n        display: \"none\",\n        boxSizing: \"border-box\",\n        borderRightStyle: \"solid\",\n        pointerEvents: \"none\"\n      })\n    );\n\n    this.addCanvas();\n    this.updateCursor();\n  }\n\n  /**\n   * Update cursor style\n   */\n  updateCursor() {\n    this.style(this.progressWave, {\n      borderRightWidth: this.params.cursorWidth + \"px\",\n      borderRightColor: this.params.cursorColor\n    });\n  }\n\n  /**\n   * Adjust to the updated size by adding or removing canvases\n   */\n  updateSize() {\n    const totalWidth = Math.round(this.width / this.params.pixelRatio);\n    const requiredCanvases = Math.ceil(\n      totalWidth / (this.maxCanvasElementWidth + this.overlap)\n    );\n\n    // add required canvases\n    while (this.canvases.length < requiredCanvases) {\n      this.addCanvas();\n    }\n\n    // remove older existing canvases, if any\n    while (this.canvases.length > requiredCanvases) {\n      this.removeCanvas();\n    }\n\n    let canvasWidth = this.maxCanvasWidth + this.overlap;\n    const lastCanvas = this.canvases.length - 1;\n    this.canvases.forEach((entry, i) => {\n      if (i == lastCanvas) {\n        canvasWidth = this.width - this.maxCanvasWidth * lastCanvas;\n      }\n      this.updateDimensions(entry, canvasWidth, this.height);\n\n      entry.clearWave();\n    });\n  }\n\n  /**\n   * Add a canvas to the canvas list\n   *\n   * @private\n   */\n  addCanvas() {\n    const entry = new this.EntryClass();\n    entry.canvasContextAttributes = this.canvasContextAttributes;\n    entry.hasProgressCanvas = this.hasProgressCanvas;\n    entry.halfPixel = this.halfPixel;\n    const leftOffset = this.maxCanvasElementWidth * this.canvases.length;\n\n    // wave\n    entry.initWave(\n      this.wrapper.appendChild(\n        this.style(document.createElement(\"canvas\"), {\n          position: \"absolute\",\n          zIndex: 2,\n          left: leftOffset + \"px\",\n          top: 0,\n          bottom: 0,\n          height: \"100%\",\n          pointerEvents: \"none\"\n        })\n      )\n    );\n\n    // progress\n    if (this.hasProgressCanvas) {\n      entry.initProgress(\n        this.progressWave.appendChild(\n          this.style(document.createElement(\"canvas\"), {\n            position: \"absolute\",\n            left: leftOffset + \"px\",\n            top: 0,\n            bottom: 0,\n            height: \"100%\"\n          })\n        )\n      );\n    }\n\n    this.canvases.push(entry);\n  }\n\n  /**\n   * Pop single canvas from the list\n   *\n   * @private\n   */\n  removeCanvas() {\n    let lastEntry = this.canvases[this.canvases.length - 1];\n\n    // wave\n    lastEntry.wave.parentElement.removeChild(lastEntry.wave);\n\n    // progress\n    if (this.hasProgressCanvas) {\n      lastEntry.progress.parentElement.removeChild(lastEntry.progress);\n    }\n\n    // cleanup\n    if (lastEntry) {\n      lastEntry.destroy();\n      lastEntry = null;\n    }\n\n    this.canvases.pop();\n  }\n\n  /**\n   * Update the dimensions of a canvas element\n   *\n   * @private\n   * @param {CanvasEntry} entry Target entry\n   * @param {number} width The new width of the element\n   * @param {number} height The new height of the element\n   */\n  updateDimensions(entry, width, height) {\n    const elementWidth = Math.round(width / this.params.pixelRatio);\n    const totalWidth = Math.round(this.width / this.params.pixelRatio);\n\n    // update canvas dimensions\n    entry.updateDimensions(elementWidth, totalWidth, width, height);\n\n    // style element\n    this.style(this.progressWave, { display: \"block\" });\n  }\n\n  /**\n   * Clear the whole multi-canvas\n   */\n  clearWave() {\n    util.frame(() => {\n      this.canvases.forEach(entry => entry.clearWave());\n    })();\n  }\n\n  /**\n   * Draw a waveform with bars\n   *\n   * @param {number[]|Number.<Array[]>} peaks Can also be an array of arrays\n   * for split channel rendering\n   * @param {number} channelIndex The index of the current channel. Normally\n   * should be 0. Must be an integer.\n   * @param {number} start The x-offset of the beginning of the area that\n   * should be rendered\n   * @param {number} end The x-offset of the end of the area that should be\n   * rendered\n   * @returns {void}\n   */\n  drawBars(peaks, channelIndex, start, end) {\n    return this.prepareDraw(\n      peaks,\n      channelIndex,\n      start,\n      end,\n      ({ absmax, hasMinVals, height, offsetY, halfH, peaks }) => {\n        // if drawBars was called within ws.empty we don't pass a start and\n        // don't want anything to happen\n        if (start === undefined) {\n          return;\n        }\n        // Skip every other value if there are negatives.\n        const peakIndexScale = hasMinVals ? 2 : 1;\n        const length = peaks.length / peakIndexScale;\n        const bar = this.params.barWidth * this.params.pixelRatio;\n        const gap =\n          this.params.barGap === null\n            ? Math.max(this.params.pixelRatio, ~~(bar / 2))\n            : Math.max(\n                this.params.pixelRatio,\n                this.params.barGap * this.params.pixelRatio\n              );\n        const step = bar + gap;\n\n        const scale = length / this.width;\n        const first = start;\n        const last = end;\n        let i = first;\n\n        for (i; i < last; i += step) {\n          const peak = peaks[Math.floor(i * scale * peakIndexScale)] || 0;\n          let h = Math.round((peak / absmax) * halfH);\n\n          /* in case of silences, allow the user to specify that we\n           * always draw *something* (normally a 1px high bar) */\n          if (h == 0 && this.params.barMinHeight) h = this.params.barMinHeight;\n\n          this.fillRect(\n            i + this.halfPixel,\n            halfH - h + offsetY,\n            bar + this.halfPixel,\n            h * 2,\n            this.barRadius\n          );\n        }\n      }\n    );\n  }\n\n  /**\n   * Draw a waveform\n   *\n   * @param {number[]|Number.<Array[]>} peaks Can also be an array of arrays\n   * for split channel rendering\n   * @param {number} channelIndex The index of the current channel. Normally\n   * should be 0\n   * @param {number?} start The x-offset of the beginning of the area that\n   * should be rendered (If this isn't set only a flat line is rendered)\n   * @param {number?} end The x-offset of the end of the area that should be\n   * rendered\n   * @returns {void}\n   */\n  drawWave(peaks, channelIndex, start, end) {\n    return this.prepareDraw(\n      peaks,\n      channelIndex,\n      start,\n      end,\n      ({ absmax, hasMinVals, height, offsetY, halfH, peaks }) => {\n        if (!hasMinVals) {\n          const reflectedPeaks = [];\n          const len = peaks.length;\n          let i = 0;\n          for (i; i < len; i++) {\n            reflectedPeaks[2 * i] = peaks[i];\n            reflectedPeaks[2 * i + 1] = -peaks[i];\n          }\n          peaks = reflectedPeaks;\n        }\n\n        // if drawWave was called within ws.empty we don't pass a start and\n        // end and simply want a flat line\n        if (start !== undefined) {\n          this.drawLine(peaks, absmax, halfH, offsetY, start, end);\n        }\n\n        // always draw a median line\n        this.fillRect(\n          0,\n          halfH + offsetY - this.halfPixel,\n          this.width,\n          this.halfPixel,\n          this.barRadius\n        );\n      }\n    );\n  }\n\n  /**\n   * Tell the canvas entries to render their portion of the waveform\n   *\n   * @private\n   * @param {number[]} peaks Peaks data\n   * @param {number} absmax Maximum peak value (absolute)\n   * @param {number} halfH Half the height of the waveform\n   * @param {number} offsetY Offset to the top\n   * @param {number} start The x-offset of the beginning of the area that\n   * should be rendered\n   * @param {number} end The x-offset of the end of the area that\n   * should be rendered\n   */\n  drawLine(peaks, absmax, halfH, offsetY, start, end) {\n    this.canvases.forEach(entry => {\n      this.setFillStyles(entry);\n      entry.drawLines(peaks, absmax, halfH, offsetY, start, end);\n    });\n  }\n\n  /**\n   * Draw a rectangle on the multi-canvas\n   *\n   * @param {number} x X-position of the rectangle\n   * @param {number} y Y-position of the rectangle\n   * @param {number} width Width of the rectangle\n   * @param {number} height Height of the rectangle\n   * @param {number} radius Radius of the rectangle\n   */\n  fillRect(x, y, width, height, radius) {\n    const startCanvas = Math.floor(x / this.maxCanvasWidth);\n    const endCanvas = Math.min(\n      Math.ceil((x + width) / this.maxCanvasWidth) + 1,\n      this.canvases.length\n    );\n    let i = startCanvas;\n    for (i; i < endCanvas; i++) {\n      const entry = this.canvases[i];\n      const leftOffset = i * this.maxCanvasWidth;\n\n      const intersection = {\n        x1: Math.max(x, i * this.maxCanvasWidth),\n        y1: y,\n        x2: Math.min(x + width, i * this.maxCanvasWidth + entry.wave.width),\n        y2: y + height\n      };\n\n      if (intersection.x1 < intersection.x2) {\n        this.setFillStyles(entry);\n\n        entry.fillRects(\n          intersection.x1 - leftOffset,\n          intersection.y1,\n          intersection.x2 - intersection.x1,\n          intersection.y2 - intersection.y1,\n          radius\n        );\n      }\n    }\n  }\n\n  /**\n   * Performs preparation tasks and calculations which are shared by `drawBars`\n   * and `drawWave`\n   *\n   * @private\n   * @param {number[]|Number.<Array[]>} peaks Can also be an array of arrays for\n   * split channel rendering\n   * @param {number} channelIndex The index of the current channel. Normally\n   * should be 0\n   * @param {number?} start The x-offset of the beginning of the area that\n   * should be rendered. If this isn't set only a flat line is rendered\n   * @param {number?} end The x-offset of the end of the area that should be\n   * rendered\n   * @param {function} fn The render function to call, e.g. `drawWave`\n   * @returns {void}\n   */\n  prepareDraw(peaks, channelIndex, start, end, fn) {\n    return util.frame(() => {\n      // Split channels and call this function with the channelIndex set\n      if (peaks[0] instanceof Array) {\n        const channels = peaks;\n        if (this.params.splitChannels) {\n          this.setHeight(\n            channels.length * this.params.height * this.params.pixelRatio\n          );\n          return channels.forEach((channelPeaks, i) =>\n            this.prepareDraw(channelPeaks, i, start, end, fn)\n          );\n        }\n        peaks = channels[0];\n      }\n      // calculate maximum modulation value, either from the barHeight\n      // parameter or if normalize=true from the largest value in the peak\n      // set\n      let absmax = 1 / this.params.barHeight;\n      if (this.params.normalize) {\n        const max = util.max(peaks);\n        const min = util.min(peaks);\n        absmax = -min > max ? -min : max;\n      }\n\n      // Bar wave draws the bottom only as a reflection of the top,\n      // so we don't need negative values\n      const hasMinVals = [].some.call(peaks, val => val < 0);\n      const height = this.params.height * this.params.pixelRatio;\n      const offsetY = height * channelIndex || 0;\n      const halfH = height / 2;\n\n      return fn({\n        absmax: absmax,\n        hasMinVals: hasMinVals,\n        height: height,\n        offsetY: offsetY,\n        halfH: halfH,\n        peaks: peaks\n      });\n    })();\n  }\n\n  /**\n   * Set the fill styles for a certain entry (wave and progress)\n   *\n   * @private\n   * @param {CanvasEntry} entry Target entry\n   */\n  setFillStyles(entry) {\n    entry.setFillStyles(this.params.waveColor, this.params.progressColor);\n  }\n\n  /**\n   * Return image data of the multi-canvas\n   *\n   * When using a `type` of `'blob'`, this will return a `Promise`.\n   *\n   * @param {string} format='image/png' An optional value of a format type.\n   * @param {number} quality=0.92 An optional value between 0 and 1.\n   * @param {string} type='dataURL' Either 'dataURL' or 'blob'.\n   * @return {string|string[]|Promise} When using the default `'dataURL'`\n   * `type` this returns a single data URL or an array of data URLs,\n   * one for each canvas. When using the `'blob'` `type` this returns a\n   * `Promise` that resolves with an array of `Blob` instances, one for each\n   * canvas.\n   */\n  getImage(format, quality, type) {\n    if (type === \"blob\") {\n      return Promise.all(\n        this.canvases.map(entry => {\n          return entry.getImage(format, quality, type);\n        })\n      );\n    } else if (type === \"dataURL\") {\n      let images = this.canvases.map(entry =>\n        entry.getImage(format, quality, type)\n      );\n      return images.length > 1 ? images : images[0];\n    }\n  }\n\n  /**\n   * Render the new progress\n   *\n   * @param {number} position X-offset of progress position in pixels\n   */\n  updateProgress(position) {\n    this.style(this.progressWave, {\n      width: position + \"px\"\n    });\n  }\n}\n","import * as util from \"./util\";\n\n// using constants to prevent someone writing the string wrong\nconst PLAYING = \"playing\";\nconst PAUSED = \"paused\";\nconst FINISHED = \"finished\";\n\n/**\n * WebAudio backend\n *\n * @extends {Observer}\n */\nexport default class WebAudio extends util.Observer {\n  /** scriptBufferSize: size of the processing buffer */\n  static scriptBufferSize = 256;\n  /** audioContext: allows to process audio with WebAudio API */\n  audioContext = null;\n  /** @private */\n  offlineAudioContext = null;\n  /** @private */\n  stateBehaviors = {\n    [PLAYING]: {\n      init() {\n        this.addOnAudioProcess();\n      },\n      getPlayedPercents() {\n        const duration = this.getDuration();\n        return this.getCurrentTime() / duration || 0;\n      },\n      getCurrentTime() {\n        return this.startPosition + this.getPlayedTime();\n      }\n    },\n    [PAUSED]: {\n      init() {\n        this.removeOnAudioProcess();\n      },\n      getPlayedPercents() {\n        const duration = this.getDuration();\n        return this.getCurrentTime() / duration || 0;\n      },\n      getCurrentTime() {\n        return this.startPosition;\n      }\n    },\n    [FINISHED]: {\n      init() {\n        this.removeOnAudioProcess();\n        this.fireEvent(\"finish\");\n      },\n      getPlayedPercents() {\n        return 1;\n      },\n      getCurrentTime() {\n        return this.getDuration();\n      }\n    }\n  };\n\n  /**\n   * Does the browser support this backend\n   *\n   * @return {boolean} Whether or not this browser supports this backend\n   */\n  supportsWebAudio() {\n    return !!(window.AudioContext || window.webkitAudioContext);\n  }\n\n  /**\n   * Get the audio context used by this backend or create one\n   *\n   * @return {AudioContext} Existing audio context, or creates a new one\n   */\n  getAudioContext() {\n    if (!window.WaveSurferAudioContext) {\n      window.WaveSurferAudioContext = new (window.AudioContext ||\n        window.webkitAudioContext)();\n    }\n    return window.WaveSurferAudioContext;\n  }\n\n  /**\n   * Get the offline audio context used by this backend or create one\n   *\n   * @param {number} sampleRate The sample rate to use\n   * @return {OfflineAudioContext} Existing offline audio context, or creates\n   * a new one\n   */\n  getOfflineAudioContext(sampleRate) {\n    if (!window.WaveSurferOfflineAudioContext) {\n      window.WaveSurferOfflineAudioContext = new (window.OfflineAudioContext ||\n        window.webkitOfflineAudioContext)(1, 2, sampleRate);\n    }\n    return window.WaveSurferOfflineAudioContext;\n  }\n\n  /**\n   * Construct the backend\n   *\n   * @param {WavesurferParams} params Wavesurfer parameters\n   */\n  constructor(params) {\n    super();\n    /** @private */\n    this.params = params;\n    /** ac: Audio Context instance */\n    this.ac =\n      params.audioContext ||\n      (this.supportsWebAudio() ? this.getAudioContext() : {});\n    /**@private */\n    this.lastPlay = this.ac.currentTime;\n    /** @private */\n    this.startPosition = 0;\n    /** @private */\n    this.scheduledPause = null;\n    /** @private */\n    this.states = {\n      [PLAYING]: Object.create(this.stateBehaviors[PLAYING]),\n      [PAUSED]: Object.create(this.stateBehaviors[PAUSED]),\n      [FINISHED]: Object.create(this.stateBehaviors[FINISHED])\n    };\n    /** @private */\n    this.buffer = null;\n    /** @private */\n    this.filters = [];\n    /** gainNode: allows to control audio volume */\n    this.gainNode = null;\n    /** @private */\n    this.mergedPeaks = null;\n    /** @private */\n    this.offlineAc = null;\n    /** @private */\n    this.peaks = null;\n    /** @private */\n    this.playbackRate = 1;\n    /** analyser: provides audio analysis information */\n    this.analyser = null;\n    /** scriptNode: allows processing audio */\n    this.scriptNode = null;\n    /** @private */\n    this.source = null;\n    /** @private */\n    this.splitPeaks = [];\n    /** @private */\n    this.state = null;\n    /** @private */\n    this.explicitDuration = params.duration;\n    /**\n     * Boolean indicating if the backend was destroyed.\n     */\n    this.destroyed = false;\n  }\n\n  /**\n   * Initialise the backend, called in `wavesurfer.createBackend()`\n   */\n  init() {\n    this.createVolumeNode();\n    this.createScriptNode();\n    this.createAnalyserNode();\n\n    this.setState(PAUSED);\n    this.setPlaybackRate(this.params.audioRate);\n    this.setLength(0);\n  }\n\n  /** @private */\n  disconnectFilters() {\n    if (this.filters) {\n      this.filters.forEach(filter => {\n        filter && filter.disconnect();\n      });\n      this.filters = null;\n      // Reconnect direct path\n      this.analyser.connect(this.gainNode);\n    }\n  }\n\n  /**\n   * @private\n   *\n   * @param {string} state The new state\n   */\n  setState(state) {\n    if (this.state !== this.states[state]) {\n      this.state = this.states[state];\n      this.state.init.call(this);\n    }\n  }\n\n  /**\n   * Unpacked `setFilters()`\n   *\n   * @param {...AudioNode} filters One or more filters to set\n   */\n  setFilter(...filters) {\n    this.setFilters(filters);\n  }\n\n  /**\n   * Insert custom Web Audio nodes into the graph\n   *\n   * @param {AudioNode[]} filters Packed filters array\n   * @example\n   * const lowpass = wavesurfer.backend.ac.createBiquadFilter();\n   * wavesurfer.backend.setFilter(lowpass);\n   */\n  setFilters(filters) {\n    // Remove existing filters\n    this.disconnectFilters();\n\n    // Insert filters if filter array not empty\n    if (filters && filters.length) {\n      this.filters = filters;\n\n      // Disconnect direct path before inserting filters\n      this.analyser.disconnect();\n\n      // Connect each filter in turn\n      filters\n        .reduce((prev, curr) => {\n          prev.connect(curr);\n          return curr;\n        }, this.analyser)\n        .connect(this.gainNode);\n    }\n  }\n  /** Create ScriptProcessorNode to process audio */\n  createScriptNode() {\n    if (this.params.audioScriptProcessor) {\n      this.scriptNode = this.params.audioScriptProcessor;\n    } else {\n      if (this.ac.createScriptProcessor) {\n        this.scriptNode = this.ac.createScriptProcessor(\n          WebAudio.scriptBufferSize\n        );\n      } else {\n        this.scriptNode = this.ac.createJavaScriptNode(\n          WebAudio.scriptBufferSize\n        );\n      }\n    }\n    this.scriptNode.connect(this.ac.destination);\n  }\n\n  /** @private */\n  addOnAudioProcess() {\n    this.scriptNode.onaudioprocess = () => {\n      const time = this.getCurrentTime();\n\n      if (time >= this.getDuration()) {\n        this.setState(FINISHED);\n        this.fireEvent(\"pause\");\n      } else if (time >= this.scheduledPause) {\n        this.pause();\n      } else if (this.state === this.states[PLAYING]) {\n        this.fireEvent(\"audioprocess\", time);\n      }\n    };\n  }\n\n  /** @private */\n  removeOnAudioProcess() {\n    this.scriptNode.onaudioprocess = () => {};\n  }\n  /** Create analyser node to perform audio analysis */\n  createAnalyserNode() {\n    this.analyser = this.ac.createAnalyser();\n    this.analyser.connect(this.gainNode);\n  }\n\n  /**\n   * Create the gain node needed to control the playback volume.\n   *\n   */\n  createVolumeNode() {\n    // Create gain node using the AudioContext\n    if (this.ac.createGain) {\n      this.gainNode = this.ac.createGain();\n    } else {\n      this.gainNode = this.ac.createGainNode();\n    }\n    // Add the gain node to the graph\n    this.gainNode.connect(this.ac.destination);\n  }\n\n  /**\n   * Set the sink id for the media player\n   *\n   * @param {string} deviceId String value representing audio device id.\n   * @returns {Promise} A Promise that resolves to `undefined` when there\n   * are no errors.\n   */\n  setSinkId(deviceId) {\n    if (deviceId) {\n      /**\n       * The webaudio API doesn't currently support setting the device\n       * output. Here we create an HTMLAudioElement, connect the\n       * webaudio stream to that element and setSinkId there.\n       */\n      let audio = new window.Audio();\n      if (!audio.setSinkId) {\n        return Promise.reject(\n          new Error(\"setSinkId is not supported in your browser\")\n        );\n      }\n      audio.autoplay = true;\n      var dest = this.ac.createMediaStreamDestination();\n      this.gainNode.disconnect();\n      this.gainNode.connect(dest);\n      audio.srcObject = dest.stream;\n\n      return audio.setSinkId(deviceId);\n    } else {\n      return Promise.reject(new Error(\"Invalid deviceId: \" + deviceId));\n    }\n  }\n\n  /**\n   * Set the audio volume\n   *\n   * @param {number} value A floating point value between 0 and 1.\n   */\n  setVolume(value) {\n    this.gainNode.gain.setValueAtTime(value, this.ac.currentTime);\n  }\n\n  /**\n   * Get the current volume\n   *\n   * @return {number} value A floating point value between 0 and 1.\n   */\n  getVolume() {\n    return this.gainNode.gain.value;\n  }\n\n  /**\n   * Decode an array buffer and pass data to a callback\n   *\n   * @private\n   * @param {ArrayBuffer} arraybuffer The array buffer to decode\n   * @param {function} callback The function to call on complete.\n   * @param {function} errback The function to call on error.\n   */\n  decodeArrayBuffer(arraybuffer, callback, errback) {\n    if (!this.offlineAc) {\n      this.offlineAc = this.getOfflineAudioContext(\n        this.ac && this.ac.sampleRate ? this.ac.sampleRate : 44100\n      );\n    }\n    this.offlineAc.decodeAudioData(\n      arraybuffer,\n      data => callback(data),\n      errback\n    );\n  }\n\n  /**\n   * Set pre-decoded peaks\n   *\n   * @param {number[]|Number.<Array[]>} peaks Peaks data\n   * @param {?number} duration Explicit duration\n   */\n  setPeaks(peaks, duration) {\n    if (duration != null) {\n      this.explicitDuration = duration;\n    }\n    this.peaks = peaks;\n  }\n\n  /**\n   * Set the rendered length (different from the length of the audio)\n   *\n   * @param {number} length The rendered length\n   */\n  setLength(length) {\n    // No resize, we can preserve the cached peaks.\n    if (this.mergedPeaks && length == 2 * this.mergedPeaks.length - 1 + 2) {\n      return;\n    }\n\n    this.splitPeaks = [];\n    this.mergedPeaks = [];\n    // Set the last element of the sparse array so the peak arrays are\n    // appropriately sized for other calculations.\n    const channels = this.buffer ? this.buffer.numberOfChannels : 1;\n    let c;\n    for (c = 0; c < channels; c++) {\n      this.splitPeaks[c] = [];\n      this.splitPeaks[c][2 * (length - 1)] = 0;\n      this.splitPeaks[c][2 * (length - 1) + 1] = 0;\n    }\n    this.mergedPeaks[2 * (length - 1)] = 0;\n    this.mergedPeaks[2 * (length - 1) + 1] = 0;\n  }\n\n  /**\n   * Compute the max and min value of the waveform when broken into <length> subranges.\n   *\n   * @param {number} length How many subranges to break the waveform into.\n   * @param {number} first First sample in the required range.\n   * @param {number} last Last sample in the required range.\n   * @return {number[]|Number.<Array[]>} Array of 2*<length> peaks or array of arrays of\n   * peaks consisting of (max, min) values for each subrange.\n   */\n  getPeaks(length, first, last) {\n    if (this.peaks) {\n      return this.peaks;\n    }\n    if (!this.buffer) {\n      return [];\n    }\n\n    first = first || 0;\n    last = last || length - 1;\n\n    this.setLength(length);\n\n    if (!this.buffer) {\n      return this.params.splitChannels ? this.splitPeaks : this.mergedPeaks;\n    }\n\n    /**\n     * The following snippet fixes a buffering data issue on the Safari\n     * browser which returned undefined It creates the missing buffer based\n     * on 1 channel, 4096 samples and the sampleRate from the current\n     * webaudio context 4096 samples seemed to be the best fit for rendering\n     * will review this code once a stable version of Safari TP is out\n     */\n    if (!this.buffer.length) {\n      const newBuffer = this.createBuffer(1, 4096, this.sampleRate);\n      this.buffer = newBuffer.buffer;\n    }\n\n    const sampleSize = this.buffer.length / length;\n    const sampleStep = ~~(sampleSize / 10) || 1;\n    const channels = this.buffer.numberOfChannels;\n    let c;\n\n    for (c = 0; c < channels; c++) {\n      const peaks = this.splitPeaks[c];\n      const chan = this.buffer.getChannelData(c);\n      let i;\n\n      for (i = first; i <= last; i++) {\n        const start = ~~(i * sampleSize);\n        const end = ~~(start + sampleSize);\n        let min = 0;\n        let max = 0;\n        let j;\n\n        for (j = start; j < end; j += sampleStep) {\n          const value = chan[j];\n\n          if (value > max) {\n            max = value;\n          }\n\n          if (value < min) {\n            min = value;\n          }\n        }\n\n        peaks[2 * i] = max;\n        peaks[2 * i + 1] = min;\n\n        if (c == 0 || max > this.mergedPeaks[2 * i]) {\n          this.mergedPeaks[2 * i] = max;\n        }\n\n        if (c == 0 || min < this.mergedPeaks[2 * i + 1]) {\n          this.mergedPeaks[2 * i + 1] = min;\n        }\n      }\n    }\n\n    return this.params.splitChannels ? this.splitPeaks : this.mergedPeaks;\n  }\n\n  /**\n   * Get the position from 0 to 1\n   *\n   * @return {number} Position\n   */\n  getPlayedPercents() {\n    return this.state.getPlayedPercents.call(this);\n  }\n\n  /** @private */\n  disconnectSource() {\n    if (this.source) {\n      this.source.disconnect();\n    }\n  }\n  /**\n   * Destroy all references with WebAudio, disconnecting audio nodes and closing Audio Context\n   */\n  destroyWebAudio() {\n    this.disconnectFilters();\n    this.disconnectSource();\n    this.gainNode.disconnect();\n    this.scriptNode.disconnect();\n    this.analyser.disconnect();\n\n    // close the audioContext if closeAudioContext option is set to true\n    if (this.params.closeAudioContext) {\n      // check if browser supports AudioContext.close()\n      if (typeof this.ac.close === \"function\" && this.ac.state != \"closed\") {\n        this.ac.close();\n      }\n      // clear the reference to the audiocontext\n      this.ac = null;\n      // clear the actual audiocontext, either passed as param or the\n      // global singleton\n      if (!this.params.audioContext) {\n        window.WaveSurferAudioContext = null;\n      } else {\n        this.params.audioContext = null;\n      }\n      // clear the offlineAudioContext\n      window.WaveSurferOfflineAudioContext = null;\n    }\n  }\n  /**\n   * This is called when wavesurfer is destroyed\n   */\n  destroy() {\n    if (!this.isPaused()) {\n      this.pause();\n    }\n    this.unAll();\n    this.buffer = null;\n    this.destroyed = true;\n\n    this.destroyWebAudio();\n  }\n\n  /**\n   * Loaded a decoded audio buffer\n   *\n   * @param {Object} buffer Decoded audio buffer to load\n   */\n  load(buffer) {\n    this.startPosition = 0;\n    this.lastPlay = this.ac.currentTime;\n    this.buffer = buffer;\n    this.createSource();\n  }\n\n  /** @private */\n  createSource() {\n    this.disconnectSource();\n    this.source = this.ac.createBufferSource();\n\n    // adjust for old browsers\n    this.source.start = this.source.start || this.source.noteGrainOn;\n    this.source.stop = this.source.stop || this.source.noteOff;\n\n    this.source.playbackRate.setValueAtTime(\n      this.playbackRate,\n      this.ac.currentTime\n    );\n    this.source.buffer = this.buffer;\n    this.source.connect(this.analyser);\n  }\n\n  /**\n   * Used by `wavesurfer.isPlaying()` and `wavesurfer.playPause()`\n   *\n   * @return {boolean} Whether or not this backend is currently paused\n   */\n  isPaused() {\n    return this.state !== this.states[PLAYING];\n  }\n\n  /**\n   * Used by `wavesurfer.getDuration()`\n   *\n   * @return {number} Duration of loaded buffer\n   */\n  getDuration() {\n    if (this.explicitDuration) {\n      return this.explicitDuration;\n    }\n    if (!this.buffer) {\n      return 0;\n    }\n    return this.buffer.duration;\n  }\n\n  /**\n   * Used by `wavesurfer.seekTo()`\n   *\n   * @param {number} start Position to start at in seconds\n   * @param {number} end Position to end at in seconds\n   * @return {{start: number, end: number}} Object containing start and end\n   * positions\n   */\n  seekTo(start, end) {\n    if (!this.buffer) {\n      return;\n    }\n\n    this.scheduledPause = null;\n\n    if (start == null) {\n      start = this.getCurrentTime();\n      if (start >= this.getDuration()) {\n        start = 0;\n      }\n    }\n    if (end == null) {\n      end = this.getDuration();\n    }\n\n    this.startPosition = start;\n    this.lastPlay = this.ac.currentTime;\n\n    if (this.state === this.states[FINISHED]) {\n      this.setState(PAUSED);\n    }\n\n    return {\n      start: start,\n      end: end\n    };\n  }\n\n  /**\n   * Get the playback position in seconds\n   *\n   * @return {number} The playback position in seconds\n   */\n  getPlayedTime() {\n    return (this.ac.currentTime - this.lastPlay) * this.playbackRate;\n  }\n\n  /**\n   * Plays the loaded audio region.\n   *\n   * @param {number} start Start offset in seconds, relative to the beginning\n   * of a clip.\n   * @param {number} end When to stop relative to the beginning of a clip.\n   */\n  play(start, end) {\n    if (!this.buffer) {\n      return;\n    }\n\n    // need to re-create source on each playback\n    this.createSource();\n\n    const adjustedTime = this.seekTo(start, end);\n\n    start = adjustedTime.start;\n    end = adjustedTime.end;\n\n    this.scheduledPause = end;\n\n    this.source.start(0, start);\n\n    if (this.ac.state == \"suspended\") {\n      this.ac.resume && this.ac.resume();\n    }\n\n    this.setState(PLAYING);\n\n    this.fireEvent(\"play\");\n  }\n\n  /**\n   * Pauses the loaded audio.\n   */\n  pause() {\n    this.scheduledPause = null;\n\n    this.startPosition += this.getPlayedTime();\n    this.source && this.source.stop(0);\n\n    this.setState(PAUSED);\n\n    this.fireEvent(\"pause\");\n  }\n\n  /**\n   * Returns the current time in seconds relative to the audio-clip's\n   * duration.\n   *\n   * @return {number} The current time in seconds\n   */\n  getCurrentTime() {\n    return this.state.getCurrentTime.call(this);\n  }\n\n  /**\n   * Returns the current playback rate. (0=no playback, 1=normal playback)\n   *\n   * @return {number} The current playback rate\n   */\n  getPlaybackRate() {\n    return this.playbackRate;\n  }\n\n  /**\n   * Set the audio source playback rate.\n   *\n   * @param {number} value The playback rate to use\n   */\n  setPlaybackRate(value) {\n    value = value || 1;\n    if (this.isPaused()) {\n      this.playbackRate = value;\n    } else {\n      this.pause();\n      this.playbackRate = value;\n      this.play();\n    }\n  }\n\n  /**\n   * Set a point in seconds for playback to stop at.\n   *\n   * @param {number} end Position to end at\n   * @version 3.3.0\n   */\n  setPlayEnd(end) {\n    this.scheduledPause = end;\n  }\n}\n","/* eslint no-unused-vars: 0 */\nimport WebAudio from \"./webaudio\";\nimport * as util from \"./util\";\n\n/**\n * MediaElement backend\n */\nexport default class MediaElement extends WebAudio {\n  /**\n   * Construct the backend\n   *\n   * @param {WavesurferParams} params Wavesurfer parameters\n   */\n  constructor(params) {\n    super(params);\n    /** @private */\n    this.params = params;\n\n    /**\n     * Initially a dummy media element to catch errors. Once `_load` is\n     * called, this will contain the actual `HTMLMediaElement`.\n     * @private\n     */\n    this.media = {\n      currentTime: 0,\n      duration: 0,\n      paused: true,\n      playbackRate: 1,\n      play() {},\n      pause() {},\n      volume: 0\n    };\n\n    /** @private */\n    this.mediaType = params.mediaType.toLowerCase();\n    /** @private */\n    this.elementPosition = params.elementPosition;\n    /** @private */\n    this.peaks = null;\n    /** @private */\n    this.playbackRate = 1;\n    /** @private */\n    this.volume = 1;\n    /** @private */\n    this.isMuted = false;\n    /** @private */\n    this.buffer = null;\n    /** @private */\n    this.onPlayEnd = null;\n    /** @private */\n    this.mediaListeners = {};\n  }\n\n  /**\n   * Initialise the backend, called in `wavesurfer.createBackend()`\n   */\n  init() {\n    this.createVolumeNode();\n    this.createScriptNode();\n    this.createAnalyserNode();\n\n    this.setPlaybackRate(this.params.audioRate);\n    this.createTimer();\n  }\n\n  /**\n   * Attach event listeners to media element.\n   */\n  _setupMediaListeners() {\n    this.mediaListeners.error = () => {\n      this.fireEvent(\"error\", \"Error loading media element\");\n    };\n    this.mediaListeners.canplay = () => {\n      this.fireEvent(\"canplay\");\n    };\n    this.mediaListeners.ended = () => {\n      this.fireEvent(\"finish\");\n    };\n    // listen to and relay play, pause and seeked events to enable\n    // playback control from the external media element\n    this.mediaListeners.play = () => {\n      this.fireEvent(\"play\");\n    };\n    this.mediaListeners.pause = () => {\n      this.fireEvent(\"pause\");\n    };\n    this.mediaListeners.seeked = event => {\n      this.fireEvent(\"seek\");\n    };\n    this.mediaListeners.volumechange = event => {\n      this.isMuted = this.media.muted;\n      if (this.isMuted) {\n        this.volume = 0;\n      } else {\n        this.volume = this.media.volume;\n      }\n      this.fireEvent(\"volume\");\n    };\n\n    // reset event listeners\n    Object.keys(this.mediaListeners).forEach(id => {\n      this.media.removeEventListener(id, this.mediaListeners[id]);\n      this.media.addEventListener(id, this.mediaListeners[id]);\n    });\n  }\n\n  /**\n   * Create a timer to provide a more precise `audioprocess` event.\n   */\n  createTimer() {\n    const onAudioProcess = () => {\n      if (this.isPaused()) {\n        return;\n      }\n      this.fireEvent(\"audioprocess\", this.getCurrentTime());\n\n      // Call again in the next frame\n      util.frame(onAudioProcess)();\n    };\n\n    this.on(\"play\", onAudioProcess);\n\n    // Update the progress one more time to prevent it from being stuck in\n    // case of lower framerates\n    this.on(\"pause\", () => {\n      this.fireEvent(\"audioprocess\", this.getCurrentTime());\n    });\n  }\n\n  /**\n   * Create media element with url as its source,\n   * and append to container element.\n   *\n   * @param {string} url Path to media file\n   * @param {HTMLElement} container HTML element\n   * @param {number[]|Number.<Array[]>} peaks Array of peak data\n   * @param {string} preload HTML 5 preload attribute value\n   * @throws Will throw an error if the `url` argument is not a valid media\n   * element.\n   */\n  load(url, container, peaks, preload) {\n    const media = document.createElement(this.mediaType);\n    media.controls = this.params.mediaControls;\n    media.autoplay = this.params.autoplay || false;\n    media.preload = preload == null ? \"auto\" : preload;\n    media.src = url;\n    media.style.width = \"100%\";\n\n    const prevMedia = container.querySelector(this.mediaType);\n    if (prevMedia) {\n      container.removeChild(prevMedia);\n    }\n    container.appendChild(media);\n\n    this._load(media, peaks);\n  }\n\n  /**\n   * Load existing media element.\n   *\n   * @param {HTMLMediaElement} elt HTML5 Audio or Video element\n   * @param {number[]|Number.<Array[]>} peaks Array of peak data\n   */\n  loadElt(elt, peaks) {\n    elt.controls = this.params.mediaControls;\n    elt.autoplay = this.params.autoplay || false;\n\n    this._load(elt, peaks);\n  }\n\n  /**\n   * Method called by both `load` (from url)\n   * and `loadElt` (existing media element) methods.\n   *\n   * @param {HTMLMediaElement} media HTML5 Audio or Video element\n   * @param {number[]|Number.<Array[]>} peaks Array of peak data\n   * @throws Will throw an error if the `media` argument is not a valid media\n   * element.\n   * @private\n   */\n  _load(media, peaks) {\n    // verify media element is valid\n    if (\n      !(media instanceof HTMLMediaElement) ||\n      typeof media.addEventListener === \"undefined\"\n    ) {\n      throw new Error(\"media parameter is not a valid media element\");\n    }\n\n    // load must be called manually on iOS, otherwise peaks won't draw\n    // until a user interaction triggers load --> 'ready' event\n    if (typeof media.load == \"function\") {\n      // Resets the media element and restarts the media resource. Any\n      // pending events are discarded. How much media data is fetched is\n      // still affected by the preload attribute.\n      media.load();\n    }\n\n    this.media = media;\n    this._setupMediaListeners();\n    this.peaks = peaks;\n    this.onPlayEnd = null;\n    this.buffer = null;\n    this.isMuted = media.muted;\n    this.setPlaybackRate(this.playbackRate);\n    this.setVolume(this.volume);\n  }\n\n  /**\n   * Used by `wavesurfer.isPlaying()` and `wavesurfer.playPause()`\n   *\n   * @return {boolean} Media paused or not\n   */\n  isPaused() {\n    return !this.media || this.media.paused;\n  }\n\n  /**\n   * Used by `wavesurfer.getDuration()`\n   *\n   * @return {number} Duration\n   */\n  getDuration() {\n    if (this.explicitDuration) {\n      return this.explicitDuration;\n    }\n    let duration = (this.buffer || this.media).duration;\n    if (duration >= Infinity) {\n      // streaming audio\n      duration = this.media.seekable.end(0);\n    }\n    return duration;\n  }\n\n  /**\n   * Returns the current time in seconds relative to the audio-clip's\n   * duration.\n   *\n   * @return {number} Current time\n   */\n  getCurrentTime() {\n    return this.media && this.media.currentTime;\n  }\n\n  /**\n   * Get the position from 0 to 1\n   *\n   * @return {number} Current position\n   */\n  getPlayedPercents() {\n    return this.getCurrentTime() / this.getDuration() || 0;\n  }\n\n  /**\n   * Get the audio source playback rate.\n   *\n   * @return {number} Playback rate\n   */\n  getPlaybackRate() {\n    return this.playbackRate || this.media.playbackRate;\n  }\n\n  /**\n   * Set the audio source playback rate.\n   *\n   * @param {number} value Playback rate\n   */\n  setPlaybackRate(value) {\n    this.playbackRate = value || 1;\n    this.media.playbackRate = this.playbackRate;\n  }\n\n  /**\n   * Used by `wavesurfer.seekTo()`\n   *\n   * @param {number} start Position to start at in seconds\n   */\n  seekTo(start) {\n    if (start != null) {\n      this.media.currentTime = start;\n    }\n    this.clearPlayEnd();\n  }\n\n  /**\n   * Plays the loaded audio region.\n   *\n   * @param {number} start Start offset in seconds, relative to the beginning\n   * of a clip.\n   * @param {number} end When to stop, relative to the beginning of a clip.\n   * @emits MediaElement#play\n   * @return {Promise} Result\n   */\n  play(start, end) {\n    this.seekTo(start);\n    const promise = this.media.play();\n    end && this.setPlayEnd(end);\n\n    return promise;\n  }\n\n  /**\n   * Pauses the loaded audio.\n   *\n   * @emits MediaElement#pause\n   * @return {Promise} Result\n   */\n  pause() {\n    let promise;\n\n    if (this.media) {\n      promise = this.media.pause();\n    }\n    this.clearPlayEnd();\n\n    return promise;\n  }\n\n  /**\n   * Set the play end\n   *\n   * @param {number} end Where to end\n   */\n  setPlayEnd(end) {\n    this.clearPlayEnd();\n\n    this._onPlayEnd = time => {\n      if (time >= end) {\n        this.pause();\n        this.seekTo(end);\n      }\n    };\n    this.on(\"audioprocess\", this._onPlayEnd);\n  }\n\n  /** @private */\n  clearPlayEnd() {\n    if (this._onPlayEnd) {\n      this.un(\"audioprocess\", this._onPlayEnd);\n      this._onPlayEnd = null;\n    }\n  }\n\n  /**\n   * Compute the max and min value of the waveform when broken into\n   * <length> subranges.\n   *\n   * @param {number} length How many subranges to break the waveform into.\n   * @param {number} first First sample in the required range.\n   * @param {number} last Last sample in the required range.\n   * @return {number[]|Number.<Array[]>} Array of 2*<length> peaks or array of\n   * arrays of peaks consisting of (max, min) values for each subrange.\n   */\n  getPeaks(length, first, last) {\n    if (this.buffer) {\n      return super.getPeaks(length, first, last);\n    }\n    return this.peaks || [];\n  }\n\n  /**\n   * Set the sink id for the media player\n   *\n   * @param {string} deviceId String value representing audio device id.\n   * @returns {Promise} A Promise that resolves to `undefined` when there\n   * are no errors.\n   */\n  setSinkId(deviceId) {\n    if (deviceId) {\n      if (!this.media.setSinkId) {\n        return Promise.reject(\n          new Error(\"setSinkId is not supported in your browser\")\n        );\n      }\n      return this.media.setSinkId(deviceId);\n    }\n\n    return Promise.reject(new Error(\"Invalid deviceId: \" + deviceId));\n  }\n\n  /**\n   * Get the current volume\n   *\n   * @return {number} value A floating point value between 0 and 1.\n   */\n  getVolume() {\n    return this.volume;\n  }\n\n  /**\n   * Set the audio volume\n   *\n   * @param {number} value A floating point value between 0 and 1.\n   */\n  setVolume(value) {\n    this.volume = value;\n    // no need to change when it's already at that volume\n    if (this.media.volume !== this.volume) {\n      this.media.volume = this.volume;\n    }\n  }\n\n  /**\n   * This is called when wavesurfer is destroyed\n   *\n   */\n  destroy() {\n    this.pause();\n    this.unAll();\n    this.destroyed = true;\n\n    // cleanup media event listeners\n    Object.keys(this.mediaListeners).forEach(id => {\n      if (this.media) {\n        this.media.removeEventListener(id, this.mediaListeners[id]);\n      }\n    });\n\n    if (\n      this.params.removeMediaElementOnDestroy &&\n      this.media &&\n      this.media.parentNode\n    ) {\n      this.media.parentNode.removeChild(this.media);\n    }\n\n    this.media = null;\n  }\n}\n","/**\n * Caches the decoded peaks data to improve rendering speed for large audio\n *\n * Is used if the option parameter `partialRender` is set to `true`\n */\nexport default class PeakCache {\n  /**\n   * Instantiate cache\n   */\n  constructor() {\n    this.clearPeakCache();\n  }\n\n  /**\n   * Empty the cache\n   */\n  clearPeakCache() {\n    /**\n     * Flat array with entries that are always in pairs to mark the\n     * beginning and end of each subrange.  This is a convenience so we can\n     * iterate over the pairs for easy set difference operations.\n     * @private\n     */\n    this.peakCacheRanges = [];\n    /**\n     * Length of the entire cachable region, used for resetting the cache\n     * when this changes (zoom events, for instance).\n     * @private\n     */\n    this.peakCacheLength = -1;\n  }\n\n  /**\n   * Add a range of peaks to the cache\n   *\n   * @param {number} length The length of the range\n   * @param {number} start The x offset of the start of the range\n   * @param {number} end The x offset of the end of the range\n   * @return {Number.<Array[]>} Array with arrays of numbers\n   */\n  addRangeToPeakCache(length, start, end) {\n    if (length != this.peakCacheLength) {\n      this.clearPeakCache();\n      this.peakCacheLength = length;\n    }\n\n    // Return ranges that weren't in the cache before the call.\n    let uncachedRanges = [];\n    let i = 0;\n    // Skip ranges before the current start.\n    while (i < this.peakCacheRanges.length && this.peakCacheRanges[i] < start) {\n      i++;\n    }\n    // If |i| is even, |start| falls after an existing range.  Otherwise,\n    // |start| falls between an existing range, and the uncached region\n    // starts when we encounter the next node in |peakCacheRanges| or\n    // |end|, whichever comes first.\n    if (i % 2 == 0) {\n      uncachedRanges.push(start);\n    }\n    while (i < this.peakCacheRanges.length && this.peakCacheRanges[i] <= end) {\n      uncachedRanges.push(this.peakCacheRanges[i]);\n      i++;\n    }\n    // If |i| is even, |end| is after all existing ranges.\n    if (i % 2 == 0) {\n      uncachedRanges.push(end);\n    }\n\n    // Filter out the 0-length ranges.\n    uncachedRanges = uncachedRanges.filter((item, pos, arr) => {\n      if (pos == 0) {\n        return item != arr[pos + 1];\n      } else if (pos == arr.length - 1) {\n        return item != arr[pos - 1];\n      }\n      return item != arr[pos - 1] && item != arr[pos + 1];\n    });\n\n    // Merge the two ranges together, uncachedRanges will either contain\n    // wholly new points, or duplicates of points in peakCacheRanges.  If\n    // duplicates are detected, remove both and extend the range.\n    this.peakCacheRanges = this.peakCacheRanges.concat(uncachedRanges);\n    this.peakCacheRanges = this.peakCacheRanges\n      .sort((a, b) => a - b)\n      .filter((item, pos, arr) => {\n        if (pos == 0) {\n          return item != arr[pos + 1];\n        } else if (pos == arr.length - 1) {\n          return item != arr[pos - 1];\n        }\n        return item != arr[pos - 1] && item != arr[pos + 1];\n      });\n\n    // Push the uncached ranges into an array of arrays for ease of\n    // iteration in the functions that call this.\n    const uncachedRangePairs = [];\n    for (i = 0; i < uncachedRanges.length; i += 2) {\n      uncachedRangePairs.push([uncachedRanges[i], uncachedRanges[i + 1]]);\n    }\n\n    return uncachedRangePairs;\n  }\n\n  /**\n   * For testing\n   *\n   * @return {Number.<Array[]>} Array with arrays of numbers\n   */\n  getCacheRanges() {\n    const peakCacheRangePairs = [];\n    let i;\n    for (i = 0; i < this.peakCacheRanges.length; i += 2) {\n      peakCacheRangePairs.push([\n        this.peakCacheRanges[i],\n        this.peakCacheRanges[i + 1]\n      ]);\n    }\n    return peakCacheRangePairs;\n  }\n}\n","import MediaElement from \"./mediaelement\";\n\n/**\n * MediaElementWebAudio backend: allows to load audio as HTML5 audio tag and use it with WebAudio API.\n * Setting the MediaElementWebAudio backend, there is the possibility to load audio of big dimensions, using the WebAudio API features.\n * The audio to load is an HTML5 audio tag, so you have to use the same methods of MediaElement backend for loading and playback.\n * In this way, the audio resource is not loaded entirely from server, but in ranges, since you load an HTML5 audio tag.\n * In this way, filters and other functionalities can be performed like with WebAudio backend, but without decoding\n * internally audio data, that caused crashing of the browser. You have to give also peaks, so the audio data are not decoded.\n *\n * @since 3.2.0\n */\nexport default class MediaElementWebAudio extends MediaElement {\n  /**\n   * Construct the backend\n   *\n   * @param {WavesurferParams} params Wavesurfer parameters\n   */\n  constructor(params) {\n    super(params);\n    /** @private */\n    this.params = params;\n    /** @private */\n    this.sourceMediaElement = null;\n  }\n\n  /**\n   * Initialise the backend, called in `wavesurfer.createBackend()`\n   */\n  init() {\n    this.setPlaybackRate(this.params.audioRate);\n    this.createTimer();\n    this.createVolumeNode();\n    this.createScriptNode();\n    this.createAnalyserNode();\n  }\n  /**\n   * Private method called by both `load` (from url)\n   * and `loadElt` (existing media element) methods.\n   *\n   * @param {HTMLMediaElement} media HTML5 Audio or Video element\n   * @param {number[]|Number.<Array[]>} peaks Array of peak data\n   * @private\n   */\n  _load(media, peaks) {\n    super._load(media, peaks);\n    this.createMediaElementSource(media);\n  }\n\n  /**\n   * Create MediaElementSource node\n   *\n   * @since 3.2.0\n   * @param {HTMLMediaElement} mediaElement HTML5 Audio to load\n   */\n  createMediaElementSource(mediaElement) {\n    this.sourceMediaElement = this.ac.createMediaElementSource(mediaElement);\n    this.sourceMediaElement.connect(this.analyser);\n  }\n\n  /**\n   * This is called when wavesurfer is destroyed\n   *\n   */\n  destroy() {\n    super.destroy();\n\n    this.destroyWebAudio();\n  }\n}\n","/* eslint no-unused-vars: 0 */\nimport * as util from \"./util\";\nimport MultiCanvas from \"./drawer.multicanvas\";\nimport WebAudio from \"./webaudio\";\nimport MediaElement from \"./mediaelement\";\nimport PeakCache from \"./peakcache\";\nimport MediaElementWebAudio from \"./mediaelement-webaudio\";\n\n/*\n * This work is licensed under a BSD-3-Clause License.\n */\n\n/** @external {HTMLElement} https://developer.mozilla.org/en/docs/Web/API/HTMLElement */\n/** @external {OfflineAudioContext} https://developer.mozilla.org/en-US/docs/Web/API/OfflineAudioContext */\n/** @external {File} https://developer.mozilla.org/en-US/docs/Web/API/File */\n/** @external {Blob} https://developer.mozilla.org/en-US/docs/Web/API/Blob */\n/** @external {CanvasRenderingContext2D} https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D */\n/** @external {MediaStreamConstraints} https://developer.mozilla.org/en-US/docs/Web/API/MediaStreamConstraints */\n/** @external {AudioNode} https://developer.mozilla.org/de/docs/Web/API/AudioNode */\n\n/**\n * @typedef {Object} WavesurferParams\n * @property {AudioContext} audioContext=null Use your own previously\n * initialized AudioContext or leave blank.\n * @property {number} audioRate=1 Speed at which to play audio. Lower number is\n * slower.\n * @property {ScriptProcessorNode} audioScriptProcessor=null Use your own previously\n * initialized ScriptProcessorNode or leave blank.\n * @property {boolean} autoCenter=true If a scrollbar is present, center the\n * waveform on current progress\n * @property {number} autoCenterRate=5 If autoCenter is active, rate at which the\n * waveform is centered\n * @property {boolean} autoCenterImmediately=false If autoCenter is active, immediately\n * center waveform on current progress\n * @property {string} backend='WebAudio' `'WebAudio'|'MediaElement'|'MediaElementWebAudio'` In most cases\n * you don't have to set this manually. MediaElement is a fallback for unsupported browsers.\n * MediaElementWebAudio allows to use WebAudio API also with big audio files, loading audio like with\n * MediaElement backend (HTML5 audio tag). You have to use the same methods of MediaElement backend for loading and\n * playback, giving also peaks, so the audio data are not decoded. In this way you can use WebAudio features, like filters,\n * also with audio with big duration. For example:\n * ` wavesurfer.load(url | HTMLMediaElement, peaks, preload, duration);\n *   wavesurfer.play();\n *   wavesurfer.setFilter(customFilter);\n * `\n * @property {string} backgroundColor=null Change background color of the\n * waveform container.\n * @property {number} barHeight=1 The height of the wave bars.\n * @property {number} barRadius=0 The radius of the wave bars. Makes bars rounded\n * @property {number} barGap=null The optional spacing between bars of the wave,\n * if not provided will be calculated in legacy format.\n * @property {number} barWidth=null Draw the waveform using bars.\n * @property {number} barMinHeight=null If specified, draw at least a bar of this height,\n * eliminating waveform gaps\n * @property {boolean} closeAudioContext=false Close and nullify all audio\n * contexts when the destroy method is called.\n * @property {!string|HTMLElement} container CSS selector or HTML element where\n * the waveform should be drawn. This is the only required parameter.\n * @property {string} cursorColor='#333' The fill color of the cursor indicating\n * the playhead position.\n * @property {number} cursorWidth=1 Measured in pixels.\n * @property {object} drawingContextAttributes={desynchronized: false} Drawing context\n * attributes.\n * @property {number} duration=null Optional audio length so pre-rendered peaks\n * can be display immediately for example.\n * @property {boolean} fillParent=true Whether to fill the entire container or\n * draw only according to `minPxPerSec`.\n * @property {boolean} forceDecode=false Force decoding of audio using web audio\n * when zooming to get a more detailed waveform.\n * @property {number} height=128 The height of the waveform. Measured in\n * pixels.\n * @property {boolean} hideScrollbar=false Whether to hide the horizontal\n * scrollbar when one would normally be shown.\n * @property {boolean} interact=true Whether the mouse interaction will be\n * enabled at initialization. You can switch this parameter at any time later\n * on.\n * @property {boolean} loopSelection=true (Use with regions plugin) Enable\n * looping of selected regions\n * @property {number} maxCanvasWidth=4000 Maximum width of a single canvas in\n * pixels, excluding a small overlap (2 * `pixelRatio`, rounded up to the next\n * even integer). If the waveform is longer than this value, additional canvases\n * will be used to render the waveform, which is useful for very large waveforms\n * that may be too wide for browsers to draw on a single canvas.\n * @property {boolean} mediaControls=false (Use with backend `MediaElement` or `MediaElementWebAudio`)\n * this enables the native controls for the media element\n * @property {string} mediaType='audio' (Use with backend `MediaElement` or `MediaElementWebAudio`)\n * `'audio'|'video'` ('video' only for `MediaElement`)\n * @property {number} minPxPerSec=20 Minimum number of pixels per second of\n * audio.\n * @property {boolean} normalize=false If true, normalize by the maximum peak\n * instead of 1.0.\n * @property {boolean} partialRender=false Use the PeakCache to improve\n * rendering speed of large waveforms\n * @property {number} pixelRatio=window.devicePixelRatio The pixel ratio used to\n * calculate display\n * @property {PluginDefinition[]} plugins=[] An array of plugin definitions to\n * register during instantiation, they will be directly initialised unless they\n * are added with the `deferInit` property set to true.\n * @property {string} progressColor='#555' The fill color of the part of the\n * waveform behind the cursor. When `progressColor` and `waveColor` are the same\n * the progress wave is not rendered at all.\n * @property {boolean} removeMediaElementOnDestroy=true Set to false to keep the\n * media element in the DOM when the player is destroyed. This is useful when\n * reusing an existing media element via the `loadMediaElement` method.\n * @property {Object} renderer=MultiCanvas Can be used to inject a custom\n * renderer.\n * @property {boolean|number} responsive=false If set to `true` resize the\n * waveform, when the window is resized. This is debounced with a `100ms`\n * timeout by default. If this parameter is a number it represents that timeout.\n * @property {boolean} rtl=false If set to `true`, renders waveform from\n * right-to-left.\n * @property {boolean} scrollParent=false Whether to scroll the container with a\n * lengthy waveform. Otherwise the waveform is shrunk to the container width\n * (see fillParent).\n * @property {number} skipLength=2 Number of seconds to skip with the\n * skipForward() and skipBackward() methods.\n * @property {boolean} splitChannels=false Render with separate waveforms for\n * the channels of the audio\n * @property {string} waveColor='#999' The fill color of the waveform after the\n * cursor.\n * @property {object} xhr={} XHR options. For example:\n * `let xhr = {\n *     cache: 'default',\n *     mode: 'cors',\n *     method: 'GET',\n *     credentials: 'same-origin',\n *     redirect: 'follow',\n *     referrer: 'client',\n *     headers: [\n *         {\n *             key: 'Authorization',\n *             value: 'my-token'\n *         }\n *     ]\n * };`\n */\n\n/**\n * @typedef {Object} PluginDefinition\n * @desc The Object used to describe a plugin\n * @example wavesurfer.addPlugin(pluginDefinition);\n * @property {string} name The name of the plugin, the plugin instance will be\n * added as a property to the wavesurfer instance under this name\n * @property {?Object} staticProps The properties that should be added to the\n * wavesurfer instance as static properties\n * @property {?boolean} deferInit Don't initialise plugin\n * automatically\n * @property {Object} params={} The plugin parameters, they are the first parameter\n * passed to the plugin class constructor function\n * @property {PluginClass} instance The plugin instance factory, is called with\n * the dependency specified in extends. Returns the plugin class.\n */\n\n/**\n * @interface PluginClass\n *\n * @desc This is the interface which is implemented by all plugin classes. Note\n * that this only turns into an observer after being passed through\n * `wavesurfer.addPlugin`.\n *\n * @extends {Observer}\n */\nclass PluginClass {\n  /**\n   * Plugin definition factory\n   *\n   * This function must be used to create a plugin definition which can be\n   * used by wavesurfer to correctly instantiate the plugin.\n   *\n   * It returns a `PluginDefinition` object representing the plugin.\n   *\n   * @param {Object} params={} The plugin params (specific to the plugin)\n   */\n  create(params) {}\n  /**\n   * Construct the plugin\n   *\n   * @param {Object} params={} The plugin params (specific to the plugin)\n   * @param {Object} ws The wavesurfer instance\n   */\n  constructor(params, ws) {}\n  /**\n   * Initialise the plugin\n   *\n   * Start doing something. This is called by\n   * `wavesurfer.initPlugin(pluginName)`\n   */\n  init() {}\n  /**\n   * Destroy the plugin instance\n   *\n   * Stop doing something. This is called by\n   * `wavesurfer.destroyPlugin(pluginName)`\n   */\n  destroy() {}\n}\n\n/**\n * WaveSurfer core library class\n *\n * @extends {Observer}\n * @example\n * const params = {\n *   container: '#waveform',\n *   waveColor: 'violet',\n *   progressColor: 'purple'\n * };\n *\n * // initialise like this\n * const wavesurfer = WaveSurfer.create(params);\n *\n * // or like this ...\n * const wavesurfer = new WaveSurfer(params);\n * wavesurfer.init();\n *\n * // load audio file\n * wavesurfer.load('example/media/demo.wav');\n */\nexport default class WaveSurfer extends util.Observer {\n  /** @private */\n  defaultParams = {\n    audioContext: null,\n    audioScriptProcessor: null,\n    audioRate: 1,\n    autoCenter: true,\n    autoCenterRate: 5,\n    autoCenterImmediately: false,\n    backend: \"WebAudio\",\n    backgroundColor: null,\n    barHeight: 1,\n    barRadius: 0,\n    barGap: null,\n    barMinHeight: null,\n    container: null,\n    cursorColor: \"#333\",\n    cursorWidth: 1,\n    dragSelection: true,\n    drawingContextAttributes: {\n      // Boolean that hints the user agent to reduce the latency\n      // by desynchronizing the canvas paint cycle from the event\n      // loop\n      desynchronized: false\n    },\n    duration: null,\n    fillParent: true,\n    forceDecode: false,\n    height: 128,\n    hideScrollbar: false,\n    interact: true,\n    loopSelection: true,\n    maxCanvasWidth: 4000,\n    mediaContainer: null,\n    mediaControls: false,\n    mediaType: \"audio\",\n    minPxPerSec: 20,\n    normalize: false,\n    partialRender: false,\n    pixelRatio:\n      window.devicePixelRatio || screen.deviceXDPI / screen.logicalXDPI,\n    plugins: [],\n    progressColor: \"#555\",\n    removeMediaElementOnDestroy: true,\n    renderer: MultiCanvas,\n    responsive: false,\n    rtl: false,\n    scrollParent: false,\n    skipLength: 2,\n    splitChannels: false,\n    waveColor: \"#999\",\n    xhr: {}\n  };\n\n  /** @private */\n  backends = {\n    MediaElement,\n    WebAudio,\n    MediaElementWebAudio\n  };\n\n  /**\n   * Instantiate this class, call its `init` function and returns it\n   *\n   * @param {WavesurferParams} params The wavesurfer parameters\n   * @return {Object} WaveSurfer instance\n   * @example const wavesurfer = WaveSurfer.create(params);\n   */\n  static create(params) {\n    const wavesurfer = new WaveSurfer(params);\n    return wavesurfer.init();\n  }\n\n  /**\n   * The library version number is available as a static property of the\n   * WaveSurfer class\n   *\n   * @type {String}\n   * @example\n   * console.log('Using wavesurfer.js ' + WaveSurfer.VERSION);\n   */\n  static VERSION = \"1.0 (fork at 2020-5-7 by qh73xe)\";\n\n  /**\n   * Functions in the `util` property are available as a prototype property to\n   * all instances\n   *\n   * @type {Object}\n   * @example\n   * const wavesurfer = WaveSurfer.create(params);\n   * wavesurfer.util.style(myElement, { background: 'blue' });\n   */\n  util = util;\n\n  /**\n   * Functions in the `util` property are available as a static property of the\n   * WaveSurfer class\n   *\n   * @type {Object}\n   * @example\n   * WaveSurfer.util.style(myElement, { background: 'blue' });\n   */\n  static util = util;\n\n  /**\n   * Initialise wavesurfer instance\n   *\n   * @param {WavesurferParams} params Instantiation options for wavesurfer\n   * @example\n   * const wavesurfer = new WaveSurfer(params);\n   * @returns {this} Wavesurfer instance\n   */\n  constructor(params) {\n    super();\n    /**\n     * Extract relevant parameters (or defaults)\n     * @private\n     */\n    this.params = Object.assign({}, this.defaultParams, params);\n\n    /** @private */\n    this.container =\n      \"string\" == typeof params.container\n        ? document.querySelector(this.params.container)\n        : this.params.container;\n\n    if (!this.container) {\n      throw new Error(\"Container element not found\");\n    }\n\n    if (this.params.mediaContainer == null) {\n      /** @private */\n      this.mediaContainer = this.container;\n    } else if (typeof this.params.mediaContainer == \"string\") {\n      /** @private */\n      this.mediaContainer = document.querySelector(this.params.mediaContainer);\n    } else {\n      /** @private */\n      this.mediaContainer = this.params.mediaContainer;\n    }\n\n    if (!this.mediaContainer) {\n      throw new Error(\"Media Container element not found\");\n    }\n\n    if (this.params.maxCanvasWidth <= 1) {\n      throw new Error(\"maxCanvasWidth must be greater than 1\");\n    } else if (this.params.maxCanvasWidth % 2 == 1) {\n      throw new Error(\"maxCanvasWidth must be an even number\");\n    }\n\n    if (this.params.rtl === true) {\n      util.style(this.container, {\n        transform: \"rotateY(180deg)\"\n      });\n    }\n\n    if (this.params.backgroundColor) {\n      this.setBackgroundColor(this.params.backgroundColor);\n    }\n\n    /**\n     * @private Used to save the current volume when muting so we can\n     * restore once unmuted\n     * @type {number}\n     */\n    this.savedVolume = 0;\n\n    /**\n     * @private The current muted state\n     * @type {boolean}\n     */\n    this.isMuted = false;\n\n    /**\n     * @private Will hold a list of event descriptors that need to be\n     * canceled on subsequent loads of audio\n     * @type {Object[]}\n     */\n    this.tmpEvents = [];\n\n    /**\n     * @private Holds any running audio downloads\n     * @type {Observer}\n     */\n    this.currentRequest = null;\n    /** @private */\n    this.arraybuffer = null;\n    /** @private */\n    this.drawer = null;\n    /** @private */\n    this.backend = null;\n    /** @private */\n    this.peakCache = null;\n\n    // cache constructor objects\n    if (typeof this.params.renderer !== \"function\") {\n      throw new Error(\"Renderer parameter is invalid\");\n    }\n    /**\n     * @private The uninitialised Drawer class\n     */\n    this.Drawer = this.params.renderer;\n    /**\n     * @private The uninitialised Backend class\n     */\n    // Back compat\n    if (this.params.backend == \"AudioElement\") {\n      this.params.backend = \"MediaElement\";\n    }\n\n    if (\n      (this.params.backend == \"WebAudio\" ||\n        this.params.backend === \"MediaElementWebAudio\") &&\n      !WebAudio.prototype.supportsWebAudio.call(null)\n    ) {\n      this.params.backend = \"MediaElement\";\n    }\n    this.Backend = this.backends[this.params.backend];\n\n    /**\n     * @private map of plugin names that are currently initialised\n     */\n    this.initialisedPluginList = {};\n    /** @private */\n    this.isDestroyed = false;\n\n    /**\n     * Get the current ready status.\n     *\n     * @example const isReady = wavesurfer.isReady;\n     * @return {boolean}\n     */\n    this.isReady = false;\n\n    // responsive debounced event listener. If this.params.responsive is not\n    // set, this is never called. Use 100ms or this.params.responsive as\n    // timeout for the debounce function.\n    let prevWidth = 0;\n    this._onResize = util.debounce(\n      () => {\n        if (\n          prevWidth != this.drawer.wrapper.clientWidth &&\n          !this.params.scrollParent\n        ) {\n          prevWidth = this.drawer.wrapper.clientWidth;\n          this.drawer.fireEvent(\"redraw\");\n        }\n      },\n      typeof this.params.responsive === \"number\" ? this.params.responsive : 100\n    );\n\n    return this;\n  }\n\n  /**\n   * Initialise the wave\n   *\n   * @example\n   * var wavesurfer = new WaveSurfer(params);\n   * wavesurfer.init();\n   * @return {this} The wavesurfer instance\n   */\n  init() {\n    this.registerPlugins(this.params.plugins);\n    this.createDrawer();\n    this.createBackend();\n    this.createPeakCache();\n    return this;\n  }\n\n  /**\n   * Add and initialise array of plugins (if `plugin.deferInit` is falsey),\n   * this function is called in the init function of wavesurfer\n   *\n   * @param {PluginDefinition[]} plugins An array of plugin definitions\n   * @emits {WaveSurfer#plugins-registered} Called with the array of plugin definitions\n   * @return {this} The wavesurfer instance\n   */\n  registerPlugins(plugins) {\n    // first instantiate all the plugins\n    plugins.forEach(plugin => this.addPlugin(plugin));\n\n    // now run the init functions\n    plugins.forEach(plugin => {\n      // call init function of the plugin if deferInit is falsey\n      // in that case you would manually use initPlugins()\n      if (!plugin.deferInit) {\n        this.initPlugin(plugin.name);\n      }\n    });\n    this.fireEvent(\"plugins-registered\", plugins);\n    return this;\n  }\n\n  /**\n   * Get a map of plugin names that are currently initialised\n   *\n   * @example wavesurfer.getPlugins();\n   * @return {Object} Object with plugin names\n   */\n  getActivePlugins() {\n    return this.initialisedPluginList;\n  }\n\n  /**\n   * Add a plugin object to wavesurfer\n   *\n   * @param {PluginDefinition} plugin A plugin definition\n   * @emits {WaveSurfer#plugin-added} Called with the name of the plugin that was added\n   * @example wavesurfer.addPlugin(WaveSurfer.minimap());\n   * @return {this} The wavesurfer instance\n   */\n  addPlugin(plugin) {\n    if (!plugin.name) {\n      throw new Error(\"Plugin does not have a name!\");\n    }\n    if (!plugin.instance) {\n      throw new Error(\n        `Plugin ${plugin.name} does not have an instance property!`\n      );\n    }\n\n    // staticProps properties are applied to wavesurfer instance\n    if (plugin.staticProps) {\n      Object.keys(plugin.staticProps).forEach(pluginStaticProp => {\n        /**\n         * Properties defined in a plugin definition's `staticProps` property are added as\n         * staticProps properties of the WaveSurfer instance\n         */\n        this[pluginStaticProp] = plugin.staticProps[pluginStaticProp];\n      });\n    }\n\n    const Instance = plugin.instance;\n\n    // turn the plugin instance into an observer\n    const observerPrototypeKeys = Object.getOwnPropertyNames(\n      util.Observer.prototype\n    );\n    observerPrototypeKeys.forEach(key => {\n      Instance.prototype[key] = util.Observer.prototype[key];\n    });\n\n    /**\n     * Instantiated plugin classes are added as a property of the wavesurfer\n     * instance\n     * @type {Object}\n     */\n    this[plugin.name] = new Instance(plugin.params || {}, this);\n    this.fireEvent(\"plugin-added\", plugin.name);\n    return this;\n  }\n\n  /**\n   * Initialise a plugin\n   *\n   * @param {string} name A plugin name\n   * @emits WaveSurfer#plugin-initialised\n   * @example wavesurfer.initPlugin('minimap');\n   * @return {this} The wavesurfer instance\n   */\n  initPlugin(name) {\n    if (!this[name]) {\n      throw new Error(`Plugin ${name} has not been added yet!`);\n    }\n    if (this.initialisedPluginList[name]) {\n      // destroy any already initialised plugins\n      this.destroyPlugin(name);\n    }\n    this[name].init();\n    this.initialisedPluginList[name] = true;\n    this.fireEvent(\"plugin-initialised\", name);\n    return this;\n  }\n\n  /**\n   * Destroy a plugin\n   *\n   * @param {string} name A plugin name\n   * @emits WaveSurfer#plugin-destroyed\n   * @example wavesurfer.destroyPlugin('minimap');\n   * @returns {this} The wavesurfer instance\n   */\n  destroyPlugin(name) {\n    if (!this[name]) {\n      throw new Error(\n        `Plugin ${name} has not been added yet and cannot be destroyed!`\n      );\n    }\n    if (!this.initialisedPluginList[name]) {\n      throw new Error(`Plugin ${name} is not active and cannot be destroyed!`);\n    }\n    if (typeof this[name].destroy !== \"function\") {\n      throw new Error(`Plugin ${name} does not have a destroy function!`);\n    }\n\n    this[name].destroy();\n    delete this.initialisedPluginList[name];\n    this.fireEvent(\"plugin-destroyed\", name);\n    return this;\n  }\n\n  /**\n   * Destroy all initialised plugins. Convenience function to use when\n   * wavesurfer is removed\n   *\n   * @private\n   */\n  destroyAllPlugins() {\n    Object.keys(this.initialisedPluginList).forEach(name =>\n      this.destroyPlugin(name)\n    );\n  }\n\n  /**\n   * Create the drawer and draw the waveform\n   *\n   * @private\n   * @emits WaveSurfer#drawer-created\n   */\n  createDrawer() {\n    this.drawer = new this.Drawer(this.container, this.params);\n    this.drawer.init();\n    this.fireEvent(\"drawer-created\", this.drawer);\n\n    if (this.params.responsive !== false) {\n      window.addEventListener(\"resize\", this._onResize, true);\n      window.addEventListener(\"orientationchange\", this._onResize, true);\n    }\n\n    this.drawer.on(\"redraw\", () => {\n      this.drawBuffer();\n      this.drawer.progress(this.backend.getPlayedPercents());\n    });\n\n    // Click-to-seek\n    this.drawer.on(\"click\", (e, progress) => {\n      setTimeout(() => this.seekTo(progress), 0);\n    });\n\n    // Relay the scroll event from the drawer\n    this.drawer.on(\"scroll\", e => {\n      if (this.params.partialRender) {\n        this.drawBuffer();\n      }\n      this.fireEvent(\"scroll\", e);\n    });\n  }\n\n  /**\n   * Create the backend\n   *\n   * @private\n   * @emits WaveSurfer#backend-created\n   */\n  createBackend() {\n    if (this.backend) {\n      this.backend.destroy();\n    }\n\n    this.backend = new this.Backend(this.params);\n    this.backend.init();\n    this.fireEvent(\"backend-created\", this.backend);\n\n    this.backend.on(\"finish\", () => {\n      this.drawer.progress(this.backend.getPlayedPercents());\n      this.fireEvent(\"finish\");\n    });\n    this.backend.on(\"play\", () => this.fireEvent(\"play\"));\n    this.backend.on(\"pause\", () => this.fireEvent(\"pause\"));\n\n    this.backend.on(\"audioprocess\", time => {\n      this.drawer.progress(this.backend.getPlayedPercents());\n      this.fireEvent(\"audioprocess\", time);\n    });\n\n    // only needed for MediaElement and MediaElementWebAudio backend\n    if (\n      this.params.backend === \"MediaElement\" ||\n      this.params.backend === \"MediaElementWebAudio\"\n    ) {\n      this.backend.on(\"seek\", () => {\n        this.drawer.progress(this.backend.getPlayedPercents());\n      });\n\n      this.backend.on(\"volume\", () => {\n        let newVolume = this.getVolume();\n        this.fireEvent(\"volume\", newVolume);\n\n        if (this.backend.isMuted !== this.isMuted) {\n          this.isMuted = this.backend.isMuted;\n          this.fireEvent(\"mute\", this.isMuted);\n        }\n      });\n    }\n  }\n\n  /**\n   * Create the peak cache\n   *\n   * @private\n   */\n  createPeakCache() {\n    if (this.params.partialRender) {\n      this.peakCache = new PeakCache();\n    }\n  }\n\n  /**\n   * Get the duration of the audio clip\n   *\n   * @example const duration = wavesurfer.getDuration();\n   * @return {number} Duration in seconds\n   */\n  getDuration() {\n    return this.backend.getDuration();\n  }\n\n  /**\n   * Get the current playback position\n   *\n   * @example const currentTime = wavesurfer.getCurrentTime();\n   * @return {number} Playback position in seconds\n   */\n  getCurrentTime() {\n    return this.backend.getCurrentTime();\n  }\n\n  /**\n   * Set the current play time in seconds.\n   *\n   * @param {number} seconds A positive number in seconds. E.g. 10 means 10\n   * seconds, 60 means 1 minute\n   */\n  setCurrentTime(seconds) {\n    if (seconds >= this.getDuration()) {\n      this.seekTo(1);\n    } else {\n      this.seekTo(seconds / this.getDuration());\n    }\n  }\n\n  /**\n   * Starts playback from the current position. Optional start and end\n   * measured in seconds can be used to set the range of audio to play.\n   *\n   * @param {?number} start Position to start at\n   * @param {?number} end Position to end at\n   * @emits WaveSurfer#interaction\n   * @return {Promise} Result of the backend play method\n   * @example\n   * // play from second 1 to 5\n   * wavesurfer.play(1, 5);\n   */\n  play(start, end) {\n    this.fireEvent(\"interaction\", () => this.play(start, end));\n    return this.backend.play(start, end);\n  }\n\n  /**\n   * Set a point in seconds for playback to stop at.\n   *\n   * @param {number} position Position (in seconds) to stop at\n   * @version 3.3.0\n   */\n  setPlayEnd(position) {\n    this.backend.setPlayEnd(position);\n  }\n\n  /**\n   * Stops and pauses playback\n   *\n   * @example wavesurfer.pause();\n   * @return {Promise} Result of the backend pause method\n   */\n  pause() {\n    if (!this.backend.isPaused()) {\n      return this.backend.pause();\n    }\n  }\n\n  /**\n   * Toggle playback\n   *\n   * @example wavesurfer.playPause();\n   * @return {Promise} Result of the backend play or pause method\n   */\n  playPause() {\n    return this.backend.isPaused() ? this.play() : this.pause();\n  }\n\n  /**\n   * Get the current playback state\n   *\n   * @example const isPlaying = wavesurfer.isPlaying();\n   * @return {boolean} False if paused, true if playing\n   */\n  isPlaying() {\n    return !this.backend.isPaused();\n  }\n\n  /**\n   * Skip backward\n   *\n   * @param {?number} seconds Amount to skip back, if not specified `skipLength`\n   * is used\n   * @example wavesurfer.skipBackward();\n   */\n  skipBackward(seconds) {\n    this.skip(-seconds || -this.params.skipLength);\n  }\n\n  /**\n   * Skip forward\n   *\n   * @param {?number} seconds Amount to skip back, if not specified `skipLength`\n   * is used\n   * @example wavesurfer.skipForward();\n   */\n  skipForward(seconds) {\n    this.skip(seconds || this.params.skipLength);\n  }\n\n  /**\n   * Skip a number of seconds from the current position (use a negative value\n   * to go backwards).\n   *\n   * @param {number} offset Amount to skip back or forwards\n   * @example\n   * // go back 2 seconds\n   * wavesurfer.skip(-2);\n   */\n  skip(offset) {\n    const duration = this.getDuration() || 1;\n    let position = this.getCurrentTime() || 0;\n    position = Math.max(0, Math.min(duration, position + (offset || 0)));\n    this.seekAndCenter(position / duration);\n  }\n\n  /**\n   * Seeks to a position and centers the view\n   *\n   * @param {number} progress Between 0 (=beginning) and 1 (=end)\n   * @example\n   * // seek and go to the middle of the audio\n   * wavesurfer.seekTo(0.5);\n   */\n  seekAndCenter(progress) {\n    this.seekTo(progress);\n    this.drawer.recenter(progress);\n  }\n\n  /**\n   * Seeks to a position\n   *\n   * @param {number} progress Between 0 (=beginning) and 1 (=end)\n   * @emits WaveSurfer#interaction\n   * @emits WaveSurfer#seek\n   * @example\n   * // seek to the middle of the audio\n   * wavesurfer.seekTo(0.5);\n   */\n  seekTo(progress) {\n    // return an error if progress is not a number between 0 and 1\n    if (\n      typeof progress !== \"number\" ||\n      !isFinite(progress) ||\n      progress < 0 ||\n      progress > 1\n    ) {\n      throw new Error(\n        \"Error calling wavesurfer.seekTo, parameter must be a number between 0 and 1!\"\n      );\n    }\n    this.fireEvent(\"interaction\", () => this.seekTo(progress));\n\n    const paused = this.backend.isPaused();\n    // avoid draw wrong position while playing backward seeking\n    if (!paused) {\n      this.backend.pause();\n    }\n    // avoid small scrolls while paused seeking\n    const oldScrollParent = this.params.scrollParent;\n    this.params.scrollParent = false;\n    this.backend.seekTo(progress * this.getDuration());\n    this.drawer.progress(progress);\n\n    if (!paused) {\n      this.backend.play();\n    }\n    this.params.scrollParent = oldScrollParent;\n    this.fireEvent(\"seek\", progress);\n  }\n\n  /**\n   * Stops and goes to the beginning.\n   *\n   * @example wavesurfer.stop();\n   */\n  stop() {\n    this.pause();\n    this.seekTo(0);\n    this.drawer.progress(0);\n  }\n\n  /**\n   * Sets the ID of the audio device to use for output and returns a Promise.\n   *\n   * @param {string} deviceId String value representing underlying output\n   * device\n   * @returns {Promise} `Promise` that resolves to `undefined` when there are\n   * no errors detected.\n   */\n  setSinkId(deviceId) {\n    return this.backend.setSinkId(deviceId);\n  }\n\n  /**\n   * Set the playback volume.\n   *\n   * @param {number} newVolume A value between 0 and 1, 0 being no\n   * volume and 1 being full volume.\n   * @emits WaveSurfer#volume\n   */\n  setVolume(newVolume) {\n    this.backend.setVolume(newVolume);\n    this.fireEvent(\"volume\", newVolume);\n  }\n\n  /**\n   * Get the playback volume.\n   *\n   * @return {number} A value between 0 and 1, 0 being no\n   * volume and 1 being full volume.\n   */\n  getVolume() {\n    return this.backend.getVolume();\n  }\n\n  /**\n   * Set the playback rate.\n   *\n   * @param {number} rate A positive number. E.g. 0.5 means half the normal\n   * speed, 2 means double speed and so on.\n   * @example wavesurfer.setPlaybackRate(2);\n   */\n  setPlaybackRate(rate) {\n    this.backend.setPlaybackRate(rate);\n  }\n\n  /**\n   * Get the playback rate.\n   *\n   * @return {number} The current playback rate.\n   */\n  getPlaybackRate() {\n    return this.backend.getPlaybackRate();\n  }\n\n  /**\n   * Toggle the volume on and off. If not currently muted it will save the\n   * current volume value and turn the volume off. If currently muted then it\n   * will restore the volume to the saved value, and then rest the saved\n   * value.\n   *\n   * @example wavesurfer.toggleMute();\n   */\n  toggleMute() {\n    this.setMute(!this.isMuted);\n  }\n\n  /**\n   * Enable or disable muted audio\n   *\n   * @param {boolean} mute Specify `true` to mute audio.\n   * @emits WaveSurfer#volume\n   * @emits WaveSurfer#mute\n   * @example\n   * // unmute\n   * wavesurfer.setMute(false);\n   * console.log(wavesurfer.getMute()) // logs false\n   */\n  setMute(mute) {\n    // ignore all muting requests if the audio is already in that state\n    if (mute === this.isMuted) {\n      this.fireEvent(\"mute\", this.isMuted);\n      return;\n    }\n\n    if (mute) {\n      // If currently not muted then save current volume,\n      // turn off the volume and update the mute properties\n      this.savedVolume = this.backend.getVolume();\n      this.backend.setVolume(0);\n      this.isMuted = true;\n      this.fireEvent(\"volume\", 0);\n    } else {\n      // If currently muted then restore to the saved volume\n      // and update the mute properties\n      this.backend.setVolume(this.savedVolume);\n      this.isMuted = false;\n      this.fireEvent(\"volume\", this.savedVolume);\n    }\n    this.fireEvent(\"mute\", this.isMuted);\n  }\n\n  /**\n   * Get the current mute status.\n   *\n   * @example const isMuted = wavesurfer.getMute();\n   * @return {boolean} Current mute status\n   */\n  getMute() {\n    return this.isMuted;\n  }\n\n  /**\n   * Get the list of current set filters as an array.\n   *\n   * Filters must be set with setFilters method first\n   *\n   * @return {array} List of enabled filters\n   */\n  getFilters() {\n    return this.backend.filters || [];\n  }\n\n  /**\n   * Toggles `scrollParent` and redraws\n   *\n   * @example wavesurfer.toggleScroll();\n   */\n  toggleScroll() {\n    this.params.scrollParent = !this.params.scrollParent;\n    this.drawBuffer();\n  }\n\n  /**\n   * Toggle mouse interaction\n   *\n   * @example wavesurfer.toggleInteraction();\n   */\n  toggleInteraction() {\n    this.params.interact = !this.params.interact;\n  }\n\n  /**\n   * Get the fill color of the waveform after the cursor.\n   *\n   * @return {string} A CSS color string.\n   */\n  getWaveColor() {\n    return this.params.waveColor;\n  }\n\n  /**\n   * Set the fill color of the waveform after the cursor.\n   *\n   * @param {string} color A CSS color string.\n   * @example wavesurfer.setWaveColor('#ddd');\n   */\n  setWaveColor(color) {\n    this.params.waveColor = color;\n    this.drawBuffer();\n  }\n\n  /**\n   * Get the fill color of the waveform behind the cursor.\n   *\n   * @return {string} A CSS color string.\n   */\n  getProgressColor() {\n    return this.params.progressColor;\n  }\n\n  /**\n   * Set the fill color of the waveform behind the cursor.\n   *\n   * @param {string} color A CSS color string.\n   * @example wavesurfer.setProgressColor('#400');\n   */\n  setProgressColor(color) {\n    this.params.progressColor = color;\n    this.drawBuffer();\n  }\n\n  /**\n   * Get the background color of the waveform container.\n   *\n   * @return {string} A CSS color string.\n   */\n  getBackgroundColor() {\n    return this.params.backgroundColor;\n  }\n\n  /**\n   * Set the background color of the waveform container.\n   *\n   * @param {string} color A CSS color string.\n   * @example wavesurfer.setBackgroundColor('#FF00FF');\n   */\n  setBackgroundColor(color) {\n    this.params.backgroundColor = color;\n    util.style(this.container, {\n      background: this.params.backgroundColor\n    });\n  }\n\n  /**\n   * Get the fill color of the cursor indicating the playhead\n   * position.\n   *\n   * @return {string} A CSS color string.\n   */\n  getCursorColor() {\n    return this.params.cursorColor;\n  }\n\n  /**\n   * Set the fill color of the cursor indicating the playhead\n   * position.\n   *\n   * @param {string} color A CSS color string.\n   * @example wavesurfer.setCursorColor('#222');\n   */\n  setCursorColor(color) {\n    this.params.cursorColor = color;\n    this.drawer.updateCursor();\n  }\n\n  /**\n   * Get the height of the waveform.\n   *\n   * @return {number} Height measured in pixels.\n   */\n  getHeight() {\n    return this.params.height;\n  }\n\n  /**\n   * Set the height of the waveform.\n   *\n   * @param {number} height Height measured in pixels.\n   * @example wavesurfer.setHeight(200);\n   */\n  setHeight(height) {\n    this.params.height = height;\n    this.drawer.setHeight(height * this.params.pixelRatio);\n    this.drawBuffer();\n  }\n\n  /**\n   * Get the correct peaks for current wave view-port and render wave\n   *\n   * @private\n   * @emits WaveSurfer#redraw\n   */\n  drawBuffer() {\n    const nominalWidth = Math.round(\n      this.getDuration() * this.params.minPxPerSec * this.params.pixelRatio\n    );\n    const parentWidth = this.drawer.getWidth();\n    let width = nominalWidth;\n    // always start at 0 after zooming for scrolling : issue redraw left part\n    let start = 0;\n    let end = Math.max(start + parentWidth, width);\n    // Fill container\n    if (\n      this.params.fillParent &&\n      (!this.params.scrollParent || nominalWidth < parentWidth)\n    ) {\n      width = parentWidth;\n      start = 0;\n      end = width;\n    }\n\n    let peaks;\n    if (this.params.partialRender) {\n      const newRanges = this.peakCache.addRangeToPeakCache(width, start, end);\n      let i;\n      for (i = 0; i < newRanges.length; i++) {\n        peaks = this.backend.getPeaks(width, newRanges[i][0], newRanges[i][1]);\n        this.drawer.drawPeaks(peaks, width, newRanges[i][0], newRanges[i][1]);\n      }\n    } else {\n      peaks = this.backend.getPeaks(width, start, end);\n      this.drawer.drawPeaks(peaks, width, start, end);\n    }\n    this.fireEvent(\"redraw\", peaks, width);\n  }\n\n  /**\n   * Horizontally zooms the waveform in and out. It also changes the parameter\n   * `minPxPerSec` and enables the `scrollParent` option. Calling the function\n   * with a falsey parameter will reset the zoom state.\n   *\n   * @param {?number} pxPerSec Number of horizontal pixels per second of\n   * audio, if none is set the waveform returns to unzoomed state\n   * @emits WaveSurfer#zoom\n   * @example wavesurfer.zoom(20);\n   */\n  zoom(pxPerSec) {\n    if (!pxPerSec) {\n      this.params.minPxPerSec = this.defaultParams.minPxPerSec;\n      this.params.scrollParent = false;\n    } else {\n      this.params.minPxPerSec = pxPerSec;\n      this.params.scrollParent = true;\n    }\n\n    this.drawBuffer();\n    this.drawer.progress(this.backend.getPlayedPercents());\n\n    this.drawer.recenter(this.getCurrentTime() / this.getDuration());\n    this.fireEvent(\"zoom\", pxPerSec);\n  }\n\n  /**\n   * Decode buffer and load\n   *\n   * @private\n   * @param {ArrayBuffer} arraybuffer Buffer to process\n   */\n  loadArrayBuffer(arraybuffer) {\n    this.decodeArrayBuffer(arraybuffer, data => {\n      if (!this.isDestroyed) {\n        this.loadDecodedBuffer(data);\n      }\n    });\n  }\n\n  /**\n   * Directly load an externally decoded AudioBuffer\n   *\n   * @private\n   * @param {AudioBuffer} buffer Buffer to process\n   * @emits WaveSurfer#ready\n   */\n  loadDecodedBuffer(buffer) {\n    this.backend.load(buffer);\n    this.drawBuffer();\n    this.isReady = true;\n    this.fireEvent(\"ready\");\n  }\n\n  /**\n   * Loads audio data from a Blob or File object\n   *\n   * @param {Blob|File} blob Audio data\n   * @example\n   */\n  loadBlob(blob) {\n    // Create file reader\n    const reader = new FileReader();\n    reader.addEventListener(\"progress\", e => this.onProgress(e));\n    reader.addEventListener(\"load\", e => this.loadArrayBuffer(e.target.result));\n    reader.addEventListener(\"error\", () =>\n      this.fireEvent(\"error\", \"Error reading file\")\n    );\n    reader.readAsArrayBuffer(blob);\n    this.empty();\n  }\n\n  /**\n   * Loads audio and re-renders the waveform.\n   *\n   * @param {string|HTMLMediaElement} url The url of the audio file or the\n   * audio element with the audio\n   * @param {number[]|Number.<Array[]>} peaks Wavesurfer does not have to decode\n   * the audio to render the waveform if this is specified\n   * @param {?string} preload (Use with backend `MediaElement` and `MediaElementWebAudio`)\n   * `'none'|'metadata'|'auto'` Preload attribute for the media element\n   * @param {?number} duration The duration of the audio. This is used to\n   * render the peaks data in the correct size for the audio duration (as\n   * befits the current `minPxPerSec` and zoom value) without having to decode\n   * the audio.\n   * @returns {void}\n   * @throws Will throw an error if the `url` argument is empty.\n   * @example\n   * // uses fetch or media element to load file (depending on backend)\n   * wavesurfer.load('http://example.com/demo.wav');\n   *\n   * // setting preload attribute with media element backend and supplying\n   * // peaks\n   * wavesurfer.load(\n   *   'http://example.com/demo.wav',\n   *   [0.0218, 0.0183, 0.0165, 0.0198, 0.2137, 0.2888],\n   *   true\n   * );\n   */\n  load(url, peaks, preload, duration) {\n    if (!url) {\n      throw new Error(\"url parameter cannot be empty\");\n    }\n    this.empty();\n    if (preload) {\n      // check whether the preload attribute will be usable and if not log\n      // a warning listing the reasons why not and nullify the variable\n      const preloadIgnoreReasons = {\n        \"Preload is not 'auto', 'none' or 'metadata'\":\n          [\"auto\", \"metadata\", \"none\"].indexOf(preload) === -1,\n        \"Peaks are not provided\": !peaks,\n        \"Backend is not of type 'MediaElement' or 'MediaElementWebAudio'\":\n          [\"MediaElement\", \"MediaElementWebAudio\"].indexOf(\n            this.params.backend\n          ) === -1,\n        \"Url is not of type string\": typeof url !== \"string\"\n      };\n      const activeReasons = Object.keys(preloadIgnoreReasons).filter(\n        reason => preloadIgnoreReasons[reason]\n      );\n      if (activeReasons.length) {\n        // eslint-disable-next-line no-console\n        console.warn(\n          \"Preload parameter of wavesurfer.load will be ignored because:\\n\\t- \" +\n            activeReasons.join(\"\\n\\t- \")\n        );\n        // stop invalid values from being used\n        preload = null;\n      }\n    }\n\n    switch (this.params.backend) {\n      case \"WebAudio\":\n        return this.loadBuffer(url, peaks, duration);\n      case \"MediaElement\":\n      case \"MediaElementWebAudio\":\n        return this.loadMediaElement(url, peaks, preload, duration);\n    }\n  }\n\n  /**\n   * Loads audio using Web Audio buffer backend.\n   *\n   * @private\n   * @param {string} url URL of audio file\n   * @param {number[]|Number.<Array[]>} peaks Peaks data\n   * @param {?number} duration Optional duration of audio file\n   * @returns {void}\n   */\n  loadBuffer(url, peaks, duration) {\n    const load = action => {\n      if (action) {\n        this.tmpEvents.push(this.once(\"ready\", action));\n      }\n      return this.getArrayBuffer(url, data => this.loadArrayBuffer(data));\n    };\n\n    if (peaks) {\n      this.backend.setPeaks(peaks, duration);\n      this.drawBuffer();\n      this.tmpEvents.push(this.once(\"interaction\", load));\n    } else {\n      return load();\n    }\n  }\n\n  /**\n   * Either create a media element, or load an existing media element.\n   *\n   * @private\n   * @param {string|HTMLMediaElement} urlOrElt Either a path to a media file, or an\n   * existing HTML5 Audio/Video Element\n   * @param {number[]|Number.<Array[]>} peaks Array of peaks. Required to bypass web audio\n   * dependency\n   * @param {?boolean} preload Set to true if the preload attribute of the\n   * audio element should be enabled\n   * @param {?number} duration Optional duration of audio file\n   */\n  loadMediaElement(urlOrElt, peaks, preload, duration) {\n    let url = urlOrElt;\n\n    if (typeof urlOrElt === \"string\") {\n      this.backend.load(url, this.mediaContainer, peaks, preload);\n    } else {\n      const elt = urlOrElt;\n      this.backend.loadElt(elt, peaks);\n\n      // If peaks are not provided,\n      // url = element.src so we can get peaks with web audio\n      url = elt.src;\n    }\n\n    this.tmpEvents.push(\n      this.backend.once(\"canplay\", () => {\n        // ignore when backend was already destroyed\n        if (!this.backend.destroyed) {\n          this.drawBuffer();\n          this.isReady = true;\n          this.fireEvent(\"ready\");\n        }\n      }),\n      this.backend.once(\"error\", err => this.fireEvent(\"error\", err))\n    );\n\n    // If no pre-decoded peaks provided or pre-decoded peaks are\n    // provided with forceDecode flag, attempt to download the\n    // audio file and decode it with Web Audio.\n    if (peaks) {\n      this.backend.setPeaks(peaks, duration);\n    }\n\n    if (\n      (!peaks || this.params.forceDecode) &&\n      this.backend.supportsWebAudio()\n    ) {\n      this.getArrayBuffer(url, arraybuffer => {\n        this.decodeArrayBuffer(arraybuffer, buffer => {\n          this.backend.buffer = buffer;\n          this.backend.setPeaks(null);\n          this.drawBuffer();\n          this.fireEvent(\"waveform-ready\");\n        });\n      });\n    }\n  }\n\n  /**\n   * Decode an array buffer and pass data to a callback\n   *\n   * @private\n   * @param {Object} arraybuffer The array buffer to decode\n   * @param {function} callback The function to call on complete\n   */\n  decodeArrayBuffer(arraybuffer, callback) {\n    this.arraybuffer = arraybuffer;\n    this.backend.decodeArrayBuffer(\n      arraybuffer,\n      data => {\n        // Only use the decoded data if we haven't been destroyed or\n        // another decode started in the meantime\n        if (!this.isDestroyed && this.arraybuffer == arraybuffer) {\n          callback(data);\n          this.arraybuffer = null;\n        }\n      },\n      () => this.fireEvent(\"error\", \"Error decoding audiobuffer\")\n    );\n  }\n\n  /**\n   * Load an array buffer using fetch and pass the result to a callback\n   *\n   * @param {string} url The URL of the file object\n   * @param {function} callback The function to call on complete\n   * @returns {util.fetchFile} fetch call\n   * @private\n   */\n  getArrayBuffer(url, callback) {\n    let options = Object.assign(\n      {\n        url: url,\n        responseType: \"arraybuffer\"\n      },\n      this.params.xhr\n    );\n    const request = util.fetchFile(options);\n\n    this.currentRequest = request;\n\n    this.tmpEvents.push(\n      request.on(\"progress\", e => {\n        this.onProgress(e);\n      }),\n      request.on(\"success\", data => {\n        callback(data);\n        this.currentRequest = null;\n      }),\n      request.on(\"error\", e => {\n        this.fireEvent(\"error\", e);\n        this.currentRequest = null;\n      })\n    );\n\n    return request;\n  }\n\n  /**\n   * Called while the audio file is loading\n   *\n   * @private\n   * @param {Event} e Progress event\n   * @emits WaveSurfer#loading\n   */\n  onProgress(e) {\n    let percentComplete;\n    if (e.lengthComputable) {\n      percentComplete = e.loaded / e.total;\n    } else {\n      // Approximate progress with an asymptotic\n      // function, and assume downloads in the 1-3 MB range.\n      percentComplete = e.loaded / (e.loaded + 1000000);\n    }\n    this.fireEvent(\"loading\", Math.round(percentComplete * 100), e.target);\n  }\n\n  /**\n   * Exports PCM data into a JSON array and opens in a new window.\n   *\n   * @param {number} length=1024 The scale in which to export the peaks\n   * @param {number} accuracy=10000\n   * @param {?boolean} noWindow Set to true to disable opening a new\n   * window with the JSON\n   * @param {number} start Start index\n   * @param {number} end End index\n   * @return {Promise} Promise that resolves with array of peaks\n   */\n  exportPCM(length, accuracy, noWindow, start, end) {\n    length = length || 1024;\n    start = start || 0;\n    accuracy = accuracy || 10000;\n    noWindow = noWindow || false;\n    const peaks = this.backend.getPeaks(length, start, end);\n    const arr = [].map.call(\n      peaks,\n      val => Math.round(val * accuracy) / accuracy\n    );\n    return new Promise((resolve, reject) => {\n      const json = JSON.stringify(arr);\n\n      if (!noWindow) {\n        window.open(\n          \"data:application/json;charset=utf-8,\" + encodeURIComponent(json)\n        );\n      }\n      resolve(json);\n    });\n  }\n\n  /**\n   * Save waveform image as data URI.\n   *\n   * The default format is `'image/png'`. Other supported types are\n   * `'image/jpeg'` and `'image/webp'`.\n   *\n   * @param {string} format='image/png' A string indicating the image format.\n   * The default format type is `'image/png'`.\n   * @param {number} quality=1 A number between 0 and 1 indicating the image\n   * quality to use for image formats that use lossy compression such as\n   * `'image/jpeg'`` and `'image/webp'`.\n   * @param {string} type Image data type to return. Either 'dataURL' (default)\n   * or 'blob'.\n   * @return {string|string[]|Promise} When using `'dataURL'` type this returns\n   * a single data URL or an array of data URLs, one for each canvas. When using\n   * `'blob'` type this returns a `Promise` resolving with an array of `Blob`\n   * instances, one for each canvas.\n   */\n  exportImage(format, quality, type) {\n    if (!format) {\n      format = \"image/png\";\n    }\n    if (!quality) {\n      quality = 1;\n    }\n    if (!type) {\n      type = \"dataURL\";\n    }\n\n    return this.drawer.getImage(format, quality, type);\n  }\n\n  /**\n   * Cancel any fetch request currently in progress\n   */\n  cancelAjax() {\n    if (this.currentRequest && this.currentRequest.controller) {\n      this.currentRequest.controller.abort();\n      this.currentRequest = null;\n    }\n  }\n\n  /**\n   * @private\n   */\n  clearTmpEvents() {\n    this.tmpEvents.forEach(e => e.un());\n  }\n\n  /**\n   * Display empty waveform.\n   */\n  empty() {\n    if (!this.backend.isPaused()) {\n      this.stop();\n      this.backend.disconnectSource();\n    }\n    this.isReady = false;\n    this.cancelAjax();\n    this.clearTmpEvents();\n\n    // empty drawer\n    this.drawer.progress(0);\n    this.drawer.setWidth(0);\n    this.drawer.drawPeaks({ length: this.drawer.getWidth() }, 0);\n  }\n\n  /**\n   * Remove events, elements and disconnect WebAudio nodes.\n   *\n   * @emits WaveSurfer#destroy\n   */\n  destroy() {\n    this.destroyAllPlugins();\n    this.fireEvent(\"destroy\");\n    this.cancelAjax();\n    this.clearTmpEvents();\n    this.unAll();\n    if (this.params.responsive !== false) {\n      window.removeEventListener(\"resize\", this._onResize, true);\n      window.removeEventListener(\"orientationchange\", this._onResize, true);\n    }\n    if (this.backend) {\n      this.backend.destroy();\n    }\n    if (this.drawer) {\n      this.drawer.destroy();\n    }\n    this.isDestroyed = true;\n    this.isReady = false;\n    this.arraybuffer = null;\n  }\n}\n","/**\n * Calculate FFT - Based on https://github.com/corbanbrook/dsp.js\n */\n/* eslint-disable complexity, no-redeclare, no-var, one-var */\nconst FFT = function(bufferSize, sampleRate, windowFunc, alpha) {\n  this.bufferSize = bufferSize;\n  this.sampleRate = sampleRate;\n  this.bandwidth = (2 / bufferSize) * (sampleRate / 2);\n\n  this.sinTable = new Float32Array(bufferSize);\n  this.cosTable = new Float32Array(bufferSize);\n  this.windowValues = new Float32Array(bufferSize);\n  this.reverseTable = new Uint32Array(bufferSize);\n\n  this.peakBand = 0;\n  this.peak = 0;\n\n  var i;\n  switch (windowFunc) {\n    case \"bartlett\":\n      for (i = 0; i < bufferSize; i++) {\n        this.windowValues[i] =\n          (2 / (bufferSize - 1)) *\n          ((bufferSize - 1) / 2 - Math.abs(i - (bufferSize - 1) / 2));\n      }\n      break;\n    case \"bartlettHann\":\n      for (i = 0; i < bufferSize; i++) {\n        this.windowValues[i] =\n          0.62 -\n          0.48 * Math.abs(i / (bufferSize - 1) - 0.5) -\n          0.38 * Math.cos((Math.PI * 2 * i) / (bufferSize - 1));\n      }\n      break;\n    case \"blackman\":\n      alpha = alpha || 0.16;\n      for (i = 0; i < bufferSize; i++) {\n        this.windowValues[i] =\n          (1 - alpha) / 2 -\n          0.5 * Math.cos((Math.PI * 2 * i) / (bufferSize - 1)) +\n          (alpha / 2) * Math.cos((4 * Math.PI * i) / (bufferSize - 1));\n      }\n      break;\n    case \"cosine\":\n      for (i = 0; i < bufferSize; i++) {\n        this.windowValues[i] = Math.cos(\n          (Math.PI * i) / (bufferSize - 1) - Math.PI / 2\n        );\n      }\n      break;\n    case \"gauss\":\n      alpha = alpha || 0.25;\n      for (i = 0; i < bufferSize; i++) {\n        this.windowValues[i] = Math.pow(\n          Math.E,\n          -0.5 *\n            Math.pow(\n              (i - (bufferSize - 1) / 2) / ((alpha * (bufferSize - 1)) / 2),\n              2\n            )\n        );\n      }\n      break;\n    case \"hamming\":\n      for (i = 0; i < bufferSize; i++) {\n        this.windowValues[i] =\n          0.54 - 0.46 * Math.cos((Math.PI * 2 * i) / (bufferSize - 1));\n      }\n      break;\n    case \"hann\":\n    case undefined:\n      for (i = 0; i < bufferSize; i++) {\n        this.windowValues[i] =\n          0.5 * (1 - Math.cos((Math.PI * 2 * i) / (bufferSize - 1)));\n      }\n      break;\n    case \"lanczoz\":\n      for (i = 0; i < bufferSize; i++) {\n        this.windowValues[i] =\n          Math.sin(Math.PI * ((2 * i) / (bufferSize - 1) - 1)) /\n          (Math.PI * ((2 * i) / (bufferSize - 1) - 1));\n      }\n      break;\n    case \"rectangular\":\n      for (i = 0; i < bufferSize; i++) {\n        this.windowValues[i] = 1;\n      }\n      break;\n    case \"triangular\":\n      for (i = 0; i < bufferSize; i++) {\n        this.windowValues[i] =\n          (2 / bufferSize) *\n          (bufferSize / 2 - Math.abs(i - (bufferSize - 1) / 2));\n      }\n      break;\n    default:\n      throw Error(\"No such window function '\" + windowFunc + \"'\");\n  }\n\n  var limit = 1;\n  var bit = bufferSize >> 1;\n  var i;\n\n  while (limit < bufferSize) {\n    for (i = 0; i < limit; i++) {\n      this.reverseTable[i + limit] = this.reverseTable[i] + bit;\n    }\n\n    limit = limit << 1;\n    bit = bit >> 1;\n  }\n\n  for (i = 0; i < bufferSize; i++) {\n    this.sinTable[i] = Math.sin(-Math.PI / i);\n    this.cosTable[i] = Math.cos(-Math.PI / i);\n  }\n\n  this.calculateSpectrum = function(buffer) {\n    // Locally scope variables for speed up\n    var bufferSize = this.bufferSize,\n      cosTable = this.cosTable,\n      sinTable = this.sinTable,\n      reverseTable = this.reverseTable,\n      real = new Float32Array(bufferSize),\n      imag = new Float32Array(bufferSize),\n      bSi = 2 / this.bufferSize,\n      sqrt = Math.sqrt,\n      rval,\n      ival,\n      mag,\n      spectrum = new Float32Array(bufferSize / 2);\n\n    var k = Math.floor(Math.log(bufferSize) / Math.LN2);\n\n    if (Math.pow(2, k) !== bufferSize) {\n      throw \"Invalid buffer size, must be a power of 2.\";\n    }\n    if (bufferSize !== buffer.length) {\n      throw \"Supplied buffer is not the same size as defined FFT. FFT Size: \" +\n        bufferSize +\n        \" Buffer Size: \" +\n        buffer.length;\n    }\n\n    var halfSize = 1,\n      phaseShiftStepReal,\n      phaseShiftStepImag,\n      currentPhaseShiftReal,\n      currentPhaseShiftImag,\n      off,\n      tr,\n      ti,\n      tmpReal;\n\n    for (var i = 0; i < bufferSize; i++) {\n      real[i] = buffer[reverseTable[i]] * this.windowValues[reverseTable[i]];\n      imag[i] = 0;\n    }\n\n    while (halfSize < bufferSize) {\n      phaseShiftStepReal = cosTable[halfSize];\n      phaseShiftStepImag = sinTable[halfSize];\n\n      currentPhaseShiftReal = 1;\n      currentPhaseShiftImag = 0;\n\n      for (var fftStep = 0; fftStep < halfSize; fftStep++) {\n        var i = fftStep;\n\n        while (i < bufferSize) {\n          off = i + halfSize;\n          tr =\n            currentPhaseShiftReal * real[off] -\n            currentPhaseShiftImag * imag[off];\n          ti =\n            currentPhaseShiftReal * imag[off] +\n            currentPhaseShiftImag * real[off];\n\n          real[off] = real[i] - tr;\n          imag[off] = imag[i] - ti;\n          real[i] += tr;\n          imag[i] += ti;\n\n          i += halfSize << 1;\n        }\n\n        tmpReal = currentPhaseShiftReal;\n        currentPhaseShiftReal =\n          tmpReal * phaseShiftStepReal -\n          currentPhaseShiftImag * phaseShiftStepImag;\n        currentPhaseShiftImag =\n          tmpReal * phaseShiftStepImag +\n          currentPhaseShiftImag * phaseShiftStepReal;\n      }\n\n      halfSize = halfSize << 1;\n    }\n\n    for (var i = 0, N = bufferSize / 2; i < N; i++) {\n      rval = real[i];\n      ival = imag[i];\n      mag = bSi * sqrt(rval * rval + ival * ival);\n\n      if (mag > this.peak) {\n        this.peakBand = i;\n        this.peak = mag;\n      }\n      spectrum[i] = mag;\n    }\n    return spectrum;\n  };\n};\n/* eslint-enable complexity, no-redeclare, no-var, one-var */\n\n/**\n * @typedef {Object} SpectrogramPluginParams\n * @property {string|HTMLElement} container Selector of element or element in\n * which to render\n * @property {number} fftSamples=512 Number of samples to fetch to FFT. Must be\n * a power of 2.\n * @property {boolean} labels Set to true to display frequency labels.\n * @property {number} noverlap Size of the overlapping window. Must be <\n * fftSamples. Auto deduced from canvas size by default.\n * @property {string} windowFunc='hann' The window function to be used. One of\n * these: `'bartlett'`, `'bartlettHann'`, `'blackman'`, `'cosine'`, `'gauss'`,\n * `'hamming'`, `'hann'`, `'lanczoz'`, `'rectangular'`, `'triangular'`\n * @property {?number} alpha Some window functions have this extra value.\n * (Between 0 and 1)\n * @property {number} pixelRatio=wavesurfer.params.pixelRatio to control the\n * size of the spectrogram in relation with its canvas. 1 = Draw on the whole\n * canvas. 2 = Draw on a quarter (1/2 the length and 1/2 the width)\n * @property {?boolean} deferInit Set to true to manually call\n * `initPlugin('spectrogram')`\n * @property {?number[][]} colorMap A 256 long array of 4-element arrays.\n * Each entry should contain a float between 0 and 1 and specify\n * r, g, b, and alpha.\n */\n\n/**\n * Render a spectrogram visualisation of the audio.\n *\n * @implements {PluginClass}\n * @extends {Observer}\n * @example\n * // es6\n * import SpectrogramPlugin from 'wavesurfer.spectrogram.js';\n *\n * // commonjs\n * var SpectrogramPlugin = require('wavesurfer.spectrogram.js');\n *\n * // if you are using <script> tags\n * var SpectrogramPlugin = window.WaveSurfer.spectrogram;\n *\n * // ... initialising wavesurfer with the plugin\n * var wavesurfer = WaveSurfer.create({\n *   // wavesurfer options ...\n *   plugins: [\n *     SpectrogramPlugin.create({\n *       // plugin options ...\n *     })\n *   ]\n * });\n */\nexport default class SpectrogramPlugin {\n  /**\n   * Spectrogram plugin definition factory\n   *\n   * This function must be used to create a plugin definition which can be\n   * used by wavesurfer to correctly instantiate the plugin.\n   *\n   * @param  {SpectrogramPluginParams} params Parameters used to initialise the plugin\n   * @return {PluginDefinition} An object representing the plugin.\n   */\n  static create(params) {\n    return {\n      name: \"spectrogram\",\n      deferInit: params && params.deferInit ? params.deferInit : false,\n      params: params,\n      staticProps: {\n        FFT: FFT\n      },\n      instance: SpectrogramPlugin\n    };\n  }\n\n  constructor(params, ws) {\n    this.params = params;\n    this.wavesurfer = ws;\n    this.util = ws.util;\n\n    this.frequenciesDataUrl = params.frequenciesDataUrl;\n    this._onScroll = e => {\n      this.updateScroll(e);\n    };\n    this._onRender = () => {\n      this.render();\n    };\n    this._onWrapperClick = e => {\n      this._wrapperClickHandler(e);\n    };\n    this._onReady = () => {\n      const drawer = (this.drawer = ws.drawer);\n\n      this.container =\n        \"string\" == typeof params.container\n          ? document.querySelector(params.container)\n          : params.container;\n\n      if (!this.container) {\n        throw Error(\"No container for WaveSurfer spectrogram\");\n      }\n      if (params.colorMap) {\n        if (params.colorMap.length < 256) {\n          throw new Error(\"Colormap must contain 256 elements\");\n        }\n        for (let i = 0; i < params.colorMap.length; i++) {\n          const cmEntry = params.colorMap[i];\n          if (cmEntry.length !== 4) {\n            throw new Error(\"ColorMap entries must contain 4 values\");\n          }\n        }\n        this.colorMap = params.colorMap;\n      } else {\n        this.colorMap = [];\n        for (let i = 0; i < 256; i++) {\n          const val = (255 - i) / 256;\n          this.colorMap.push([val, val, val, 1]);\n        }\n      }\n      this.width = drawer.width;\n      this.pixelRatio = this.params.pixelRatio || ws.params.pixelRatio;\n      this.fftSamples = this.params.fftSamples || ws.params.fftSamples || 512;\n      this.height = this.fftSamples / 2;\n      this.noverlap = params.noverlap;\n      this.windowFunc = params.windowFunc;\n      this.alpha = params.alpha;\n\n      this.createWrapper();\n      this.createCanvas();\n      this.render();\n\n      drawer.wrapper.addEventListener(\"scroll\", this._onScroll);\n      ws.on(\"redraw\", this._onRender);\n    };\n  }\n\n  init() {\n    // Check if wavesurfer is ready\n    if (this.wavesurfer.isReady) {\n      this._onReady();\n    } else {\n      this.wavesurfer.once(\"ready\", this._onReady);\n    }\n  }\n\n  destroy() {\n    this.unAll();\n    this.wavesurfer.un(\"ready\", this._onReady);\n    this.wavesurfer.un(\"redraw\", this._onRender);\n    this.drawer.wrapper.removeEventListener(\"scroll\", this._onScroll);\n    this.wavesurfer = null;\n    this.util = null;\n    this.params = null;\n    if (this.wrapper) {\n      this.wrapper.removeEventListener(\"click\", this._onWrapperClick);\n      this.wrapper.parentNode.removeChild(this.wrapper);\n      this.wrapper = null;\n    }\n  }\n\n  createWrapper() {\n    const prevSpectrogram = this.container.querySelector(\"spectrogram\");\n    if (prevSpectrogram) {\n      this.container.removeChild(prevSpectrogram);\n    }\n    const wsParams = this.wavesurfer.params;\n    this.wrapper = document.createElement(\"spectrogram\");\n    // if labels are active\n    if (this.params.labels) {\n      const labelsEl = (this.labelsEl = document.createElement(\"canvas\"));\n      labelsEl.classList.add(\"spec-labels\");\n      this.drawer.style(labelsEl, {\n        left: 0,\n        position: \"absolute\",\n        zIndex: 9,\n        height: `${this.height / this.pixelRatio}px`,\n        width: `${55 / this.pixelRatio}px`\n      });\n      this.wrapper.appendChild(labelsEl);\n      this.loadLabels(\n        \"rgba(68,68,68,0.5)\",\n        \"12px\",\n        \"10px\",\n        \"\",\n        \"#fff\",\n        \"#f7f7f7\",\n        \"center\",\n        \"#specLabels\"\n      );\n    }\n\n    this.drawer.style(this.wrapper, {\n      display: \"block\",\n      position: \"relative\",\n      userSelect: \"none\",\n      webkitUserSelect: \"none\",\n      height: `${this.height / this.pixelRatio}px`\n    });\n\n    if (wsParams.fillParent || wsParams.scrollParent) {\n      this.drawer.style(this.wrapper, {\n        width: \"100%\",\n        overflowX: \"hidden\",\n        overflowY: \"hidden\"\n      });\n    }\n    this.container.appendChild(this.wrapper);\n\n    this.wrapper.addEventListener(\"click\", this._onWrapperClick);\n  }\n\n  _wrapperClickHandler(event) {\n    event.preventDefault();\n    const relX = \"offsetX\" in event ? event.offsetX : event.layerX;\n    this.fireEvent(\"click\", relX / this.width || 0);\n  }\n\n  createCanvas() {\n    const canvas = (this.canvas = this.wrapper.appendChild(\n      document.createElement(\"canvas\")\n    ));\n\n    this.spectrCc = canvas.getContext(\"2d\");\n\n    this.util.style(canvas, {\n      position: \"absolute\",\n      zIndex: 4\n    });\n  }\n\n  render() {\n    this.updateCanvasStyle();\n\n    if (this.frequenciesDataUrl) {\n      this.loadFrequenciesData(this.frequenciesDataUrl);\n    } else {\n      this.getFrequencies(this.drawSpectrogram);\n    }\n  }\n\n  updateCanvasStyle() {\n    const width = Math.round(this.width / this.pixelRatio) + \"px\";\n    this.canvas.width = this.width;\n    this.canvas.height = this.height;\n    this.canvas.style.width = width;\n  }\n\n  drawSpectrogram(frequenciesData, my) {\n    const height = my.height;\n    const pixels = my.resample(frequenciesData);\n    const heightFactor = my.buffer ? 2 / my.buffer.numberOfChannels : 1;\n    let i;\n    let j;\n\n    for (i = 0; i < pixels.length; i++) {\n      for (j = 0; j < pixels[i].length; j++) {\n        const colorMap = my.colorMap[pixels[i][j]];\n        my.spectrCc.fillStyle =\n          \"rgba(\" +\n          colorMap[0] * 256 +\n          \", \" +\n          colorMap[1] * 256 +\n          \", \" +\n          colorMap[2] * 256 +\n          \",\" +\n          colorMap[3] +\n          \")\";\n        my.spectrCc.fillRect(i, height - j * heightFactor, 1, heightFactor);\n      }\n    }\n  }\n\n  getFrequencies(callback) {\n    const fftSamples = this.fftSamples;\n    const buffer = (this.buffer = this.wavesurfer.backend.buffer);\n    if (!buffer) {\n      this.fireEvent(\"error\", \"Web Audio buffer is not available\");\n      return;\n    }\n    const channelOne = buffer.getChannelData(0);\n    const sampleRate = buffer.sampleRate;\n    const frequencies = [];\n\n    let noverlap = this.noverlap;\n    if (!noverlap) {\n      const uniqueSamplesPerPx = buffer.length / this.canvas.width;\n      noverlap = Math.max(0, Math.round(fftSamples - uniqueSamplesPerPx));\n    }\n\n    const fft = new FFT(fftSamples, sampleRate, this.windowFunc, this.alpha);\n    let currentOffset = 0;\n\n    while (currentOffset + fftSamples < channelOne.length) {\n      const segment = channelOne.slice(\n        currentOffset,\n        currentOffset + fftSamples\n      );\n      const spectrum = fft.calculateSpectrum(segment);\n      const array = new Uint8Array(fftSamples / 2);\n      let j;\n      for (j = 0; j < fftSamples / 2; j++) {\n        array[j] = Math.max(-255, Math.log10(spectrum[j]) * 45);\n      }\n      frequencies.push(array);\n      currentOffset += fftSamples - noverlap;\n    }\n    callback(frequencies, this);\n  }\n\n  loadFrequenciesData(url) {\n    const request = this.util.fetchFile({ url: url });\n\n    request.on(\"success\", data => this.drawSpectrogram(JSON.parse(data), this));\n    request.on(\"error\", e => this.fireEvent(\"error\", e));\n\n    return request;\n  }\n\n  freqType(freq) {\n    return freq >= 1000 ? (freq / 1000).toFixed(1) : Math.round(freq);\n  }\n\n  unitType(freq) {\n    return freq >= 1000 ? \"KHz\" : \"Hz\";\n  }\n\n  loadLabels(\n    bgFill,\n    fontSizeFreq,\n    fontSizeUnit,\n    fontType,\n    textColorFreq,\n    textColorUnit,\n    textAlign\n  ) {\n    const frequenciesHeight = this.height;\n    bgFill = bgFill || \"rgba(68,68,68,0)\";\n    fontSizeFreq = fontSizeFreq || \"12px\";\n    fontSizeUnit = fontSizeUnit || \"10px\";\n    fontType = fontType || \"Helvetica\";\n    textColorFreq = textColorFreq || \"#fff\";\n    textColorUnit = textColorUnit || \"#fff\";\n    textAlign = textAlign || \"center\";\n    const bgWidth = 55;\n    const getMaxY = frequenciesHeight || 512;\n    const labelIndex = 5 * (getMaxY / 256);\n    const freqStart = 0;\n    const step =\n      (this.wavesurfer.backend.ac.sampleRate / 2 - freqStart) / labelIndex;\n\n    // prepare canvas element for labels\n    const ctx = this.labelsEl.getContext(\"2d\");\n    this.labelsEl.height = this.height;\n    this.labelsEl.width = bgWidth;\n\n    // fill background\n    ctx.fillStyle = bgFill;\n    ctx.fillRect(0, 0, bgWidth, getMaxY);\n    ctx.fill();\n    let i;\n\n    // render labels\n    for (i = 0; i <= labelIndex; i++) {\n      ctx.textAlign = textAlign;\n      ctx.textBaseline = \"middle\";\n\n      const freq = freqStart + step * i;\n      const label = this.freqType(freq);\n      const units = this.unitType(freq);\n      const yLabelOffset = 2;\n      const x = 16;\n      let y;\n\n      if (i == 0) {\n        y = getMaxY + i - 10;\n        // unit label\n        ctx.fillStyle = textColorUnit;\n        ctx.font = fontSizeUnit + \" \" + fontType;\n        ctx.fillText(units, x + 24, y);\n        // freq label\n        ctx.fillStyle = textColorFreq;\n        ctx.font = fontSizeFreq + \" \" + fontType;\n        ctx.fillText(label, x, y);\n      } else {\n        y = getMaxY - i * 50 + yLabelOffset;\n        // unit label\n        ctx.fillStyle = textColorUnit;\n        ctx.font = fontSizeUnit + \" \" + fontType;\n        ctx.fillText(units, x + 24, y);\n        // freq label\n        ctx.fillStyle = textColorFreq;\n        ctx.font = fontSizeFreq + \" \" + fontType;\n        ctx.fillText(label, x, y);\n      }\n    }\n  }\n\n  updateScroll(e) {\n    if (this.wrapper) {\n      this.wrapper.scrollLeft = e.target.scrollLeft;\n    }\n  }\n\n  resample(oldMatrix) {\n    const columnsNumber = this.width;\n    const newMatrix = [];\n\n    const oldPiece = 1 / oldMatrix.length;\n    const newPiece = 1 / columnsNumber;\n    let i;\n\n    for (i = 0; i < columnsNumber; i++) {\n      const column = new Array(oldMatrix[0].length);\n      let j;\n\n      for (j = 0; j < oldMatrix.length; j++) {\n        const oldStart = j * oldPiece;\n        const oldEnd = oldStart + oldPiece;\n        const newStart = i * newPiece;\n        const newEnd = newStart + newPiece;\n\n        const overlap =\n          oldEnd <= newStart || newEnd <= oldStart\n            ? 0\n            : Math.min(Math.max(oldEnd, newStart), Math.max(newEnd, oldStart)) -\n              Math.max(Math.min(oldEnd, newStart), Math.min(newEnd, oldStart));\n        let k;\n        /* eslint-disable max-depth */\n        if (overlap > 0) {\n          for (k = 0; k < oldMatrix[0].length; k++) {\n            if (column[k] == null) {\n              column[k] = 0;\n            }\n            column[k] += (overlap / newPiece) * oldMatrix[j][k];\n          }\n        }\n        /* eslint-enable max-depth */\n      }\n\n      const intColumn = new Uint8Array(oldMatrix[0].length);\n      let m;\n\n      for (m = 0; m < oldMatrix[0].length; m++) {\n        intColumn[m] = column[m];\n      }\n\n      newMatrix.push(intColumn);\n    }\n\n    return newMatrix;\n  }\n}\n","/* eslint no-unused-vars: 0 */\n/**\n * @typedef {Object} TimelinePluginParams\n * @desc Extends the `WavesurferParams` wavesurfer was initialised with\n * @property {!string|HTMLElement} container CSS selector or HTML element where\n * the timeline should be drawn. This is the only required parameter.\n * @property {number} notchPercentHeight=90 Height of notches in percent\n * @property {string} unlabeledNotchColor='#c0c0c0' The colour of the notches\n * that do not have labels\n * @property {string} primaryColor='#000' The colour of the main notches\n * @property {string} secondaryColor='#c0c0c0' The colour of the secondary\n * notches\n * @property {string} primaryFontColor='#000' The colour of the labels next to\n * the main notches\n * @property {string} secondaryFontColor='#000' The colour of the labels next to\n * the secondary notches\n * @property {number} labelPadding=5 The padding between the label and the notch\n * @property {?number} zoomDebounce A debounce timeout to increase rendering\n * performance for large files\n * @property {string} fontFamily='Arial'\n * @property {number} fontSize=10 Font size of labels in pixels\n * @property {?number} duration Length of the track in seconds. Overrides\n * getDuration() for setting length of timeline\n * @property {function} formatTimeCallback (sec, pxPerSec) -> label\n * @property {function} timeInterval (pxPerSec) -> seconds between notches\n * @property {function} primaryLabelInterval (pxPerSec) -> cadence between\n * labels in primary color\n * @property {function} secondaryLabelInterval (pxPerSec) -> cadence between\n * labels in secondary color\n * @property {?number} offset Offset for the timeline start in seconds. May also be\n * negative.\n * @property {?boolean} deferInit Set to true to manually call\n * `initPlugin('timeline')`\n */\n\n/**\n * Adds a timeline to the waveform.\n *\n * @implements {PluginClass}\n * @extends {Observer}\n * @example\n * // es6\n * import TimelinePlugin from 'wavesurfer.timeline.js';\n *\n * // commonjs\n * var TimelinePlugin = require('wavesurfer.timeline.js');\n *\n * // if you are using <script> tags\n * var TimelinePlugin = window.WaveSurfer.timeline;\n *\n * // ... initialising wavesurfer with the plugin\n * var wavesurfer = WaveSurfer.create({\n *   // wavesurfer options ...\n *   plugins: [\n *     TimelinePlugin.create({\n *       // plugin options ...\n *     })\n *   ]\n * });\n */\nexport default class TimelinePlugin {\n  /**\n   * Timeline plugin definition factory\n   *\n   * This function must be used to create a plugin definition which can be\n   * used by wavesurfer to correctly instantiate the plugin.\n   *\n   * @param  {TimelinePluginParams} params parameters use to initialise the plugin\n   * @return {PluginDefinition} an object representing the plugin\n   */\n  static create(params) {\n    return {\n      name: \"timeline\",\n      deferInit: params && params.deferInit ? params.deferInit : false,\n      params: params,\n      instance: TimelinePlugin\n    };\n  }\n\n  // event handlers\n  _onScroll = () => {\n    if (this.wrapper && this.drawer.wrapper) {\n      this.wrapper.scrollLeft = this.drawer.wrapper.scrollLeft;\n    }\n  };\n\n  /**\n   * @returns {void}\n   */\n  _onRedraw = () => this.render();\n\n  _onReady = () => {\n    const ws = this.wavesurfer;\n    this.drawer = ws.drawer;\n    this.pixelRatio = ws.drawer.params.pixelRatio;\n    this.maxCanvasWidth = ws.drawer.maxCanvasWidth || ws.drawer.width;\n    this.maxCanvasElementWidth =\n      ws.drawer.maxCanvasElementWidth ||\n      Math.round(this.maxCanvasWidth / this.pixelRatio);\n\n    // add listeners\n    ws.drawer.wrapper.addEventListener(\"scroll\", this._onScroll);\n    ws.on(\"redraw\", this._onRedraw);\n    ws.on(\"zoom\", this._onZoom);\n\n    this.render();\n  };\n\n  /**\n   * @param {object} e Click event\n   */\n  _onWrapperClick = e => {\n    e.preventDefault();\n    const relX = \"offsetX\" in e ? e.offsetX : e.layerX;\n    this.fireEvent(\"click\", relX / this.wrapper.scrollWidth || 0);\n  };\n\n  /**\n   * Creates an instance of TimelinePlugin.\n   *\n   * You probably want to use TimelinePlugin.create()\n   *\n   * @param {TimelinePluginParams} params Plugin parameters\n   * @param {object} ws Wavesurfer instance\n   */\n  constructor(params, ws) {\n    this.container =\n      \"string\" == typeof params.container\n        ? document.querySelector(params.container)\n        : params.container;\n\n    if (!this.container) {\n      throw new Error(\"No container for wavesurfer timeline\");\n    }\n\n    this.wavesurfer = ws;\n    this.util = ws.util;\n    this.params = Object.assign(\n      {},\n      {\n        height: 20,\n        notchPercentHeight: 90,\n        labelPadding: 5,\n        unlabeledNotchColor: \"#c0c0c0\",\n        primaryColor: \"#000\",\n        secondaryColor: \"#c0c0c0\",\n        primaryFontColor: \"#000\",\n        secondaryFontColor: \"#000\",\n        fontFamily: \"Arial\",\n        fontSize: 10,\n        duration: null,\n        zoomDebounce: false,\n        formatTimeCallback: this.defaultFormatTimeCallback,\n        timeInterval: this.defaultTimeInterval,\n        primaryLabelInterval: this.defaultPrimaryLabelInterval,\n        secondaryLabelInterval: this.defaultSecondaryLabelInterval,\n        offset: 0\n      },\n      params\n    );\n\n    this.canvases = [];\n    this.wrapper = null;\n    this.drawer = null;\n    this.pixelRatio = null;\n    this.maxCanvasWidth = null;\n    this.maxCanvasElementWidth = null;\n    /**\n     * This event handler has to be in the constructor function because it\n     * relies on the debounce function which is only available after\n     * instantiation\n     *\n     * Use a debounced function if `params.zoomDebounce` is defined\n     *\n     * @returns {void}\n     */\n    this._onZoom = this.params.zoomDebounce\n      ? this.wavesurfer.util.debounce(\n          () => this.render(),\n          this.params.zoomDebounce\n        )\n      : () => this.render();\n  }\n\n  /**\n   * Initialisation function used by the plugin API\n   */\n  init() {\n    // Check if ws is ready\n    if (this.wavesurfer.isReady) {\n      this._onReady();\n    } else {\n      this.wavesurfer.once(\"ready\", this._onReady);\n    }\n  }\n\n  /**\n   * Destroy function used by the plugin API\n   */\n  destroy() {\n    this.unAll();\n    this.wavesurfer.un(\"redraw\", this._onRedraw);\n    this.wavesurfer.un(\"zoom\", this._onZoom);\n    this.wavesurfer.un(\"ready\", this._onReady);\n    this.wavesurfer.drawer.wrapper.removeEventListener(\n      \"scroll\",\n      this._onScroll\n    );\n    if (this.wrapper && this.wrapper.parentNode) {\n      this.wrapper.removeEventListener(\"click\", this._onWrapperClick);\n      this.wrapper.parentNode.removeChild(this.wrapper);\n      this.wrapper = null;\n    }\n  }\n\n  /**\n   * Create a timeline element to wrap the canvases drawn by this plugin\n   *\n   */\n  createWrapper() {\n    const wsParams = this.wavesurfer.params;\n    this.container.innerHTML = \"\";\n    this.wrapper = this.container.appendChild(\n      document.createElement(\"timeline\")\n    );\n    this.util.style(this.wrapper, {\n      display: \"block\",\n      position: \"relative\",\n      userSelect: \"none\",\n      webkitUserSelect: \"none\",\n      height: `${this.params.height}px`\n    });\n\n    if (wsParams.fillParent || wsParams.scrollParent) {\n      this.util.style(this.wrapper, {\n        width: \"100%\",\n        overflowX: \"hidden\",\n        overflowY: \"hidden\"\n      });\n    }\n\n    this.wrapper.addEventListener(\"click\", this._onWrapperClick);\n  }\n\n  /**\n   * Render the timeline (also updates the already rendered timeline)\n   *\n   */\n  render() {\n    if (!this.wrapper) {\n      this.createWrapper();\n    }\n    this.updateCanvases();\n    this.updateCanvasesPositioning();\n    this.renderCanvases();\n  }\n\n  /**\n   * Add new timeline canvas\n   *\n   */\n  addCanvas() {\n    const canvas = this.wrapper.appendChild(document.createElement(\"canvas\"));\n    this.canvases.push(canvas);\n    this.util.style(canvas, {\n      position: \"absolute\",\n      zIndex: 4\n    });\n  }\n\n  /**\n   * Remove timeline canvas\n   *\n   */\n  removeCanvas() {\n    const canvas = this.canvases.pop();\n    canvas.parentElement.removeChild(canvas);\n  }\n\n  /**\n   * Make sure the correct of timeline canvas elements exist and are cached in\n   * this.canvases\n   *\n   */\n  updateCanvases() {\n    const totalWidth = Math.round(this.drawer.wrapper.scrollWidth);\n    const requiredCanvases = Math.ceil(totalWidth / this.maxCanvasElementWidth);\n\n    while (this.canvases.length < requiredCanvases) {\n      this.addCanvas();\n    }\n\n    while (this.canvases.length > requiredCanvases) {\n      this.removeCanvas();\n    }\n  }\n\n  /**\n   * Update the dimensions and positioning style for all the timeline canvases\n   *\n   */\n  updateCanvasesPositioning() {\n    // cache length for performance\n    const canvasesLength = this.canvases.length;\n    this.canvases.forEach((canvas, i) => {\n      // canvas width is the max element width, or if it is the last the\n      // required width\n      const canvasWidth =\n        i === canvasesLength - 1\n          ? this.drawer.wrapper.scrollWidth -\n            this.maxCanvasElementWidth * (canvasesLength - 1)\n          : this.maxCanvasElementWidth;\n      // set dimensions and style\n      canvas.width = canvasWidth * this.pixelRatio;\n      // on certain pixel ratios the canvas appears cut off at the bottom,\n      // therefore leave 1px extra\n      canvas.height = (this.params.height + 1) * this.pixelRatio;\n      this.util.style(canvas, {\n        width: `${canvasWidth}px`,\n        height: `${this.params.height}px`,\n        left: `${i * this.maxCanvasElementWidth}px`\n      });\n    });\n  }\n\n  /**\n   * Render the timeline labels and notches\n   *\n   */\n  renderCanvases() {\n    const duration =\n      this.params.duration || this.wavesurfer.backend.getDuration();\n\n    if (duration <= 0) {\n      return;\n    }\n    const wsParams = this.wavesurfer.params;\n    const fontSize = this.params.fontSize * wsParams.pixelRatio;\n    const totalSeconds = parseInt(duration, 10) + 1;\n    const width =\n      wsParams.fillParent && !wsParams.scrollParent\n        ? this.drawer.getWidth()\n        : this.drawer.wrapper.scrollWidth * wsParams.pixelRatio;\n    const height1 = this.params.height * this.pixelRatio;\n    const height2 =\n      this.params.height *\n      (this.params.notchPercentHeight / 100) *\n      this.pixelRatio;\n    const pixelsPerSecond = width / duration;\n\n    const formatTime = this.params.formatTimeCallback;\n    // if parameter is function, call the function with\n    // pixelsPerSecond, otherwise simply take the value as-is\n    const intervalFnOrVal = option =>\n      typeof option === \"function\" ? option(pixelsPerSecond) : option;\n    const timeInterval = intervalFnOrVal(this.params.timeInterval);\n    const primaryLabelInterval = intervalFnOrVal(\n      this.params.primaryLabelInterval\n    );\n    const secondaryLabelInterval = intervalFnOrVal(\n      this.params.secondaryLabelInterval\n    );\n\n    let curPixel = pixelsPerSecond * this.params.offset;\n    let curSeconds = 0;\n    let i;\n    // build an array of position data with index, second and pixel data,\n    // this is then used multiple times below\n    const positioning = [];\n    for (i = 0; i < totalSeconds / timeInterval; i++) {\n      positioning.push([i, curSeconds, curPixel]);\n      curSeconds += timeInterval;\n      curPixel += pixelsPerSecond * timeInterval;\n    }\n\n    // iterate over each position\n    const renderPositions = cb => {\n      positioning.forEach(pos => {\n        cb(pos[0], pos[1], pos[2]);\n      });\n    };\n\n    // render primary labels\n    this.setFillStyles(this.params.primaryColor);\n    this.setFonts(`${fontSize}px ${this.params.fontFamily}`);\n    this.setFillStyles(this.params.primaryFontColor);\n    renderPositions((i, curSeconds, curPixel) => {\n      if (i % primaryLabelInterval === 0) {\n        this.fillRect(curPixel, 0, 1, height1);\n        this.fillText(\n          formatTime(curSeconds, pixelsPerSecond),\n          curPixel + this.params.labelPadding * this.pixelRatio,\n          height1\n        );\n      }\n    });\n\n    // render secondary labels\n    this.setFillStyles(this.params.secondaryColor);\n    this.setFonts(`${fontSize}px ${this.params.fontFamily}`);\n    this.setFillStyles(this.params.secondaryFontColor);\n    renderPositions((i, curSeconds, curPixel) => {\n      if (i % secondaryLabelInterval === 0) {\n        this.fillRect(curPixel, 0, 1, height1);\n        this.fillText(\n          formatTime(curSeconds, pixelsPerSecond),\n          curPixel + this.params.labelPadding * this.pixelRatio,\n          height1\n        );\n      }\n    });\n\n    // render the actual notches (when no labels are used)\n    this.setFillStyles(this.params.unlabeledNotchColor);\n    renderPositions((i, curSeconds, curPixel) => {\n      if (i % secondaryLabelInterval !== 0 && i % primaryLabelInterval !== 0) {\n        this.fillRect(curPixel, 0, 1, height2);\n      }\n    });\n  }\n\n  /**\n   * Set the canvas fill style\n   *\n   * @param {DOMString|CanvasGradient|CanvasPattern} fillStyle Fill style to\n   * use\n   */\n  setFillStyles(fillStyle) {\n    this.canvases.forEach(canvas => {\n      canvas.getContext(\"2d\").fillStyle = fillStyle;\n    });\n  }\n\n  /**\n   * Set the canvas font\n   *\n   * @param {DOMString} font Font to use\n   */\n  setFonts(font) {\n    this.canvases.forEach(canvas => {\n      canvas.getContext(\"2d\").font = font;\n    });\n  }\n\n  /**\n   * Draw a rectangle on the canvases\n   *\n   * (it figures out the offset for each canvas)\n   *\n   * @param {number} x X-position\n   * @param {number} y Y-position\n   * @param {number} width Width\n   * @param {number} height Height\n   */\n  fillRect(x, y, width, height) {\n    this.canvases.forEach((canvas, i) => {\n      const leftOffset = i * this.maxCanvasWidth;\n\n      const intersection = {\n        x1: Math.max(x, i * this.maxCanvasWidth),\n        y1: y,\n        x2: Math.min(x + width, i * this.maxCanvasWidth + canvas.width),\n        y2: y + height\n      };\n\n      if (intersection.x1 < intersection.x2) {\n        canvas\n          .getContext(\"2d\")\n          .fillRect(\n            intersection.x1 - leftOffset,\n            intersection.y1,\n            intersection.x2 - intersection.x1,\n            intersection.y2 - intersection.y1\n          );\n      }\n    });\n  }\n\n  /**\n   * Fill a given text on the canvases\n   *\n   * @param {string} text Text to render\n   * @param {number} x X-position\n   * @param {number} y Y-position\n   */\n  fillText(text, x, y) {\n    let textWidth;\n    let xOffset = 0;\n\n    this.canvases.forEach(canvas => {\n      const context = canvas.getContext(\"2d\");\n      const canvasWidth = context.canvas.width;\n\n      if (xOffset > x + textWidth) {\n        return;\n      }\n\n      if (xOffset + canvasWidth > x) {\n        textWidth = context.measureText(text).width;\n        context.fillText(text, x - xOffset, y);\n      }\n\n      xOffset += canvasWidth;\n    });\n  }\n\n  /**\n   * Turn the time into a suitable label for the time.\n   *\n   * @param {number} seconds Seconds to format\n   * @param {number} pxPerSec Pixels per second\n   * @returns {number} Time\n   */\n  defaultFormatTimeCallback(seconds, pxPerSec) {\n    if (seconds / 60 > 1) {\n      // calculate minutes and seconds from seconds count\n      const minutes = parseInt(seconds / 60, 10);\n      seconds = parseInt(seconds % 60, 10);\n      // fill up seconds with zeroes\n      seconds = seconds < 10 ? \"0\" + seconds : seconds;\n      return `${minutes}:${seconds}`;\n    }\n    return Math.round(seconds * 1000) / 1000;\n  }\n\n  /**\n   * Return how many seconds should be between each notch\n   *\n   * @param {number} pxPerSec Pixels per second\n   * @returns {number} Time\n   */\n  defaultTimeInterval(pxPerSec) {\n    if (pxPerSec >= 25) {\n      return 1;\n    } else if (pxPerSec * 5 >= 25) {\n      return 5;\n    } else if (pxPerSec * 15 >= 25) {\n      return 15;\n    }\n    return Math.ceil(0.5 / pxPerSec) * 60;\n  }\n\n  /**\n   * Return the cadence of notches that get labels in the primary color.\n   *\n   * @param {number} pxPerSec Pixels per second\n   * @returns {number} Cadence\n   */\n  defaultPrimaryLabelInterval(pxPerSec) {\n    if (pxPerSec >= 25) {\n      return 10;\n    } else if (pxPerSec * 5 >= 25) {\n      return 6;\n    } else if (pxPerSec * 15 >= 25) {\n      return 4;\n    }\n    return 4;\n  }\n\n  /**\n   * Return the cadence of notches that get labels in the secondary color.\n   *\n   * @param {number} pxPerSec Pixels per second\n   * @returns {number} Cadence\n   */\n  defaultSecondaryLabelInterval(pxPerSec) {\n    if (pxPerSec >= 25) {\n      return 5;\n    } else if (pxPerSec * 5 >= 25) {\n      return 2;\n    } else if (pxPerSec * 15 >= 25) {\n      return 2;\n    }\n    return 2;\n  }\n}\n","/* eslint no-unused-vars: 0 */\n/*eslint no-console: [\"error\", { allow: [\"warn\"] }] */\n/**\n * @typedef {Object} MinimapPluginParams\n * @desc Extends the `WavesurferParams` wavesurfer was initialised with\n * @property {?string|HTMLElement} container CSS selector or HTML element where\n * the map should be rendered. By default it is simply appended\n * after the waveform.\n * @property {?boolean} deferInit Set to true to manually call\n * `initPlugin('minimap')`\n */\n\n/**\n * Renders a smaller version waveform as a minimap of the main waveform.\n *\n * @implements {PluginClass}\n * @extends {Observer}\n * @example\n * // es6\n * import MinimapPlugin from 'wavesurfer.minimap.js';\n *\n * // commonjs\n * var MinimapPlugin = require('wavesurfer.minimap.js');\n *\n * // if you are using <script> tags\n * var MinimapPlugin = window.WaveSurfer.minimap;\n *\n * // ... initialising wavesurfer with the plugin\n * var wavesurfer = WaveSurfer.create({\n *   // wavesurfer options ...\n *   plugins: [\n *     MinimapPlugin.create({\n *       // plugin options ...\n *     })\n *   ]\n * });\n */\nexport default class MinimapPlugin {\n  /**\n   * Minimap plugin definition factory\n   *\n   * This function must be used to create a plugin definition which can be\n   * used by wavesurfer to correctly instantiate the plugin.\n   *\n   * @param  {MinimapPluginParams} params parameters use to initialise the plugin\n   * @return {PluginDefinition} an object representing the plugin\n   */\n  static create(params) {\n    return {\n      name: \"minimap\",\n      deferInit: params && params.deferInit ? params.deferInit : false,\n      params: params,\n      staticProps: {},\n      instance: MinimapPlugin\n    };\n  }\n\n  constructor(params, ws) {\n    this.params = Object.assign(\n      {},\n      ws.params,\n      {\n        showRegions: false,\n        showOverview: false,\n        overviewBorderColor: \"green\",\n        overviewBorderSize: 2,\n        // the container should be different\n        container: false,\n        height: Math.max(Math.round(ws.params.height / 4), 20)\n      },\n      params,\n      {\n        scrollParent: false,\n        fillParent: true\n      }\n    );\n    // if container is a selector, get the element\n    if (typeof params.container === \"string\") {\n      const el = document.querySelector(params.container);\n      if (!el) {\n        console.warn(\n          `Wavesurfer minimap container ${params.container} was not found! The minimap will be automatically appended below the waveform.`\n        );\n      }\n      this.params.container = el;\n    }\n    // if no container is specified add a new element and insert it\n    if (!params.container) {\n      this.params.container = ws.util.style(document.createElement(\"minimap\"), {\n        display: \"block\"\n      });\n    }\n    this.drawer = new ws.Drawer(this.params.container, this.params);\n    this.wavesurfer = ws;\n    this.util = ws.util;\n    /**\n     * Minimap needs to listen for the `ready` and `waveform-ready` events\n     * to work with the `MediaElement` backend. The moment the `ready` event\n     * is called is different (and peaks would not load).\n     *\n     * @type {string}\n     * @see https://github.com/katspaugh/wavesurfer.js/issues/736\n     */\n    this.renderEvent =\n      ws.params.backend === \"MediaElement\" ? \"waveform-ready\" : \"ready\";\n    this.overviewRegion = null;\n\n    this.drawer.createWrapper();\n    this.createElements();\n    let isInitialised = false;\n\n    // ws ready event listener\n    this._onShouldRender = () => {\n      // only bind the events in the first run\n      if (!isInitialised) {\n        this.bindWavesurferEvents();\n        this.bindMinimapEvents();\n        isInitialised = true;\n      }\n      // if there is no such element, append it to the container (below\n      // the waveform)\n      if (!document.body.contains(this.params.container)) {\n        ws.container.insertBefore(this.params.container, null);\n      }\n      // how solve this dependency??\n      if (this.wavesurfer.regions && this.params.showRegions) {\n        this.regions();\n      }\n      this.render();\n    };\n\n    this._onAudioprocess = currentTime => {\n      this.drawer.progress(this.wavesurfer.backend.getPlayedPercents());\n    };\n\n    // ws seek event listener\n    this._onSeek = () => this.drawer.progress(ws.backend.getPlayedPercents());\n\n    // event listeners for the overview region\n    this._onScroll = e => {\n      if (!this.draggingOverview) {\n        this.moveOverviewRegion(e.target.scrollLeft / this.ratio);\n      }\n    };\n    this._onMouseover = e => {\n      if (this.draggingOverview) {\n        this.draggingOverview = false;\n      }\n    };\n    let prevWidth = 0;\n    this._onResize = ws.util.debounce(() => {\n      if (prevWidth != this.drawer.wrapper.clientWidth) {\n        prevWidth = this.drawer.wrapper.clientWidth;\n        this.render();\n        this.drawer.progress(this.wavesurfer.backend.getPlayedPercents());\n      }\n    });\n    this._onZoom = e => {\n      this.render();\n    };\n    this.wavesurfer.on(\"zoom\", this._onZoom);\n  }\n\n  init() {\n    if (this.wavesurfer.isReady) {\n      this._onShouldRender();\n    }\n    this.wavesurfer.on(this.renderEvent, this._onShouldRender);\n  }\n\n  destroy() {\n    window.removeEventListener(\"resize\", this._onResize, true);\n    window.removeEventListener(\"orientationchange\", this._onResize, true);\n    this.wavesurfer.drawer.wrapper.removeEventListener(\n      \"mouseover\",\n      this._onMouseover\n    );\n    this.wavesurfer.un(this.renderEvent, this._onShouldRender);\n    this.wavesurfer.un(\"seek\", this._onSeek);\n    this.wavesurfer.un(\"scroll\", this._onScroll);\n    this.wavesurfer.un(\"audioprocess\", this._onAudioprocess);\n    this.wavesurfer.un(\"zoom\", this._onZoom);\n    this.drawer.destroy();\n    this.overviewRegion = null;\n    this.unAll();\n  }\n\n  regions() {\n    this.regions = {};\n\n    this.wavesurfer.on(\"region-created\", region => {\n      this.regions[region.id] = region;\n      this.renderRegions();\n    });\n\n    this.wavesurfer.on(\"region-updated\", region => {\n      this.regions[region.id] = region;\n      this.renderRegions();\n    });\n\n    this.wavesurfer.on(\"region-removed\", region => {\n      delete this.regions[region.id];\n      this.renderRegions();\n    });\n  }\n\n  renderRegions() {\n    const regionElements = this.drawer.wrapper.querySelectorAll(\"region\");\n    let i;\n    for (i = 0; i < regionElements.length; ++i) {\n      this.drawer.wrapper.removeChild(regionElements[i]);\n    }\n\n    Object.keys(this.regions).forEach(id => {\n      const region = this.regions[id];\n      const width =\n        this.getWidth() *\n        ((region.end - region.start) / this.wavesurfer.getDuration());\n      const left =\n        this.getWidth() * (region.start / this.wavesurfer.getDuration());\n      const regionElement = this.util.style(document.createElement(\"region\"), {\n        height: \"inherit\",\n        backgroundColor: region.color,\n        width: width + \"px\",\n        left: left + \"px\",\n        display: \"block\",\n        position: \"absolute\"\n      });\n      regionElement.classList.add(id);\n      this.drawer.wrapper.appendChild(regionElement);\n    });\n  }\n\n  createElements() {\n    this.drawer.createElements();\n    if (this.params.showOverview) {\n      this.overviewRegion = this.util.style(\n        document.createElement(\"overview\"),\n        {\n          top: 0,\n          bottom: 0,\n          width: \"0px\",\n          display: \"block\",\n          position: \"absolute\",\n          cursor: \"move\",\n          border:\n            this.params.overviewBorderSize +\n            \"px solid \" +\n            this.params.overviewBorderColor,\n          zIndex: 2,\n          opacity: this.params.overviewOpacity\n        }\n      );\n      this.drawer.wrapper.appendChild(this.overviewRegion);\n    }\n  }\n\n  bindWavesurferEvents() {\n    window.addEventListener(\"resize\", this._onResize, true);\n    window.addEventListener(\"orientationchange\", this._onResize, true);\n    this.wavesurfer.on(\"audioprocess\", this._onAudioprocess);\n    this.wavesurfer.on(\"seek\", this._onSeek);\n    if (this.params.showOverview) {\n      this.wavesurfer.on(\"scroll\", this._onScroll);\n      this.wavesurfer.drawer.wrapper.addEventListener(\n        \"mouseover\",\n        this._onMouseover\n      );\n    }\n  }\n\n  bindMinimapEvents() {\n    const positionMouseDown = {\n      clientX: 0,\n      clientY: 0\n    };\n    let relativePositionX = 0;\n    let seek = true;\n\n    // the following event listeners will be destroyed by using\n    // this.unAll() and nullifying the DOM node references after\n    // removing them\n    if (this.params.interact) {\n      this.drawer.wrapper.addEventListener(\"click\", event => {\n        this.fireEvent(\"click\", event, this.drawer.handleEvent(event));\n      });\n\n      this.on(\"click\", (event, position) => {\n        if (seek) {\n          this.drawer.progress(position);\n          this.wavesurfer.seekAndCenter(position);\n        } else {\n          seek = true;\n        }\n      });\n    }\n\n    if (this.params.showOverview) {\n      this.overviewRegion.addEventListener(\"mousedown\", event => {\n        this.draggingOverview = true;\n        relativePositionX = event.layerX;\n        positionMouseDown.clientX = event.clientX;\n        positionMouseDown.clientY = event.clientY;\n      });\n\n      this.drawer.wrapper.addEventListener(\"mousemove\", event => {\n        if (this.draggingOverview) {\n          this.moveOverviewRegion(\n            event.clientX -\n              this.drawer.container.getBoundingClientRect().left -\n              relativePositionX\n          );\n        }\n      });\n\n      this.drawer.wrapper.addEventListener(\"mouseup\", event => {\n        if (\n          positionMouseDown.clientX - event.clientX === 0 &&\n          positionMouseDown.clientX - event.clientX === 0\n        ) {\n          seek = true;\n          this.draggingOverview = false;\n        } else if (this.draggingOverview) {\n          seek = false;\n          this.draggingOverview = false;\n        }\n      });\n    }\n  }\n\n  render() {\n    const len = this.drawer.getWidth();\n    const peaks = this.wavesurfer.backend.getPeaks(len, 0, len);\n    this.drawer.drawPeaks(peaks, len, 0, len);\n    this.drawer.progress(this.wavesurfer.backend.getPlayedPercents());\n\n    if (this.params.showOverview) {\n      //get proportional width of overview region considering the respective\n      //width of the drawers\n      this.ratio = this.wavesurfer.drawer.width / this.drawer.width;\n      this.waveShowedWidth = this.wavesurfer.drawer.width / this.ratio;\n      this.waveWidth = this.wavesurfer.drawer.width;\n      this.overviewWidth = this.drawer.container.offsetWidth / this.ratio;\n      this.overviewPosition = 0;\n      this.moveOverviewRegion(\n        this.wavesurfer.drawer.wrapper.scrollLeft / this.ratio\n      );\n      this.overviewRegion.style.width = this.overviewWidth + \"px\";\n    }\n  }\n\n  moveOverviewRegion(pixels) {\n    if (pixels < 0) {\n      this.overviewPosition = 0;\n    } else if (\n      pixels + this.overviewWidth <\n      this.drawer.container.offsetWidth\n    ) {\n      this.overviewPosition = pixels;\n    } else {\n      this.overviewPosition =\n        this.drawer.container.offsetWidth - this.overviewWidth;\n    }\n    this.overviewRegion.style.left = this.overviewPosition + \"px\";\n    if (this.draggingOverview) {\n      this.wavesurfer.drawer.wrapper.scrollLeft =\n        this.overviewPosition * this.ratio;\n    }\n  }\n\n  getWidth() {\n    return this.drawer.width / this.params.pixelRatio;\n  }\n}\n","let TIERS = {};\n/**\n * @typedef {Object} MultilinePluginParams\n * @desc Extends the `WavesurferParams` wavesurfer was initialised with\n * @property {!string|HTMLElement} container CSS selector or HTML element where\n * the multiline should be drawn. This is the only required parameter.\n * @property {number} notchPercentHeight=90 Height of notches in percent\n * that do not have labels\n * @property {string} Color='#000' The color of the main notches\n * @property {string} FontColor='#000' The color of the labels next to\n * the main notches\n * @property {number} labelPadding=5 The padding between the label and the notch\n * @property {?number} zoomDebounce A debounce timeout to increase rendering\n * performance for large files\n * @property {string} fontFamily='Arial'\n * @property {number} fontSize=10 Font size of labels in pixels\n * getDuration() for setting length of multiline\n * @property {function} formatTimeCallback (sec, pxPerSec) -> label\n * @property {?number} offset Offset for the multiline start in seconds. May also be\n * negative.\n * @property {?boolean} deferInit Set to true to manually call\n * `initPlugin('multiline')`\n */\n\n/**\n * Adds a multi annotation tier to the waveform.\n *\n * @implements {PluginClass}\n * @extends {Observer}\n * @example\n * // es6\n * import Multiline from 'wavesurfer.multiline.js';\n *\n * // commonjs\n * var Multiline = require('wavesurfer.multiline.js');\n *\n * // if you are using <script> tags\n * var Multiline = window.WaveSurfer.multiline;\n *\n * // ... initialising wavesurfer with the plugin\n * var wavesurfer = WaveSurfer.create({\n *   // wavesurfer options ...\n *   plugins: [\n *     Multiline.create({\n *       // plugin options ...\n *     })\n *   ]\n * });\n */\nexport default class MultilinePlugin {\n  /**\n   * Multiline plugin definition factory\n   *\n   * This function must be used to create a plugin definition which can be\n   * used by wavesurfer to correctly instantiate the plugin.\n   *\n   * @param  {MultilineParams} params parameters use to initialise the plugin\n   * @return {PluginDefinition} an object representing the plugin\n   */\n  static create(params) {\n    return {\n      name: \"multiline\",\n      deferInit: params && params.deferInit ? params.deferInit : false,\n      params: params,\n      instance: MultilinePlugin\n    };\n  }\n\n  // event handlers\n  /** @private */\n  _onScroll = () => {\n    if (this.wrapper && this.drawer.wrapper) {\n      this.wrapper.scrollLeft = this.drawer.wrapper.scrollLeft;\n    }\n  };\n\n  /**\n   * @private\n   * @returns {void}\n   */\n  _onRedraw = () => this.render();\n\n  /** @private */\n  _onReady = () => {\n    const ws = this.wavesurfer;\n    this.drawer = ws.drawer;\n    this.pixelRatio = ws.drawer.params.pixelRatio;\n    this.isDragging = false;\n    this.draggingItemIdx = null;\n\n    const wsp = ws.params;\n    this.duration = this.wavesurfer.backend.getDuration();\n    const width =\n      wsp.fillParent && !wsp.scrollParent\n        ? this.drawer.getWidth()\n        : this.drawer.wrapper.scrollWidth * wsp.pixelRatio;\n    this.pixelsPerSecond = width / this.duration;\n\n    this.maxCanvasWidth = ws.drawer.maxCanvasWidth || ws.drawer.width;\n    this.maxCanvasElementWidth =\n      ws.drawer.maxCanvasElementWidth ||\n      Math.round(this.maxCanvasWidth / this.pixelRatio);\n\n    // add listeners\n    ws.drawer.wrapper.addEventListener(\"scroll\", this._onScroll);\n    ws.on(\"redraw\", this._onRedraw);\n    ws.on(\"zoom\", this._onZoom);\n    this.render();\n  };\n\n  /**\n   * @private\n   * @param {object} e Click event\n   */\n  _onWrapperClick = e => {\n    e.preventDefault();\n    const relX = \"offsetX\" in e ? e.offsetX : e.layerX;\n    const time = relX / this.pixelsPerSecond;\n    const idx = this.getCurrentItemIndex(time);\n    for (const i in this.items) {\n      this.items[i].color = null;\n      if (i == idx) {\n        if (this.tierType == \"interval\") {\n          this.items[idx].color = this.params.focusColor;\n        } else {\n          this.items[idx].color = this.params.focusPointColor;\n        }\n        this.lastIdx = idx;\n      }\n    }\n    this.updateCanvases();\n    this.updateCanvasesPositioning();\n    this.renderCanvases();\n    this.wavesurfer.seekTo(time / this.duration);\n    const payload = {\n      name: this.name,\n      id: Number(idx),\n      item: this.items[idx]\n    };\n    this.wavesurfer.fireEvent(\"multiline-update-current\", payload);\n  };\n\n  /**\n   * @private\n   * @param {object} e Click event\n   */\n  _onDblClick = e => {\n    e.preventDefault();\n    const relX = \"offsetX\" in e ? e.offsetX : e.layerX;\n    const time = relX / this.pixelsPerSecond;\n    this.addItem({ time: time, text: \"\", color: null });\n  };\n  /**\n   * @private\n   * @param {object} e Mousemove event\n   */\n  _onMouseMove = e => {\n    e.preventDefault();\n    const relX = \"offsetX\" in e ? e.offsetX : e.layerX;\n    const time = relX / this.pixelsPerSecond;\n    if (this.isCollisioned(time)) {\n      if (time.toFixed(this.params.csd) > 0) {\n        document.body.style.cursor = \"col-resize\";\n      }\n      if (this.tierType == \"point\") {\n        this.lastIdx = this.getCurrentItemIndex(time);\n      }\n    } else {\n      if (!this.isDragging) {\n        document.body.style.cursor = \"default\";\n      } else if (this.draggingItemIdx > 0) {\n        this.items[this.draggingItemIdx].time = time;\n        this.items = this.items.sort((a, b) => {\n          return a.time - b.time;\n        });\n        this.wavesurfer.fireEvent(\"multiline-update-tiers\");\n        this.updateCanvases();\n        this.updateCanvasesPositioning();\n        this.renderCanvases();\n      }\n    }\n  };\n\n  /**\n   * @private\n   * @param {object} e Click event\n   */\n  _onMouseUp = e => {\n    e.preventDefault();\n    if (this.isDragging) {\n      this.isDragging = false;\n      document.body.style.cursor = \"default\";\n    }\n  };\n\n  /**\n   * @private\n   * @param {object} e Click event\n   */\n  _onMouseDown = e => {\n    e.preventDefault();\n    const relX = \"offsetX\" in e ? e.offsetX : e.layerX;\n    const time = relX / this.pixelsPerSecond;\n    this.isDragging = false;\n    if (this.isCollisioned(time)) {\n      if (time.toFixed(this.params.csd) > 0) {\n        this.draggingItemIdx = this.getCurrentItemIndex(time);\n        this.isDragging = true;\n      }\n    }\n  };\n\n  /**\n   * @private\n   * @param {object} e Click event\n   */\n  _onMouseOut = e => {\n    e.preventDefault();\n    document.body.style.cursor = \"default\";\n    for (const i in this.items) {\n      this.items[i].color = null;\n    }\n    this.updateCanvases();\n    this.updateCanvasesPositioning();\n    this.renderCanvases();\n    this.wrapper.style.backgroundColor = null;\n  };\n\n  /**\n   * @private\n   * @param {object} e Click event\n   */\n  _onKeyDown = e => {\n    if (e.key != \"Shift\") {\n      e.preventDefault();\n      if (e.key != \"Control\") {\n        if (e.key != \"Alt\") {\n          if (e.key == \"Backspace\") {\n            this._onKeyBackSpace();\n          } else if (e.key == \"Tab\") {\n            this._onTab();\n          }\n          this.onCtrl = false;\n        } else {\n          this.onCtrl = true;\n        }\n      } else {\n        this.onCtrl = true;\n      }\n    }\n  };\n\n  /**\n   * @private\n   * @param {object} e Click event\n   */\n  _onKeyBackSpace = () => {\n    if (this.lastIdx) {\n      if (this.onCtrl === true) {\n        this.deleteItem(this.lastIdx);\n      } else {\n        this.items[this.lastIdx].text = this.items[this.lastIdx].text.slice(\n          0,\n          -1\n        );\n        this.items = this.items.sort((a, b) => {\n          return a.time - b.time;\n        });\n        this.updateCanvases();\n        this.updateCanvasesPositioning();\n        this.renderCanvases();\n        const payload = {\n          name: this.name,\n          id: Number(this.lastIdx),\n          item: this.items[this.lastIdx]\n        };\n        this.wavesurfer.fireEvent(\"multiline-update-tiers\");\n        this.wavesurfer.fireEvent(\"multiline-update-tiers\", payload);\n      }\n    }\n  };\n\n  _onTab = () => {\n    let lastTime;\n    if (this.lastIdx != this.items.length - 1) {\n      lastTime = this.items[this.lastIdx + 1].time;\n    } else {\n      lastTime = this.duration;\n    }\n    if (this.wavesurfer.isPlaying()) {\n      this.wavesurfer.pause();\n    } else {\n      this.wavesurfer.play(this.items[this.lastIdx].time, lastTime);\n      this.fireEvent(\"play\");\n      this.wavesurfer.fireEvent(\"region-play\", this);\n    }\n  };\n\n  /**\n   * Creates an instance of Multiline.\n   *\n   * You probably want to use Multiline.create()\n   *\n   * @param {MultilineParams} params Plugin parameters\n   * @param {object} ws Wavesurfer instance\n   */\n  constructor(params, ws) {\n    /** @private */\n    this.wavesurfer = ws;\n    /** @private */\n    this.util = ws.util;\n\n    /** @private */\n    this.container =\n      \"string\" == typeof params.container\n        ? document.querySelector(params.container)\n        : params.container;\n    if (!this.container) {\n      throw new Error(\"No container for wavesurfer multiline\");\n    } else {\n      this.wavesurfer.getTierNum = () => {\n        return this.container.children.length;\n      };\n      this.wavesurfer.getTiers = () => {\n        const res = [];\n        for (const key in this.tiers) {\n          res.push({\n            name: this.tiers[key].name,\n            tierType: this.tiers[key].tierType,\n            items: this.tiers[key].items\n          });\n        }\n        return res;\n      };\n    }\n\n    /** @private */\n    this.name =\n      \"string\" == typeof params.name ? params.name : String(params.name);\n    if (!this.name) {\n      throw new Error(\"No name for wavesurfer multiline\");\n    }\n\n    /** @private */\n    this.tierType = \"string\" == typeof params.tierType ? params.tierType : null;\n    if (!this.tierType) {\n      throw new Error(\"No tierType for wavesurfer multiline\");\n    }\n    // check tierType\n    if (this.tierType != \"interval\" && this.tierType != \"point\") {\n      throw new Error(`${this.tierType} is not supported tierType`);\n    }\n\n    this.tiers = TIERS;\n    this.tiers[this.name] = this;\n\n    this.items = params.items;\n    this.wavesurfer.fireEvent(\"multiline-update-tiers\");\n\n    /** @private */\n    this.params = this.util.extend(\n      {},\n      {\n        csd: 1, //collisionSignificantDigits\n        height: 50,\n        notchPercentHeight: 90,\n        labelPadding: 5,\n        focusBgColor: \"#CFD8DC\",\n        focusColor: \"#FFE082\",\n        focusPointColor: \"#F44336\",\n        Color: \"#000000\",\n        fontFamily: \"Arial\",\n        fontSize: 10,\n        zoomDebounce: false,\n        formatTimeCallback: this.defaultFormatTimeCallback,\n        offset: 0\n      },\n      params\n    );\n\n    /** @private */\n    this.canvases = [];\n    /** @private */\n    this.wrapper = null;\n    /** @private */\n    this.drawer = null;\n    /** @private */\n    this.pixelRatio = null;\n    /** @private */\n    this.maxCanvasWidth = null;\n    /** @private */\n    this.maxCanvasElementWidth = null;\n    /** @private */\n    this.onCtrl = false;\n    /** @private */\n    this.lastIdx = null;\n    /**\n     * This event handler has to be in the constructor function because it\n     * relies on the debounce function which is only available after\n     * instantiation\n     *\n     * Use a debounced function if `params.zoomDebounce` is defined\n     *\n     * @private\n     * @returns {void}\n     */\n    this._onZoom = this.params.zoomDebounce\n      ? this.wavesurfer.util.debounce(\n          () => this.render(),\n          this.params.zoomDebounce\n        )\n      : () => this.render();\n  }\n\n  /**\n   * Initialisation function used by the plugin API\n   */\n  init() {\n    // Check if ws is ready\n    if (this.wavesurfer.isReady) {\n      this._onReady();\n    } else {\n      this.wavesurfer.once(\"ready\", this._onReady);\n    }\n  }\n\n  /**\n   * Destroy function used by the plugin API\n   */\n  destroy() {\n    this.unAll();\n    this.wavesurfer.un(\"redraw\", this._onRedraw);\n    this.wavesurfer.un(\"zoom\", this._onZoom);\n    this.wavesurfer.un(\"ready\", this._onReady);\n    this.wavesurfer.drawer.wrapper.removeEventListener(\n      \"scroll\",\n      this._onScroll\n    );\n    if (this.wrapper && this.wrapper.parentNode) {\n      this.wrapper.removeEventListener(\"click\", this._onWrapperClick);\n      this.wrapper.parentNode.removeChild(this.wrapper);\n      this.wrapper = null;\n    }\n  }\n  /**\n   * get current item by time\n   * @param {number} time Current time.\n   * @return {Object} an object of this tier.\n   */\n  getCurrentItem(time) {\n    if (this.tierType == \"interval\") {\n      const item = this.items.find(x => {\n        return time.toFixed(this.params.csd) == x.time.toFixed(this.params.csd);\n      });\n      if (item) {\n        return item;\n      } else {\n        const array = this.items.filter(x => {\n          return time >= x.time;\n        });\n        return array.length > 0 ? array[array.length - 1] : undefined;\n      }\n    } else {\n      const array = this.items.map(x => {\n        return {\n          check: Math.abs(x.time - time),\n          item: x\n        };\n      });\n      array.sort((a, b) => {\n        return a.check - b.check;\n      });\n      return array.length > 0 ? array[0].item : undefined;\n    }\n  }\n  getCurrentItemIndex(time) {\n    const item = this.getCurrentItem(time);\n    if (item) {\n      return this.items.findIndex(x => {\n        return x.time == item.time;\n      });\n    }\n    return null;\n  }\n  findItemByTime(time) {\n    return this.items.find(item => {\n      return item.time == time;\n    });\n  }\n  findItemIndexByTime(time) {\n    return this.items.findIndex(item => {\n      return item.time == time;\n    });\n  }\n  addItem(item) {\n    this.items.push(item);\n    this.items = this.items.sort((a, b) => {\n      return a.time - b.time;\n    });\n    this.wavesurfer.fireEvent(\"multiline-update-tiers\");\n    this.updateCanvases();\n    this.updateCanvasesPositioning();\n    this.renderCanvases();\n  }\n  deleteItem(idx) {\n    this.items.splice(idx, 1);\n    this.items = this.items.sort((a, b) => {\n      return a.time - b.time;\n    });\n    this.wavesurfer.fireEvent(\"multiline-update-tiers\");\n    this.updateCanvases();\n    this.updateCanvasesPositioning();\n    this.renderCanvases();\n  }\n  putText(idx, text, isRender = true) {\n    this.items = this.items.sort((a, b) => {\n      a.time - b.time;\n    });\n    this.items[idx].text = text;\n    this.wavesurfer.fireEvent(\"multiline-update-tiers\");\n    if (isRender === true) {\n      this.updateCanvases();\n      this.updateCanvasesPositioning();\n      this.renderCanvases();\n    }\n  }\n  isCollisioned(time) {\n    return this.items.some(x => {\n      return time.toFixed(this.params.csd) == x.time.toFixed(this.params.csd);\n    });\n  }\n  /**\n   * Create a multiline element to wrap the canvases drawn by this plugin\n   *\n   * @private\n   */\n  createWrapper() {\n    const wsParams = this.wavesurfer.params;\n    this.wrapper = this.container.appendChild(\n      document.createElement(`multiline-${this.name}`)\n    );\n    this.util.style(this.wrapper, {\n      display: \"block\",\n      position: \"relative\",\n      userSelect: \"none\",\n      webkitUserSelect: \"none\",\n      height: `${this.params.height}px`\n    });\n    const tiers = this.container.children;\n    if (tiers.length == 1) {\n      this.util.style(this.wrapper, {\n        \"border-top\": \"solid 1px gray\",\n        \"border-bottom\": \"solid 1px gray\"\n      });\n    } else {\n      this.util.style(this.wrapper, {\n        \"border-bottom\": \"solid 1px gray\"\n      });\n    }\n    if (wsParams.fillParent || wsParams.scrollParent) {\n      this.util.style(this.wrapper, {\n        width: \"100%\",\n        overflowX: \"hidden\",\n        overflowY: \"hidden\"\n      });\n    }\n    this.wrapper.addEventListener(\"click\", this._onWrapperClick);\n  }\n\n  /**\n   * Render the multiline (also updates the already rendered multiline)\n   *\n   * @private\n   */\n  render() {\n    if (!this.wrapper) {\n      this.createWrapper();\n    }\n    this.updateCanvases();\n    this.updateCanvasesPositioning();\n    this.renderCanvases();\n  }\n\n  /**\n   * Add new multiline canvas\n   *\n   * @private\n   */\n  addCanvas() {\n    const canvas = this.wrapper.appendChild(document.createElement(\"canvas\"));\n    canvas.addEventListener(\"dblclick\", this._onDblClick, false);\n    canvas.addEventListener(\"mousemove\", this._onMouseMove, false);\n    canvas.addEventListener(\"mousedown\", this._onMouseDown, false);\n    canvas.addEventListener(\"mouseup\", this._onMouseUp, false);\n    canvas.addEventListener(\n      \"mouseover\",\n      () => {\n        canvas.focus();\n        this.wrapper.style.backgroundColor = this.params.focusBgColor;\n      },\n      false\n    );\n    canvas.addEventListener(\"mouseout\", this._onMouseOut, false);\n    canvas.addEventListener(\"keydown\", this._onKeyDown, false);\n    canvas.setAttribute(\"tabindex\", 0);\n\n    this.canvases.push(canvas);\n    this.util.style(canvas, {\n      position: \"absolute\",\n      zIndex: 4\n    });\n  }\n\n  /**\n   * Remove multiline canvas\n   *\n   * @private\n   */\n  removeCanvas() {\n    const canvas = this.canvases.pop();\n    canvas.parentElement.removeChild(canvas);\n  }\n\n  /**\n   * Make sure the correct of multiline canvas elements exist and are cached in\n   * this.canvases\n   *\n   * @private\n   */\n  updateCanvases() {\n    const totalWidth = Math.round(this.drawer.wrapper.scrollWidth);\n    const requiredCanvases = Math.ceil(totalWidth / this.maxCanvasElementWidth);\n    while (this.canvases.length < requiredCanvases) {\n      this.addCanvas();\n    }\n    while (this.canvases.length > requiredCanvases) {\n      this.removeCanvas();\n    }\n  }\n\n  /**\n   * Update the dimensions and positioning style for all the multiline canvases\n   *\n   * @private\n   */\n  updateCanvasesPositioning() {\n    // cache length for performance\n    const canvasesLength = this.canvases.length;\n    this.canvases.forEach((canvas, i) => {\n      // canvas width is the max element width, or if it is the last the\n      // required width\n      const canvasWidth =\n        i === canvasesLength - 1\n          ? this.drawer.wrapper.scrollWidth -\n            this.maxCanvasElementWidth * (canvasesLength - 1)\n          : this.maxCanvasElementWidth;\n      // set dimensions and style\n      canvas.width = canvasWidth * this.pixelRatio;\n      // on certain pixel ratios the canvas appears cut off at the bottom,\n      // therefore leave 1px extra\n      canvas.height = (this.params.height + 1) * this.pixelRatio;\n      this.util.style(canvas, {\n        width: `${canvasWidth}px`,\n        height: `${this.params.height}px`,\n        left: `${i * this.maxCanvasElementWidth}px`\n      });\n    });\n  }\n\n  /**\n   * Render the multiline labels and notches\n   *\n   * @private\n   */\n  renderCanvases() {\n    if (this.duration <= 0) {\n      return;\n    }\n    const wsParams = this.wavesurfer.params;\n    const width =\n      wsParams.fillParent && !wsParams.scrollParent\n        ? this.drawer.getWidth()\n        : this.drawer.wrapper.scrollWidth * wsParams.pixelRatio;\n    const height = this.params.height * this.pixelRatio;\n    const fontSize = this.params.fontSize * wsParams.pixelRatio;\n\n    this.setFillStyles(this.params.Color);\n    this.setFonts(`${fontSize}px ${this.params.fontFamily}`);\n\n    // render items\n    this.fillLine(0, 0, 1, height);\n    this.items.forEach((item, i) => {\n      const curPixel = this.pixelsPerSecond * item.time;\n      if (this.tierType == \"interval\") {\n        if (item.color) {\n          let rectDuration;\n          if (i < this.items.length - 1) {\n            rectDuration = this.items[i + 1].time - item.time;\n          } else {\n            rectDuration = this.duration - item.time;\n          }\n          const rectWidth = rectDuration * this.pixelsPerSecond;\n          this.fillRect(curPixel, 0, rectWidth, height, item.color);\n        }\n        this.fillLine(curPixel, 0, 1, height);\n        this.fillText(item.text, curPixel, height / 2, fontSize);\n      } else {\n        if (item.text) {\n          if (item.color) {\n            this.fillText(\n              item.text,\n              curPixel,\n              height / 2,\n              fontSize,\n              item.color\n            );\n            this.fillLine(curPixel, 0, 3, height / 4, item.color);\n          } else {\n            this.fillText(item.text, curPixel, height / 2, fontSize);\n            this.fillLine(curPixel, 0, 1, height / 4);\n          }\n        } else {\n          if (item.color) {\n            this.fillLine(curPixel, 0, 3, height, item.color);\n          } else {\n            this.fillLine(curPixel, 0, 1, height);\n          }\n        }\n      }\n    });\n    this.fillLine(width, 0, 1, height);\n  }\n\n  /**\n   * Set the canvas fill style\n   *\n   * @param {DOMString|CanvasGradient|CanvasPattern} fillStyle Fill style to\n   * use\n   * @private\n   */\n  setFillStyles(fillStyle) {\n    this.canvases.forEach(canvas => {\n      canvas.getContext(\"2d\").fillStyle = fillStyle;\n    });\n  }\n\n  getFillStyles() {\n    this.canvases.forEach(canvas => {\n      return canvas.getContext(\"2d\").fillStyle;\n    });\n  }\n\n  /**\n   * Set the canvas font\n   *\n   * @param {DOMString} font Font to use\n   * @private\n   */\n  setFonts(font) {\n    this.canvases.forEach(canvas => {\n      canvas.getContext(\"2d\").font = font;\n    });\n  }\n\n  fillRect(x, y, width, height, color) {\n    this.setFillStyles(color);\n    this.canvases.forEach((canvas, i) => {\n      const leftOffset = i * this.maxCanvasWidth;\n      const intersection = {\n        x: Math.max(x, i * this.maxCanvasWidth),\n        y2: y + height\n      };\n      canvas\n        .getContext(\"2d\")\n        .fillRect(intersection.x - leftOffset, y, width, intersection.y2 - y);\n    });\n    this.setFillStyles(this.params.Color);\n  }\n  /**\n   * Draw a rectangle on the canvases\n   *\n   * (it figures out the offset for each canvas)\n   *\n   * @param {number} x X-position\n   * @param {number} y Y-position\n   * @param {number} width Width\n   * @param {number} height Height\n   * @private\n   */\n  fillLine(x, y, width, height, color) {\n    this.setFillStyles(color);\n    this.canvases.forEach((canvas, i) => {\n      const leftOffset = i * this.maxCanvasWidth;\n      const intersection = {\n        x1: Math.max(x, i * this.maxCanvasWidth),\n        y1: y,\n        x2: Math.min(x + width, i * this.maxCanvasWidth + canvas.width),\n        y2: y + height\n      };\n      if (intersection.x1 < intersection.x2) {\n        canvas\n          .getContext(\"2d\")\n          .fillRect(\n            intersection.x1 - leftOffset,\n            intersection.y1,\n            intersection.x2 - intersection.x1,\n            intersection.y2 - intersection.y1\n          );\n      } else {\n        canvas\n          .getContext(\"2d\")\n          .fillRect(\n            intersection.x1 - 1 - leftOffset,\n            intersection.y1,\n            1,\n            intersection.y2 - intersection.y1\n          );\n      }\n    });\n    this.setFillStyles(this.params.Color);\n  }\n\n  /**\n   * Fill a given text on the canvases\n   *\n   * @param {string} text Text to render\n   * @param {number} x X-position\n   * @param {number} y Y-position\n   * @param {number} fs fontSize\n   * @private\n   */\n  fillText(text, x, y, fs, color) {\n    this.setFillStyles(color);\n    let textWidth;\n    let xOffset = 0;\n    this.canvases.forEach(canvas => {\n      const context = canvas.getContext(\"2d\");\n      const canvasWidth = context.canvas.width;\n      if (xOffset > x + textWidth) {\n        return;\n      }\n      if (xOffset + canvasWidth > x) {\n        textWidth = context.measureText(text).width;\n        let _x = x - textWidth / 2;\n        if (this.tierType == \"interval\") {\n          _x = x + fs / 2;\n        }\n        const _y = y + fs / 2;\n        context.fillText(text, _x - xOffset, _y);\n      }\n      xOffset += canvasWidth;\n      this.setFillStyles(this.params.Color);\n    });\n  }\n}\n","<template>\n  <v-container v-resize=\"onResize\" fluid class=\"pa-0 movie-annotaion\">\n    <m-tool-bar v-if=\"item\" :file-name=\"item.name\" :menu-funcs=\"menuFuncs\">\n      <template v-slot:setting>\n        <m-setting-menu :menuFuncs=\"menuFuncs\" />\n      </template>\n    </m-tool-bar>\n    <v-card color=\"background\">\n      <v-container v-if=\"item\">\n        <v-row>\n          <v-col class=\"flex-grow-1 flex-shrink-1\">\n            <v-card ref=\"videoCard\" flat color=\"background\">\n              <m-video-array\n                :src=\"item.dataUrl\"\n                :frameOffset=\"frameOffset\"\n                :fps=\"item.fps\"\n                @loadeddata=\"onLoadeddata\"\n              />\n              <v-card>\n                <v-card-actions>\n                  <v-btn icon>\n                    <v-icon>mdi-skip-previous</v-icon>\n                  </v-btn>\n                  <v-btn icon>\n                    <v-icon>mdi-skip-backward</v-icon>\n                  </v-btn>\n                  <v-spacer></v-spacer>\n                  <v-btn fab dark small color=\"accent\" @click=\"play\">\n                    <v-icon> mdi-play </v-icon>\n                  </v-btn>\n                  <v-btn fab dark small color=\"accent\" @click=\"pause\">\n                    <v-icon> mdi-pause </v-icon>\n                  </v-btn>\n                  <v-spacer></v-spacer>\n                  <v-btn icon>\n                    <v-icon>mdi-skip-next</v-icon>\n                  </v-btn>\n                  <v-btn icon>\n                    <v-icon>mdi-skip-forward</v-icon>\n                  </v-btn>\n                </v-card-actions>\n              </v-card>\n            </v-card>\n          </v-col>\n          <v-col cols=\"5\" class=\"flex-grow-1 flex-shrink-1 d-none d-sm-flex\">\n            <m-tier-list\n              v-if=\"tiers\"\n              :items=\"tiers\"\n              :ws=\"ws\"\n              :max-height=\"videoHeight\"\n            />\n          </v-col>\n        </v-row>\n        <v-progress-linear\n          v-if=\"isLoading\"\n          color=\"accent\"\n          height=\"10\"\n          indeterminate\n        />\n        <v-card>\n          <v-card id=\"wave-spectrogram\" />\n          <v-card id=\"wave-timeline\" />\n          <v-text-field\n            @input=\"onChangeText\"\n            @keydown.enter=\"onEnterText\"\n            ref=\"textField\"\n            v-model=\"text\"\n            label=\"Text\"\n            hide-details\n            solo\n            dense\n          />\n          <v-card id=\"wave-multiline\" />\n          <v-card id=\"waveform\" />\n          <v-card id=\"wave-minimap\" />\n        </v-card>\n      </v-container>\n    </v-card>\n    <v-card v-if=\"debug\">\n      <v-container v-if=\"item\">\n        <pre>{{ debugItem }}</pre>\n      </v-container>\n    </v-card>\n  </v-container>\n</template>\n\n<script>\nimport File from \"@/models/file.js\";\nimport colors from \"vuetify/lib/util/colors\";\nimport MToolBar from \"@/components/MovieAnnotaion/MToolBar.vue\";\nimport MSettingMenu from \"@/components/MovieAnnotaion/MSettingMenu.vue\";\nimport MTierList from \"@/components/MovieAnnotaion/MTierList.vue\";\nimport MVideoArray from \"@/components/MovieAnnotaion/MVideoArray.vue\";\nimport WaveSurfer from \"@/components/wavesurfer/wavesurfer.js\";\nimport SpectrogramPlugin from \"@/components/wavesurfer/plugin/spectrogram.js\";\nimport TimelinePlugin from \"@/components/wavesurfer/plugin/timeline.js\";\nimport MinimapPlugin from \"@/components/wavesurfer/plugin/minimap.js\";\nimport MultilinePlugin from \"@/components/wavesurfer/plugin/multiline.js\";\n\nexport default {\n  name: \"MovieAnnotaion\",\n  components: {\n    MToolBar,\n    MTierList,\n    MSettingMenu,\n    MVideoArray\n  },\n  data: () => ({\n    // 設定\n    frameOffset: 1,\n    options: {\n      waveColor: colors.grey.base,\n      progressColor: colors.grey.darken4,\n      loaderColor: colors.grey.darken4,\n      cursorColor: colors.teal.base,\n      minPxPerSec: 100,\n      height: 70,\n      scrollParent: true,\n      normalize: true\n    },\n    // 状態\n    debug: false,\n    ws: null,\n    isVideoLoaded: false,\n    isLoading: true,\n    videoHeight: 0,\n    menuFuncs: [],\n    text: \"\",\n    currentTier: null,\n    currentIdx: null,\n    tiers: [\n      {\n        name: \"Interval\",\n        tierType: \"interval\",\n        items: []\n      },\n      {\n        name: \"Point\",\n        tierType: \"point\",\n        items: []\n      }\n    ]\n  }),\n  computed: {\n    item: {\n      get: function() {\n        return File.find(this.$route.params.id);\n      },\n      set: function(payload) {\n        File.update({\n          where: this.$route.params.id,\n          data: payload\n        });\n      }\n    },\n    debugItem: function() {\n      const data = {};\n      data.item = this.item;\n      data.this = this.tiers;\n      return data;\n    }\n  },\n  methods: {\n    // ユーティリティ関数\n    log: function(tag, msg) {\n      if (this.debug) {\n        console.info(tag, msg);\n      }\n    },\n    // 状態設定\n    load(payload) {\n      const tag = `${this.$options.name}:load`;\n      if (payload) {\n        if (this.ws) {\n          this.log(tag, payload);\n          if (!this.isVideoLoaded) {\n            this.ws.load(payload);\n            this.isVideoLoaded = true;\n          }\n        } else {\n          this.log(tag, \"no ws\");\n        }\n      } else {\n        this.log(tag, \"no video\");\n      }\n    },\n    initWs() {\n      const tag = `${this.$options.name}:initWs`;\n      if (this.ws) {\n        this.log(tag, \"destroy:ws\");\n        this.ws.destroy();\n        this.ws = null;\n      }\n      this.log(tag, \"init:ws\");\n      const options = this.options;\n      options.container = \"#waveform\";\n      options.backend = \"MediaElement\";\n      options.plugins = [\n        SpectrogramPlugin.create({\n          container: \"#wave-spectrogram\",\n          labels: true\n        }),\n        TimelinePlugin.create({\n          container: \"#wave-timeline\"\n        }),\n        MinimapPlugin.create({\n          container: \"#wave-minimap\",\n          height: 20\n        })\n      ];\n      this.ws = WaveSurfer.create(options);\n      for (const i in this.tiers) {\n        const tier = MultilinePlugin.create({\n          container: \"#wave-multiline\",\n          name: this.tiers[i].name,\n          tierType: this.tiers[i].tierType,\n          items: this.tiers[i].items\n        });\n        this.ws.addPlugin(tier).initPlugin(\"multiline\");\n      }\n      this.ws.on(\"ready\", this.onRedy);\n      this.ws.on(\"destroy\", this.onDestroy);\n      this.ws.on(\"error\", this.onError);\n      this.ws.on(\"multiline-update-current\", this.onUpdateMultiline);\n    },\n    setVideoHeight() {\n      const tag = `${this.$options.name}:setVideoHeight`;\n      this.$nextTick(() => {\n        const el = this.$refs.videoCard ? this.$refs.videoCard.$el : null;\n        if (el) {\n          this.videoHeight = el.clientHeight;\n        }\n        this.log(tag, this.videoHeight);\n      });\n    },\n    addTier(name, type) {\n      this.tiers.push({\n        name: name,\n        tierType: type,\n        items: []\n      });\n      const tier = MultilinePlugin.create({\n        name: this.tiers[this.tiers.length - 1].name,\n        container: \"#wave-multiline\",\n        tierType: this.tiers[this.tiers.length - 1].tierType,\n        items: this.tiers[this.tiers.length - 1].items\n      });\n      this.ws.addPlugin(tier).initPlugin(\"multiline\");\n    },\n    // メディア操作\n    play: function() {\n      this.ws.play();\n    },\n    pause: function() {\n      this.ws.pause();\n    },\n    // 時間管理\n    getCurrentTime: function() {\n      return this.ws.getCurrentTime();\n    },\n    getDuration: function() {\n      return this.ws.getDuration();\n    },\n    // イベント管理\n    onLoadeddata: function(payload) {\n      const tag = `${this.$options.name}:onLoadeddata`;\n      if (payload) {\n        this.log(tag, payload);\n        this.load(payload);\n      }\n    },\n    onChangeText: function(val) {\n      if (this.currentTier) {\n        this.currentTier.putText(this.currentIdx, val);\n      }\n    },\n    onEnterText: function(e) {\n      if (this.currentTier) {\n        this.currentTier.putText(this.currentIdx, e.target.value);\n      }\n    },\n    onRedy() {\n      // 動画の読み込みが終了したタイミング\n      const tag = `${this.$options.name}:onRedy`;\n      const vm = this;\n      this.setVideoHeight();\n      this.menuFuncs = [\n        {\n          title: \"Add Interval Tier\",\n          callback: () => {\n            const num = vm.ws.getTierNum();\n            vm.addTier(`tier-${num + 1}`, \"interval\");\n          }\n        },\n        {\n          title: \"Add Point Tier\",\n          callback: () => {\n            const num = vm.ws.getTierNum();\n            vm.addTier(`tier-${num + 1}`, \"point\");\n          }\n        }\n      ];\n      this.log(tag);\n      this.isLoading = false;\n    },\n    onDestroy(val) {\n      const tag = `${this.$options.name}:onDestroy`;\n      this.log(tag, val);\n    },\n    onError(val) {\n      const tag = `${this.$options.name}:onError`;\n      this.log(tag, val);\n    },\n    onUpdateFiler(payload) {\n      const tag = `${this.$options.name}:onUpdateFiler`;\n      this.log(tag, payload);\n      this.ws.backend.setFilters(payload);\n    },\n    onUpdateMultiline(payload) {\n      if (payload.item) {\n        this.text = payload.item.text;\n        this.currentTier = this.ws.multiline.tiers[payload.name];\n        this.currentIdx = payload.id;\n        this.$refs.textField.focus();\n      }\n    },\n    onResize() {\n      this.setVideoHeight();\n    }\n  },\n  mounted() {\n    const tag = `${this.$options.name}:mounted`;\n    this.log(tag);\n    if (!this.item) {\n      this.$router.push({ name: \"Home\" });\n    } else {\n      this.initWs();\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MovieAnnotation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MovieAnnotation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MovieAnnotation.vue?vue&type=template&id=cc108c8a&\"\nimport script from \"./MovieAnnotation.vue?vue&type=script&lang=js&\"\nexport * from \"./MovieAnnotation.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VProgressLinear } from 'vuetify/lib/components/VProgressLinear';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCol,VContainer,VIcon,VProgressLinear,VRow,VSpacer,VTextField})\n\n\n/* vuetify-loader */\nimport installDirectives from \"!../../node_modules/vuetify-loader/lib/runtime/installDirectives.js\"\nimport Resize from 'vuetify/lib/directives/resize'\ninstallDirectives(component, {Resize})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"image-annotation\"},[_c('h1',[_vm._v(\"This is an image-annotation page\")]),_c('p',[_vm._v(\"id is \"+_vm._s(_vm.id))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"image-annotation\">\n    <h1>This is an image-annotation page</h1>\n    <p>id is {{ id }}</p>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\n// import HelloWorld from \"@/components/HelloWorld.vue\";\nexport default {\n  name: \"ImageAnnotaion\",\n  props: {\n    id: {\n      type: String,\n      required: true\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageAnnotation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageAnnotation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImageAnnotation.vue?vue&type=template&id=c76ae576&\"\nimport script from \"./ImageAnnotation.vue?vue&type=script&lang=js&\"\nexport * from \"./ImageAnnotation.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"component-debug\"},[_c('h1',[_vm._v(\"Debug components\")]),_c('v-card',{staticClass:\"mx-auto\"},[_c('v-toolbar',{attrs:{\"color\":\"primary\",\"dark\":\"\"}},[_c('v-toolbar-title',[_vm._v(\"動画関連\")]),_c('v-spacer'),(_vm.video.name && _vm.video.fps)?_c('v-toolbar-title',[_vm._v(\" \"+_vm._s(_vm.video.name)+\" (\"+_vm._s(_vm.video.fps)+\") \")]):_vm._e()],1),_c('v-container',[_c('m-movie-input',{model:{value:(_vm.video),callback:function ($$v) {_vm.video=$$v},expression:\"video\"}}),_c('v-card',{staticClass:\"mx-auto\"},[_c('v-toolbar',{attrs:{\"color\":\"blue-grey\",\"dark\":\"\"}},[_c('v-toolbar-title',[_vm._v(\" Open CV DEMO \")]),_c('v-spacer'),_c('v-menu',{attrs:{\"bottom\":\"\",\"left\":\"\",\"close-on-content-click\":false},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"icon\":\"\"}},on),[_c('v-icon',[_vm._v(\"mdi-cog\")])],1)]}}]),model:{value:(_vm.conf.show),callback:function ($$v) {_vm.$set(_vm.conf, \"show\", $$v)},expression:\"conf.show\"}},[_c('v-list',{attrs:{\"subheader\":\"\"}},[_c('v-subheader',[_vm._v(\" background-subtractor \")]),_c('v-list-item',[_c('v-list-item-title',[_c('v-text-field',{attrs:{\"label\":\"history\"},model:{value:(_vm.conf.bs.history),callback:function ($$v) {_vm.$set(_vm.conf.bs, \"history\", $$v)},expression:\"conf.bs.history\"}})],1)],1),_c('v-list-item',[_c('v-list-item-title',[_c('v-text-field',{attrs:{\"label\":\"threshold\"},model:{value:(_vm.conf.bs.threshold),callback:function ($$v) {_vm.$set(_vm.conf.bs, \"threshold\", $$v)},expression:\"conf.bs.threshold\"}})],1)],1),_c('v-list-item',[_c('v-list-item-title',[_c('v-switch',{attrs:{\"label\":\"detectShadows\"},model:{value:(_vm.conf.bs.detectShadows),callback:function ($$v) {_vm.$set(_vm.conf.bs, \"detectShadows\", $$v)},expression:\"conf.bs.detectShadows\"}})],1)],1)],1)],1)],1),(_vm.video.dataUrl && _vm.video.file)?_c('v-container',[_c('v-row',[_c('v-card',{staticClass:\"ma-1\"},[_c('v-system-bar',{attrs:{\"dark\":\"\",\"color\":\"primary\"}},[_c('span',[_vm._v(\"origin\")])]),_c('video',{ref:\"video\",attrs:{\"width\":_vm.video.size.width,\"height\":_vm.video.size.height,\"src\":_vm.video.dataUrl}})],1),_c('v-card',{staticClass:\"ma-1\"},[_c('v-system-bar',{attrs:{\"dark\":\"\",\"color\":\"primary\"}},[_c('span',[_vm._v(\"background-subtractor\")])]),_c('background-subtractor',{ref:\"backgroundSubtractor\",attrs:{\"dataUrl\":_vm.video.dataUrl,\"fps\":_vm.video.fps,\"width\":_vm.video.size.width,\"height\":_vm.video.size.height,\"history\":Number(_vm.conf.bs.history),\"threshold\":Number(_vm.conf.bs.threshold),\"detectShadows\":_vm.conf.bs.detectShadows}})],1),_c('v-card',{staticClass:\"ma-1\"},[_c('v-system-bar',{attrs:{\"dark\":\"\",\"color\":\"primary\"}},[_c('span',[_vm._v(\"optical-flow\")])]),_c('optical-flow',{ref:\"opticalFlow\",attrs:{\"dataUrl\":_vm.video.dataUrl,\"fps\":_vm.video.fps,\"width\":_vm.video.size.width,\"height\":_vm.video.size.height}})],1),_c('v-card',{staticClass:\"ma-1\"},[_c('v-system-bar',{attrs:{\"dark\":\"\",\"color\":\"primary\"}},[_c('span',[_vm._v(\"mean-shift\")])]),_c('mean-shift',{ref:\"meanShift\",attrs:{\"dataUrl\":_vm.video.dataUrl,\"fps\":_vm.video.fps,\"width\":_vm.video.size.width,\"height\":_vm.video.size.height}})],1)],1)],1):_vm._e()],1)],1),_c('v-card-actions',[_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.prev}},[_vm._v(\" prev \")]),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.play}},[_vm._v(\"Play\")]),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.pause}},[_vm._v(\" Pause \")]),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.next}},[_vm._v(\"next\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"background-subtractor\"},[_c('video',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],ref:\"video\",attrs:{\"width\":_vm.width,\"height\":_vm.height,\"muted\":\"\",\"src\":_vm.dataUrl},domProps:{\"muted\":true},on:{\"timeupdate\":_vm.onTimeupdate,\"loadeddata\":_vm.onLoadeddata}}),_c('canvas',{ref:\"canvas\",staticStyle:{\"border\":\"1px solid #000000\"},attrs:{\"width\":_vm.width,\"height\":_vm.height}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import colors from \"vuetify/lib/util/colors\";\n\nconst getCode = text => {\n  const args = text.split(\" \");\n  if (args.length == 1) {\n    return colors[args[0]].base;\n  } else {\n    return colors[args[0]][args[1].replace(\"-\", \"\")];\n  }\n};\n\nconst css2rgb = code => {\n  if (code.length !== 7) {\n    return \"rgb(255,255,255)\";\n  } else {\n    if (code.split(\"\")[0] === \"#\") {\n      code = code.substring(1);\n    }\n    if (code.length === 3) {\n      var codeArr = code.split(\"\");\n      code =\n        codeArr[0] +\n        codeArr[0] +\n        codeArr[1] +\n        codeArr[1] +\n        codeArr[2] +\n        codeArr[2];\n    }\n    const r = parseInt(code.substring(0, 2), 16);\n    const g = parseInt(code.substring(2, 4), 16);\n    const b = parseInt(code.substring(4, 6), 16);\n    return `rgb(${r},${g},${b})`;\n  }\n};\n\nconst getRgb = text => {\n  const code = getCode(text);\n  if (code) {\n    return css2rgb(code);\n  }\n};\n\nexport default {\n  getCode: getCode,\n  getRgb: getRgb,\n  css2rgb: css2rgb\n};\n","<template>\n  <div class=\"background-subtractor\">\n    <video\n      v-show=\"false\"\n      ref=\"video\"\n      :width=\"width\"\n      :height=\"height\"\n      muted\n      :src=\"dataUrl\"\n      v-on:timeupdate=\"onTimeupdate\"\n      v-on:loadeddata=\"onLoadeddata\"\n    />\n    <canvas\n      ref=\"canvas\"\n      :width=\"width\"\n      :height=\"height\"\n      style=\"border:1px solid #000000;\"\n    />\n  </div>\n</template>\n\n<script>\nimport ColorUtil from \"@/utils/color.js\";\nexport default {\n  name: \"BackgroundSubtractor\",\n  props: {\n    dataUrl: {\n      type: String,\n      require: true\n    },\n    fps: {\n      type: Number,\n      require: true\n    },\n    width: {\n      type: Number,\n      require: true\n    },\n    height: {\n      type: Number,\n      require: true\n    },\n    history: {\n      type: Number,\n      default: 50\n    },\n    threshold: {\n      type: Number,\n      default: 16\n    },\n    detectShadows: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data: () => ({\n    cap: null,\n    video: null,\n    frame: null,\n    fgmask: null\n  }),\n  computed: {\n    fgbg: function() {\n      const tag = `${this.$options.name}:computed:fgbg`;\n      console.info(tag);\n      return new cv.BackgroundSubtractorMOG2(\n        this.history,\n        this.threshold,\n        this.detectShadows\n      );\n    }\n  },\n  methods: {\n    onLoadeddata: function() {\n      const tag = `${this.$options.name}:onLoadeddata`;\n      this.setCurrentTime(1 / this.fps);\n      try {\n        const canvas = this.$refs.canvas;\n        const ctx = canvas.getContext(\"2d\");\n        ctx.fillStyle = ColorUtil.getRgb(\"grey\");\n        ctx.fillRect(0, 0, this.width, this.height);\n        this.cap.read(this.frame);\n        cv.imshow(this.$refs.canvas, this.frame);\n        console.info(tag);\n      } catch (err) {\n        console.error(tag, err);\n      }\n    },\n    onTimeupdate: function() {\n      const tag = `${this.$options.name}:onTimeupdate`;\n      try {\n        this.cap.read(this.frame);\n        this.fgbg.apply(this.frame, this.fgmask);\n        cv.imshow(this.$refs.canvas, this.fgmask);\n      } catch (err) {\n        console.error(tag, err);\n      }\n    },\n    play: function() {\n      this.video.play();\n    },\n    pause: function() {\n      this.video.pause();\n    },\n    setCurrentTime: function(time) {\n      const tag = `${this.$options.name}:setCurrentTime`;\n      if (time > 0 && time < this.video.duration) {\n        this.video.currentTime = time;\n        console.info(tag, this.video.currentTime);\n      } else {\n        console.error(tag, this.video.currentTime);\n      }\n    }\n  },\n  mounted: function() {\n    this.video = this.$refs.video;\n    this.cap = new cv.VideoCapture(this.video);\n    this.frame = new cv.Mat(this.height, this.width, cv.CV_8UC4);\n    this.fgmask = new cv.Mat(this.height, this.width, cv.CV_8UC1);\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BackgroundSubtractor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BackgroundSubtractor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BackgroundSubtractor.vue?vue&type=template&id=4af4b77c&\"\nimport script from \"./BackgroundSubtractor.vue?vue&type=script&lang=js&\"\nexport * from \"./BackgroundSubtractor.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"optical-flow\"},[_c('video',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],ref:\"video\",attrs:{\"width\":_vm.width,\"height\":_vm.height,\"muted\":\"\",\"src\":_vm.dataUrl},domProps:{\"muted\":true},on:{\"timeupdate\":_vm.onTimeupdate,\"loadeddata\":_vm.onLoadeddata}}),_c('canvas',{ref:\"canvas\",staticStyle:{\"border\":\"1px solid #000000\"},attrs:{\"width\":_vm.width,\"height\":_vm.height}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"optical-flow\">\n    <video\n      v-show=\"false\"\n      ref=\"video\"\n      :width=\"width\"\n      :height=\"height\"\n      muted\n      :src=\"dataUrl\"\n      v-on:timeupdate=\"onTimeupdate\"\n      v-on:loadeddata=\"onLoadeddata\"\n    />\n    <canvas\n      ref=\"canvas\"\n      :width=\"width\"\n      :height=\"height\"\n      style=\"border:1px solid #000000;\"\n    />\n  </div>\n</template>\n\n<script>\n// import ColorUtil from \"@/utils/color.js\";\nexport default {\n  name: \"OpticalFlow\",\n  props: {\n    dataUrl: {\n      type: String,\n      require: true\n    },\n    fps: {\n      type: Number,\n      require: true\n    },\n    width: {\n      type: Number,\n      require: true\n    },\n    height: {\n      type: Number,\n      require: true\n    }\n  },\n  data: () => ({\n    video: null,\n    cap: null,\n    frame2: null,\n    next: null,\n    prvs: null,\n    flow: null,\n    flowVec: null,\n    ang: null,\n    mag: null,\n    hsv0: null,\n    hsv: null,\n    hsv2: null,\n    hsvVec: null,\n    rgb: null\n  }),\n  computed: {},\n  methods: {\n    onLoadeddata: function() {\n      const tag = `${this.$options.name}:onLoadeddata`;\n      this.cap.read(this.frame2);\n      cv.imshow(this.$refs.canvas, this.frame2);\n      console.log(tag);\n    },\n    onTimeupdate: function() {\n      const tag = `${this.$options.name}:onTimeupdate`;\n      try {\n        // start processing.\n        this.cap.read(this.frame2);\n        cv.cvtColor(this.frame2, this.next, cv.COLOR_RGBA2GRAY);\n        cv.calcOpticalFlowFarneback(\n          this.prvs,\n          this.next,\n          this.flow,\n          0.5,\n          3,\n          15,\n          3,\n          5,\n          1.2,\n          0\n        );\n        cv.split(this.flow, this.flowVec);\n        let u = this.flowVec.get(0);\n        let v = this.flowVec.get(1);\n        cv.cartToPolar(u, v, this.mag, this.ang);\n        u.delete();\n        v.delete();\n        this.ang.convertTo(this.hsv0, cv.CV_8UC1, 180 / Math.PI / 2);\n        cv.normalize(this.mag, this.hsv2, 0, 255, cv.NORM_MINMAX, cv.CV_8UC1);\n        cv.merge(this.hsvVec, this.hsv);\n        cv.cvtColor(this.hsv, this.rgb, cv.COLOR_HSV2RGB);\n        cv.imshow(this.$refs.canvas, this.rgb);\n        this.next.copyTo(this.prvs);\n      } catch (err) {\n        console.error(err);\n      }\n\n      console.log(tag);\n    },\n    play: function() {\n      this.video.play();\n    },\n    pause: function() {\n      this.video.pause();\n    },\n    setCurrentTime: function(time) {\n      const tag = `${this.$options.name}:setCurrentTime`;\n      if (time > 0 && time < this.video.duration) {\n        this.video.currentTime = time;\n        console.info(tag, this.video.currentTime);\n      } else {\n        console.error(tag, this.video.currentTime);\n      }\n    }\n  },\n  mounted: function() {\n    this.video = this.$refs.video;\n    this.cap = new cv.VideoCapture(this.video);\n\n    this.prvs = new cv.Mat();\n    this.frame2 = new cv.Mat(this.height, this.width, cv.CV_8UC4);\n    this.next = new cv.Mat(this.height, this.width, cv.CV_8UC1);\n    this.flow = new cv.Mat(this.height, this.width, cv.CV_32FC2);\n    this.flowVec = new cv.MatVector();\n\n    this.mag = new cv.Mat(this.height, this.width, cv.CV_32FC1);\n    this.ang = new cv.Mat(this.height, this.width, cv.CV_32FC1);\n\n    // take first frame of the video\n    let frame1 = new cv.Mat(this.height, this.width, cv.CV_8UC4);\n    this.cap.read(frame1);\n\n    cv.cvtColor(frame1, this.prvs, cv.COLOR_RGBA2GRAY);\n    frame1.delete();\n    this.hsv = new cv.Mat();\n    this.hsv0 = new cv.Mat(this.height, this.width, cv.CV_8UC1);\n    let hsv1 = new cv.Mat(\n      this.height,\n      this.width,\n      cv.CV_8UC1,\n      new cv.Scalar(255)\n    );\n    this.hsv2 = new cv.Mat(this.height, this.width, cv.CV_8UC1);\n    this.hsvVec = new cv.MatVector();\n    this.hsvVec.push_back(this.hsv0);\n    this.hsvVec.push_back(hsv1);\n    this.hsvVec.push_back(this.hsv2);\n    this.rgb = new cv.Mat(this.height, this.width, cv.CV_8UC3);\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OpticalFlow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OpticalFlow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OpticalFlow.vue?vue&type=template&id=3a27a021&\"\nimport script from \"./OpticalFlow.vue?vue&type=script&lang=js&\"\nexport * from \"./OpticalFlow.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mean-shift\"},[_c('video',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],ref:\"video\",attrs:{\"width\":_vm.width,\"height\":_vm.height,\"muted\":\"\",\"src\":_vm.dataUrl},domProps:{\"muted\":true},on:{\"timeupdate\":_vm.onTimeupdate,\"loadeddata\":_vm.onLoadeddata}}),_c('canvas',{ref:\"canvas\",staticStyle:{\"border\":\"1px solid #000000\"},attrs:{\"width\":_vm.width,\"height\":_vm.height}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"mean-shift\">\n    <video\n      v-show=\"false\"\n      ref=\"video\"\n      :width=\"width\"\n      :height=\"height\"\n      muted\n      :src=\"dataUrl\"\n      v-on:timeupdate=\"onTimeupdate\"\n      v-on:loadeddata=\"onLoadeddata\"\n    />\n    <canvas\n      ref=\"canvas\"\n      :width=\"width\"\n      :height=\"height\"\n      style=\"border:1px solid #000000;\"\n    />\n  </div>\n</template>\n\n<script>\n// import ColorUtil from \"@/utils/color.js\";\nexport default {\n  name: \"MeanShift\",\n  props: {\n    dataUrl: {\n      type: String,\n      require: true\n    },\n    fps: {\n      type: Number,\n      require: true\n    },\n    width: {\n      type: Number,\n      require: true\n    },\n    height: {\n      type: Number,\n      require: true\n    }\n  },\n  data: () => ({\n    video: null,\n    cap: null,\n    frame: null,\n    hsv: null,\n    hsvVec: null,\n    roiHist: null,\n    dst: null,\n    trackBox: null,\n    termCrit: null\n  }),\n  methods: {\n    onLoadeddata: function() {\n      const tag = `${this.$options.name}:onLoadeddata`;\n      this.cap.read(this.frame);\n      cv.imshow(this.$refs.canvas, this.frame);\n      console.info(tag, this.video.currentTime);\n    },\n    onTimeupdate: function() {\n      const tag = `${this.$options.name}:onTimeupdate`;\n      try {\n        // start processing.\n        this.cap.read(this.frame);\n        cv.cvtColor(this.frame, this.hsv, cv.COLOR_RGBA2RGB);\n        cv.cvtColor(this.hsv, this.hsv, cv.COLOR_RGB2HSV);\n        cv.calcBackProject(\n          this.hsvVec,\n          [0],\n          this.roiHist,\n          this.dst,\n          [0, 180],\n          1\n        );\n        // apply camshift to get the new location\n        [this.trackBox, this.trackWindow] = cv.CamShift(\n          this.dst,\n          this.trackWindow,\n          this.termCrit\n        );\n        // Draw it on image\n        let pts = cv.rotatedRectPoints(this.trackBox);\n        cv.line(this.frame, pts[0], pts[1], [255, 0, 0, 255], 3);\n        cv.line(this.frame, pts[1], pts[2], [255, 0, 0, 255], 3);\n        cv.line(this.frame, pts[2], pts[3], [255, 0, 0, 255], 3);\n        cv.line(this.frame, pts[3], pts[0], [255, 0, 0, 255], 3);\n        cv.imshow(this.$refs.canvas, this.frame);\n      } catch (err) {\n        console.error(tag, err);\n      }\n    },\n    play: function() {\n      this.video.play();\n    },\n    pause: function() {\n      this.video.pause();\n    },\n    setCurrentTime: function(time) {\n      if (time > 0 && time < this.video.duration) {\n        this.video.currentTime = time;\n      }\n    }\n  },\n  mounted: function() {\n    this.video = this.$refs.video;\n    this.cap = new cv.VideoCapture(this.video);\n    this.frame = new cv.Mat(this.height, this.width, cv.CV_8UC4);\n    this.trackWindow = new cv.Rect(150, 60, 63, 125);\n    let roi = this.frame.roi(this.trackWindow);\n    let hsvRoi = new cv.Mat();\n    cv.cvtColor(roi, hsvRoi, cv.COLOR_RGBA2RGB);\n    cv.cvtColor(hsvRoi, hsvRoi, cv.COLOR_RGB2HSV);\n    let mask = new cv.Mat();\n    let lowScalar = new cv.Scalar(30, 30, 0);\n    let highScalar = new cv.Scalar(180, 180, 180);\n    let low = new cv.Mat(hsvRoi.rows, hsvRoi.cols, hsvRoi.type(), lowScalar);\n    let high = new cv.Mat(hsvRoi.rows, hsvRoi.cols, hsvRoi.type(), highScalar);\n    cv.inRange(hsvRoi, low, high, mask);\n    this.roiHist = new cv.Mat();\n    let hsvRoiVec = new cv.MatVector();\n    hsvRoiVec.push_back(hsvRoi);\n    cv.calcHist(hsvRoiVec, [0], mask, this.roiHist, [180], [0, 180]);\n    cv.normalize(this.roiHist, this.roiHist, 0, 255, cv.NORM_MINMAX);\n\n    // delete useless mats.\n    roi.delete();\n    hsvRoi.delete();\n    mask.delete();\n    low.delete();\n    high.delete();\n    hsvRoiVec.delete();\n\n    // Setup the termination criteria, either 10 iteration or move by atleast 1 pt\n    this.termCrit = new cv.TermCriteria(\n      cv.TERM_CRITERIA_EPS | cv.TERM_CRITERIA_COUNT,\n      10,\n      1\n    );\n\n    this.hsv = new cv.Mat(this.height, this.width, cv.CV_8UC3);\n    this.hsvVec = new cv.MatVector();\n    this.hsvVec.push_back(this.hsv);\n    this.dst = new cv.Mat();\n    this.trackBox = null;\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MeanShift.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MeanShift.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MeanShift.vue?vue&type=template&id=da0130d2&\"\nimport script from \"./MeanShift.vue?vue&type=script&lang=js&\"\nexport * from \"./MeanShift.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"component-debug\">\n    <h1>Debug components</h1>\n    <v-card class=\"mx-auto\">\n      <v-toolbar color=\"primary\" dark>\n        <v-toolbar-title>動画関連</v-toolbar-title>\n        <v-spacer></v-spacer>\n        <v-toolbar-title v-if=\"video.name && video.fps\">\n          {{ video.name }} ({{ video.fps }})\n        </v-toolbar-title>\n      </v-toolbar>\n      <v-container>\n        <m-movie-input v-model=\"video\" />\n        <v-card class=\"mx-auto\">\n          <v-toolbar color=\"blue-grey\" dark>\n            <v-toolbar-title>\n              Open CV DEMO\n            </v-toolbar-title>\n            <v-spacer></v-spacer>\n            <v-menu\n              bottom\n              left\n              v-model=\"conf.show\"\n              :close-on-content-click=\"false\"\n            >\n              <template v-slot:activator=\"{ on }\">\n                <v-btn icon v-on=\"on\">\n                  <v-icon>mdi-cog</v-icon>\n                </v-btn>\n              </template>\n              <v-list subheader>\n                <v-subheader>\n                  background-subtractor\n                </v-subheader>\n                <v-list-item>\n                  <v-list-item-title>\n                    <v-text-field v-model=\"conf.bs.history\" label=\"history\" />\n                  </v-list-item-title>\n                </v-list-item>\n                <v-list-item>\n                  <v-list-item-title>\n                    <v-text-field\n                      v-model=\"conf.bs.threshold\"\n                      label=\"threshold\"\n                    />\n                  </v-list-item-title>\n                </v-list-item>\n                <v-list-item>\n                  <v-list-item-title>\n                    <v-switch\n                      v-model=\"conf.bs.detectShadows\"\n                      label=\"detectShadows\"\n                    />\n                  </v-list-item-title>\n                </v-list-item>\n              </v-list>\n            </v-menu>\n          </v-toolbar>\n          <v-container v-if=\"video.dataUrl && video.file\">\n            <v-row>\n              <v-card class=\"ma-1\">\n                <v-system-bar dark color=\"primary\">\n                  <span>origin</span>\n                </v-system-bar>\n                <video\n                  ref=\"video\"\n                  :width=\"video.size.width\"\n                  :height=\"video.size.height\"\n                  :src=\"video.dataUrl\"\n                />\n              </v-card>\n              <v-card class=\"ma-1\">\n                <v-system-bar dark color=\"primary\">\n                  <span>background-subtractor</span>\n                </v-system-bar>\n                <background-subtractor\n                  ref=\"backgroundSubtractor\"\n                  :dataUrl=\"video.dataUrl\"\n                  :fps=\"video.fps\"\n                  :width=\"video.size.width\"\n                  :height=\"video.size.height\"\n                  :history=\"Number(conf.bs.history)\"\n                  :threshold=\"Number(conf.bs.threshold)\"\n                  :detectShadows=\"conf.bs.detectShadows\"\n                />\n              </v-card>\n              <v-card class=\"ma-1\">\n                <v-system-bar dark color=\"primary\">\n                  <span>optical-flow</span>\n                </v-system-bar>\n                <optical-flow\n                  ref=\"opticalFlow\"\n                  :dataUrl=\"video.dataUrl\"\n                  :fps=\"video.fps\"\n                  :width=\"video.size.width\"\n                  :height=\"video.size.height\"\n                />\n              </v-card>\n              <v-card class=\"ma-1\">\n                <v-system-bar dark color=\"primary\">\n                  <span>mean-shift</span>\n                </v-system-bar>\n                <mean-shift\n                  ref=\"meanShift\"\n                  :dataUrl=\"video.dataUrl\"\n                  :fps=\"video.fps\"\n                  :width=\"video.size.width\"\n                  :height=\"video.size.height\"\n                />\n              </v-card>\n            </v-row>\n          </v-container>\n        </v-card>\n      </v-container>\n      <v-card-actions>\n        <v-btn text @click=\"prev\">\n          prev\n        </v-btn>\n        <v-btn text @click=\"play\">Play</v-btn>\n        <v-btn text @click=\"pause\">\n          Pause\n        </v-btn>\n        <v-btn text @click=\"next\">next</v-btn>\n      </v-card-actions>\n    </v-card>\n  </div>\n</template>\n\n<script>\nimport MMovieInput from \"@/components/form/MMovieInput.vue\";\nimport BackgroundSubtractor from \"@/components/videos/BackgroundSubtractor.vue\";\nimport OpticalFlow from \"@/components/videos/OpticalFlow.vue\";\nimport MeanShift from \"@/components/videos/MeanShift.vue\";\nexport default {\n  name: \"ComponentDebug\",\n  components: {\n    MMovieInput,\n    BackgroundSubtractor,\n    OpticalFlow,\n    MeanShift\n  },\n  data: () => ({\n    video: {\n      loading: false,\n      name: null,\n      dataUrl: null,\n      fps: null,\n      size: {\n        width: null,\n        height: null\n      }\n    },\n    conf: {\n      show: false,\n      bs: {\n        history: 50,\n        threshold: 16,\n        detectShadows: false\n      }\n    }\n  }),\n  methods: {\n    play: function() {\n      const video = this.$refs.video;\n      video.play();\n      this.$refs.backgroundSubtractor.play();\n      this.$refs.meanShift.play();\n      this.$refs.opticalFlow.play();\n      this.$refs.videoArray.play();\n    },\n    pause: function() {\n      const video = this.$refs.video;\n      video.pause();\n      this.$refs.backgroundSubtractor.pause();\n      this.$refs.meanShift.pause();\n      this.$refs.opticalFlow.pause();\n      this.$refs.videoArray.pause();\n    },\n    prev: function() {\n      const video = this.$refs.video;\n      const frameRate = 1 / this.video.fps;\n      const time = Math.max(0, video.currentTime - frameRate);\n      video.currentTime = time;\n      this.$refs.backgroundSubtractor.setCurrentTime(time);\n      this.$refs.meanShift.setCurrentTime(time);\n      this.$refs.opticalFlow.setCurrentTime(time);\n      this.$refs.videoArray.prev();\n    },\n    next: function() {\n      const video = this.$refs.video;\n      const frameRate = 1 / this.video.fps;\n      const time = Math.min(video.duration, video.currentTime + frameRate);\n      video.currentTime = time;\n      this.$refs.backgroundSubtractor.setCurrentTime(time);\n      this.$refs.meanShift.setCurrentTime(time);\n      this.$refs.opticalFlow.setCurrentTime(time);\n      this.$refs.videoArray.next();\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComponentDebug.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComponentDebug.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ComponentDebug.vue?vue&type=template&id=07756de2&\"\nimport script from \"./ComponentDebug.vue?vue&type=script&lang=js&\"\nexport * from \"./ComponentDebug.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSubheader } from 'vuetify/lib/components/VSubheader';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\nimport { VSystemBar } from 'vuetify/lib/components/VSystemBar';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VCard,VCardActions,VContainer,VIcon,VList,VListItem,VListItemTitle,VMenu,VRow,VSpacer,VSubheader,VSwitch,VSystemBar,VTextField,VToolbar,VToolbarTitle})\n","import Vue from \"vue\";\nimport VueRouter from \"vue-router\";\nimport Home from \"@/views/Home.vue\";\nimport About from \"@/views/About.vue\";\nimport Config from \"@/views/Config.vue\";\nimport MovieAnnotation from \"@/views/MovieAnnotation.vue\";\nimport ImageAnnotation from \"@/views/ImageAnnotation.vue\";\nimport ComponentDebug from \"@/views/ComponentDebug.vue\";\n\nVue.use(VueRouter);\n\nconst routes = [\n  {\n    path: \"/\",\n    name: \"Home\",\n    component: Home\n  },\n  {\n    path: \"/about\",\n    name: \"About\",\n    component: About\n  },\n  {\n    path: \"/config\",\n    name: \"Config\",\n    component: Config\n  },\n  {\n    path: \"/movies/:id\",\n    name: \"MovieAnnotation\",\n    component: MovieAnnotation,\n    props: true\n  },\n  {\n    path: \"/movies/:id\",\n    name: \"ImageAnnotation\",\n    component: ImageAnnotation,\n    props: true\n  },\n  {\n    path: \"/debug/\",\n    name: \"ComponentDebug\",\n    component: ComponentDebug,\n    props: true\n  }\n];\n\nconst router = new VueRouter({\n  mode: \"history\",\n  base: process.env.BASE_URL,\n  routes\n});\n\nexport default router;\n","/**\n * store/current.js\n *\n * 現在表示の状態を管理します.\n * 基本的には, 現在解析を行っている動画が画像がどれであるかや,\n * 現在表示の動画時刻がいつであるのか, 現在の画面サイズが\n * どの大きさであるのか等を管理します\n */\n\nconst TAG = \"current\";\nconst MUTATIONTAG = `${TAG}:MUTATION`;\nconst ACTIONTAG = `${TAG}:ACTION`;\n\nexport const current = {\n  namespaced: true,\n  state: {\n    name: null,\n    fileSize: null,\n    fileType: null,\n    fps: null,\n    dataUrl: null,\n    lastModifiedDate: null,\n    currentTime: null,\n    size: {\n      width: null,\n      height: null\n    },\n    videoStream: {\n      bitrate: null,\n      codec_name: null,\n      fps: null,\n      pix_fmt: null,\n      tbc: null,\n      tbn: null,\n      tbr: null\n    },\n    audioStream: {\n      codec_name: null,\n      bitrate: null,\n      channel_layout: null,\n      sample_fmt: null,\n      sample_rate: null\n    }\n  },\n  mutations: {\n    setName: function(state, payload) {\n      console.info(`${MUTATIONTAG}:setName`, payload);\n      state.name = String(payload);\n    },\n    setCurrentTime: function(state, payload) {\n      console.info(`${MUTATIONTAG}:setCurrentTime`, payload);\n      state.currentTime = payload;\n    },\n    setLastModifiedData: function(state, payload) {\n      console.info(`${MUTATIONTAG}:setLastModifiedData`, payload);\n      state.lastModifiedDate = payload;\n    },\n    setFileSize: function(state, payload) {\n      console.info(`${MUTATIONTAG}:setFileSize`, payload);\n      state.fileSize = payload;\n    },\n    setFileType: function(state, payload) {\n      console.info(`${MUTATIONTAG}:setFileType`, payload);\n      state.fileType = payload;\n    },\n    setFps: function(state, payload) {\n      console.info(`${MUTATIONTAG}:setFps`, payload);\n      state.fps = Number(payload);\n    },\n    setDataUrl: function(state, payload) {\n      console.info(`${MUTATIONTAG}:setDataUrl`, payload.split(\",\")[0]);\n      state.dataUrl = String(payload);\n    },\n    setSize: function(state, payload) {\n      console.info(`${MUTATIONTAG}:setSize`, payload);\n      state.size.width = payload.width;\n      state.size.height = payload.height;\n    },\n    setWidth: function(state, payload) {\n      console.info(`${MUTATIONTAG}:setWidth`, payload);\n      state.size.width = payload;\n    },\n    setHeight: function(state, payload) {\n      console.info(`${MUTATIONTAG}:setHeight`, payload);\n      state.size.height = payload;\n    },\n    setVideoStream: function(state, payload) {\n      console.info(`${MUTATIONTAG}:setVideoStream`, payload);\n      state.videoStream.codec_name = String(payload.codec_name);\n      state.videoStream.pix_fmt = String(payload.pix_fmt);\n      state.videoStream.bitrate = Number(payload.bitrate);\n      state.videoStream.fps = Number(payload.fps);\n      state.videoStream.tbc = Number(payload.tbc);\n      state.videoStream.tbn = Number(payload.tbn);\n      state.videoStream.tbr = Number(payload.tbr);\n    },\n    setAudioStream: function(state, payload) {\n      console.info(`${MUTATIONTAG}:setAudioStream`, payload);\n      state.audioStream.bitrate = payload.bitrate;\n      state.audioStream.channel_layout = payload.channel_layout;\n      state.audioStream.codec_name = payload.codec_name;\n      state.audioStream.sample_fmt = payload.sample_fmt;\n      state.audioStream.sample_rate = payload.sample_rate;\n    }\n  },\n  actions: {\n    setItem: function(context, payload) {\n      console.info(`${ACTIONTAG}:setItem`, payload);\n      context.commit(\"setName\", payload.name);\n      context.commit(\"setLastModifiedData\", payload.lastModifiedDate);\n      context.commit(\"setFileSize\", payload.fileSize);\n      context.commit(\"setFileType\", payload.fileType);\n      context.commit(\"setFps\", payload.fps);\n      context.commit(\"setDataUrl\", payload.dataUrl);\n      context.commit(\"setSize\", payload.size);\n      context.commit(\"setVideoStream\", payload.videoStream);\n      context.commit(\"setAudioStream\", payload.audioStream);\n    },\n    setName: function(context, payload) {\n      console.info(`${ACTIONTAG}:setName`, payload);\n      context.commit(\"setName\", payload);\n    },\n    setFps: function(context, payload) {\n      console.info(`${ACTIONTAG}:setFps`, payload);\n      context.commit(\"setFps\", payload);\n    },\n    setCurrentTime: function(context, payload) {\n      console.info(`${ACTIONTAG}:setCurrentTime`, payload);\n      context.commit(\"setCurrentTime\", payload);\n    },\n    setDataUrl: function(context, payload) {\n      console.info(`${ACTIONTAG}:setDataUrl`, payload);\n      context.commit(\"setDataUrl\", payload);\n    },\n    setSize: function(context, payload) {\n      console.info(`${ACTIONTAG}:setSize`, payload);\n      context.commit(\"setSize\", payload);\n    },\n    setWidth: function(context, payload) {\n      console.info(`${ACTIONTAG}:setWidth`, payload);\n      context.commit(\"setWidth\", payload);\n    },\n    setMovieHeight: function(context, payload) {\n      console.info(`${ACTIONTAG}:setHeight`, payload);\n      context.commit(\"setHeight\", payload);\n    },\n    setVideoStream: function(context, payload) {\n      console.info(`${ACTIONTAG}:setVideoStream`, payload);\n      context.commit(\"setVideoStream\", payload);\n    },\n    setAudioStream: function(context, payload) {\n      console.info(`${ACTIONTAG}:setAudioStream`, payload);\n      context.commit(\"setAudioStream\", payload);\n    }\n  }\n};\n","import Vue from \"vue\";\nimport Vuex from \"vuex\";\nimport VuexORM from \"@vuex-orm/core\";\nimport VuexORMLocalForage from \"vuex-orm-localforage\";\n\nimport File from \"@/models/file.js\";\nimport AudioStream from \"@/models/audioStream.js\";\nimport VideoStream from \"@/models/videoStream.js\";\nimport VideoSize from \"@/models/videoSize.js\";\n\nimport { current } from \"./current.js\";\n\nconst database = new VuexORM.Database();\ndatabase.register(File);\ndatabase.register(AudioStream);\ndatabase.register(VideoStream);\ndatabase.register(VideoSize);\n\nVuexORM.use(VuexORMLocalForage, {\n  database,\n  localforage: {\n    name: process.env.VUE_APP_LOCAlFORAGE_NAME\n  }\n});\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n  state: {\n    appName: \"MRI Vuewer\",\n    appVersion: \"2.0\"\n  },\n  mutations: {},\n  actions: {},\n  modules: { current },\n  plugins: [VuexORM.install(database)]\n});\n","export default {\n  badge: \"バッジ\",\n  close: \"閉じる\",\n  dataIterator: {\n    noResultsText: \"検索結果が見つかりません。\",\n    loadingText: \"項目をロード中です...\"\n  },\n  dataTable: {\n    itemsPerPageText: \"1ページあたりの行数：\",\n    ariaLabel: {\n      sortDescending: \"降順の並び替え。\",\n      sortAscending: \"昇順の並び替え。\",\n      sortNone: \"ソートされていません。\",\n      activateNone: \"ソートを削除するには有効にしてください。\",\n      activateDescending: \"降順の並び替えのためには有効にしてください。\",\n      activateAscending: \"昇順のソートのためには有効にしてください。\"\n    },\n    sortBy: \"ソート方式\"\n  },\n  dataFooter: {\n    itemsPerPageText: \"1ページあたりの件数：\",\n    itemsPerPageAll: \"すべて\",\n    nextPage: \"次のページ\",\n    prevPage: \"前のページ\",\n    firstPage: \"一ページ目\",\n    lastPage: \"最後のページ\",\n    pageText: \"{0}-{1} 件目 / {2}件\"\n  },\n  datePicker: {\n    itemsSelected: \"{0}日付選択\"\n  },\n  noDataText: \"データはありません。\",\n  carousel: {\n    prev: \"前のビジュアル\",\n    next: \"次のビジュアル\",\n    ariaLabel: {\n      delimiter: \"Carousel slide {0} of {1}\"\n    }\n  },\n  calendar: {\n    moreEvents: \"さらに{0}\"\n  },\n  fileInput: {\n    counter: \"{0} ファイル\",\n    counterSize: \"{0} ファイル (合計 {1})\"\n  },\n  timePicker: {\n    am: \"AM\",\n    pm: \"PM\"\n  },\n  validate: {\n    required: \"このフィールドは必須です\",\n    lessThen: \"このフィールドは{0}文字以下でなければいけません\",\n    moreThen: \"このフィールドは{0}文字以上でなければいけません\",\n    isFloat: \"このフィールドは浮動小数型です\"\n  },\n  baseFromDialog: {\n    open: \"ダイアログを開く\",\n    hint: \"* は必須フィールドです\",\n    close: \"閉じる\",\n    save: \"保存\"\n  },\n  movieUploadDialog: {\n    file: {\n      title: \"動画ファイル\",\n      hint: \"動画ファイルは mp4, webm  または ogv 形式に対応しています\"\n    },\n    name: {\n      title: \"表示名\",\n      hint: \"動画ファイルを登録する際の表示名です\"\n    },\n    fps: {\n      title: \"動画フレームレート\",\n      hint: \"動画の FPS を登録してください\"\n    }\n  },\n  sidebar: {\n    files: {\n      title: \"アノテーション\",\n      add: \"新規ファイル\",\n      list: \"登録ファイル\"\n    },\n    cache: {\n      destroy: \"キャッシュの削除\",\n      export: \"キャッシュの取り出し\",\n      import: \"キャッシュの読み込み\"\n    }\n  },\n  home: {\n    disc: \"MP4 動画アノテーションツール\",\n    upload: {\n      title: \"動画登録\",\n      btn: \"アップロード\",\n      hint: \"任意の動画ファイルをアノテーション用に取り込みます\"\n    },\n    demo: {\n      title: \"サンプル\",\n      btn: \"サンプル動画読み込み\",\n      hint: \"サンプル動画を使いアノテーション機能を試します\"\n    }\n  },\n  movieAnnotation: {\n    info: {\n      title: \"動画詳細\",\n      videoStream: {\n        codec: {\n          title: \"ビデオコーディック\"\n        },\n        bitrate: {\n          title: \"ビットレート\"\n        },\n        fps: { title: \"fps\" },\n        tbr: {\n          title: \"tbr\",\n          help: \"ビデオストリームから推測された動画フレームレート\"\n        },\n        tbn: {\n          title: \"tbn\",\n          help: \"コンテナから取得された動画ストリームのタイムベース\"\n        },\n        tbc: {\n          title: \"tbc\",\n          help: \"特定のストリームに使用されるコーデック独自のタイムベース\"\n        }\n      },\n      audioStream: {\n        codec: { title: \"コーディック\" },\n        bitrate: {\n          title: \"ビットレート\"\n        },\n        channel_layout: {\n          title: \"チャンネルレイアウト\"\n        },\n        sample_rate: {\n          title: \"サンプリングレート\"\n        }\n      }\n    }\n  }\n};\n","export default {\n  badge: \"Badge\",\n  close: \"Close\",\n  dataIterator: {\n    noResultsText: \"No matching records found\",\n    loadingText: \"Loading items...\"\n  },\n  dataTable: {\n    itemsPerPageText: \"Rows per page:\",\n    ariaLabel: {\n      sortDescending: \"Sorted descending.\",\n      sortAscending: \"Sorted ascending.\",\n      sortNone: \"Not sorted.\",\n      activateNone: \"Activate to remove sorting.\",\n      activateDescending: \"Activate to sort descending.\",\n      activateAscending: \"Activate to sort ascending.\"\n    },\n    sortBy: \"Sort by\"\n  },\n  dataFooter: {\n    itemsPerPageText: \"Items per page:\",\n    itemsPerPageAll: \"All\",\n    nextPage: \"Next page\",\n    prevPage: \"Previous page\",\n    firstPage: \"First page\",\n    lastPage: \"Last page\",\n    pageText: \"{0}-{1} of {2}\"\n  },\n  datePicker: {\n    itemsSelected: \"{0} selected\"\n  },\n  noDataText: \"No data available\",\n  carousel: {\n    prev: \"Previous visual\",\n    next: \"Next visual\",\n    ariaLabel: {\n      delimiter: \"Carousel slide {0} of {1}\"\n    }\n  },\n  calendar: {\n    moreEvents: \"{0} more\"\n  },\n  fileInput: {\n    counter: \"{0} files\",\n    counterSize: \"{0} files ({1} in total)\"\n  },\n  timePicker: {\n    am: \"AM\",\n    pm: \"PM\"\n  },\n  validate: {\n    required: \"This field is required\",\n    lessThen: \"This field must be less than {0} characters\",\n    moreThen: \"This field must be more than {0} characters\",\n    isFloat: \"This is a float field\"\n  },\n  movieUploadDialog: {\n    file: {\n      title: \"Your movie\",\n      hint: \"supported format is mp4, webm and ogv\"\n    },\n    name: {\n      title: \"Display name\",\n      hint: \"Display name of your movie\"\n    },\n    fps: {\n      title: \"FPS\",\n      hint: \"Register your video fps\"\n    }\n  },\n  baseFromDialog: {\n    open: \"Open Dialog\",\n    hint: \"*indicates required field\",\n    close: \"Close\",\n    save: \"Save\"\n  },\n  sidebar: {\n    files: {\n      title: \"Annotation\",\n      add: \"File upload\",\n      list: \"Registered files\"\n    },\n    cache: {\n      destroy: \"Destroy an app cache\",\n      export: \"Export an app cache\",\n      import: \"Import an app cache\"\n    }\n  },\n  home: {\n    disc: \"Annotation tool for web videos\",\n    upload: {\n      title: \"Register your video\",\n      btn: \"Upload\",\n      hint: \"Import your video file for annotation\"\n    },\n    demo: {\n      title: \"Live demo\",\n      btn: \"Go to a sample movie\",\n      hint: \"Try the annotation function using a sample video\"\n    }\n  },\n  movieAnnotation: {\n    info: {\n      title: \"video format\",\n      videoStream: {\n        codec: {\n          title: \"codec\"\n        },\n        bitrate: {\n          title: \"bitrate\"\n        },\n        fps: { title: \"fps\" },\n        tbr: {\n          title: \"tbr\",\n          help:\n            \"tbr is guessed from the video stream and is the value users want to see when they look for the video frame rate\"\n        },\n        tbn: {\n          title: \"tbn\",\n          help: \"the time base in AVStream that has come from the container\"\n        },\n        tbc: {\n          title: \"tbc\",\n          help:\n            \"the time base in AVCodecContext for the codec used for a particular stream\"\n        }\n      },\n      audioStream: {\n        bitrate: {\n          title: \"bitrate\"\n        },\n        channel_layout: {\n          title: \"channel layout\"\n        },\n        codec: { title: \"codec\" },\n        sample_rate: {\n          title: \"sampling rate\"\n        }\n      }\n    }\n  }\n};\n","export default {\n  badge: \"徽章\",\n  close: \"关闭\",\n  dataIterator: {\n    noResultsText: \"没有符合条件的结果\",\n    loadingText: \"加载中……\"\n  },\n  dataTable: {\n    itemsPerPageText: \"每页数目：\",\n    ariaLabel: {\n      sortDescending: \"：降序排列。\",\n      sortAscending: \"：升序排列。\",\n      sortNone: \"：未排序。\",\n      activateNone: \"点击以移除排序。\",\n      activateDescending: \"点击以降序排列。\",\n      activateAscending: \"点击以升序排列。\"\n    },\n    sortBy: \"排序方式\"\n  },\n  dataFooter: {\n    itemsPerPageText: \"每页数目：\",\n    itemsPerPageAll: \"全部\",\n    nextPage: \"下一页\",\n    prevPage: \"上一页\",\n    firstPage: \"首页\",\n    lastPage: \"尾页\",\n    pageText: \"{0}-{1} 共 {2}\"\n  },\n  datePicker: {\n    itemsSelected: \"已选择 {0}\"\n  },\n  noDataText: \"没有数据\",\n  carousel: {\n    prev: \"上一张\",\n    next: \"下一张\",\n    ariaLabel: {\n      delimiter: \"Carousel slide {0} of {1}\"\n    }\n  },\n  calendar: {\n    moreEvents: \"还有 {0} 项\"\n  },\n  fileInput: {\n    counter: \"{0} 个文件\",\n    counterSize: \"{0} 个文件（共 {1}）\"\n  },\n  timePicker: {\n    am: \"AM\",\n    pm: \"PM\"\n  },\n  validate: {\n    required: \"這是必填欄\",\n    lessThen: \"此字段必須少於{0}個字符\",\n    moreThen: \"此字段必須超過{0}個字符\",\n    isFloat: \"這是一個浮動字段\"\n  },\n  movieUploadDialog: {\n    file: {\n      title: \"您的電影\",\n      hint: \"支持的格式是mp4，webm和ogv\"\n    },\n    name: {\n      title: \"顯示名稱\",\n      hint: \"顯示電影的名稱\"\n    },\n    fps: {\n      title: \"每秒幀數\",\n      hint: \"註冊您的視頻fps\"\n    }\n  },\n  baseFromDialog: {\n    open: \"打開對話框\",\n    hint: \"*表示必填字段\",\n    close: \"取消\",\n    save: \"保存到\"\n  },\n  sidebar: {\n    files: {\n      title: \"註釋\",\n      add: \"新文件\",\n      list: \"註冊文件\"\n    },\n    cache: {\n      destroy: \"銷毀應用程序緩存\",\n      export: \"導出應用程序緩存\",\n      import: \"導入應用程序緩存\"\n    }\n  },\n  home: {\n    disc: \"網絡視頻註釋工具\",\n    upload: {\n      title: \"註冊視頻\",\n      btn: \"上載\",\n      hint: \"導入任何視頻文件進行註釋\"\n    },\n    demo: {\n      title: \"現場演示\",\n      btn: \"觀看電影樣本\",\n      hint: \"使用示例視頻嘗試註釋功能\"\n    }\n  },\n  movieAnnotation: {\n    info: {\n      title: \"影片格式\",\n      videoStream: {\n        codec: { title: \"編解碼器\" },\n        bitrate: { title: \"比特率\" },\n        fps: { title: \"fps\" },\n        tbr: {\n          title: \"tbr\",\n          help: \"tbr 是從視頻流中推測出來的，是用戶尋找視頻幀速率時希望看到的值\"\n        },\n        tbn: {\n          title: \"tbn\",\n          help: \"影片流中來自容器的時基\"\n        },\n        tbc: {\n          title: \"tbc\",\n          help: \"電影編解碼器上下文中用於特定流的編解碼器的時基\"\n        }\n      },\n      audioStream: {\n        codec: { title: \"編解碼器\" },\n        bitrate: { title: \"比特率\" },\n        channel_layout: { title: \"頻道佈局\" },\n        sample_rate: { title: \"採樣率\" }\n      }\n    }\n  }\n};\n","import Vue from \"vue\";\nimport Vuetify from \"vuetify/lib\";\nimport colors from \"vuetify/lib/util/colors\";\nimport ja from \"@/locales/ja.ts\";\nimport en from \"@/locales/en.ts\";\nimport zhHans from \"@/locales/zh-Hans.ts\";\n\nVue.use(Vuetify);\nexport default new Vuetify({\n  theme: {\n    themes: {\n      light: {\n        primary: colors.blueGrey,\n        secondary: colors.blueGrey.darken3,\n        accent: colors.teal.darken3,\n        background: colors.grey.lighten3\n      },\n      dark: {\n        primary: colors.blueGrey.lighten3\n      }\n    }\n  },\n  lang: {\n    locales: { ja, en, zhHans },\n    current: \"zhHans\"\n  }\n});\n","import Vue from \"vue\";\nimport App from \"./App.vue\";\nimport \"./registerServiceWorker\";\nimport router from \"./router\";\nimport store from \"./store\";\nimport vuetify from \"./plugins/vuetify\";\n\nVue.config.productionTip = false;\n\nnew Vue({\n  router,\n  store,\n  vuetify,\n  render: h => h(App)\n}).$mount(\"#app\");\n"],"sourceRoot":""}
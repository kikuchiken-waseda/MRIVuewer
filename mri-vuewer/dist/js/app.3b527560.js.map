{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/App.vue?947e","webpack:///./src/components/MAppBar.vue?6c2c","webpack:///src/components/MAppBar.vue","webpack:///./src/components/MAppBar.vue?939f","webpack:///./src/components/MAppBar.vue","webpack:///./src/components/MSideBar.vue?c63e","webpack:///./src/models/audioStream.js","webpack:///./src/models/videoStream.js","webpack:///./src/models/videoSize.js","webpack:///./src/models/file.js","webpack:///./src/components/dialog/MMovieUploadDialog.vue?0554","webpack:///./src/components/dialog/MBaseFormDialog.vue?7a99","webpack:///src/components/dialog/MBaseFormDialog.vue","webpack:///./src/components/dialog/MBaseFormDialog.vue?6ab0","webpack:///./src/components/dialog/MBaseFormDialog.vue","webpack:///./src/components/form/MMovieInput.vue?7476","webpack:///./src/utils/video.js","webpack:///./src/utils/file.js","webpack:///src/components/form/MMovieInput.vue","webpack:///./src/components/form/MMovieInput.vue?b88d","webpack:///./src/components/form/MMovieInput.vue","webpack:///src/components/dialog/MMovieUploadDialog.vue","webpack:///./src/components/dialog/MMovieUploadDialog.vue?4be5","webpack:///./src/components/dialog/MMovieUploadDialog.vue","webpack:///./src/utils/cache.js","webpack:///src/components/MSideBar.vue","webpack:///./src/components/MSideBar.vue?a61e","webpack:///./src/components/MSideBar.vue","webpack:///src/App.vue","webpack:///./src/App.vue?5b92","webpack:///./src/App.vue","webpack:///./src/registerServiceWorker.js","webpack:///./src/views/Home.vue?64e2","webpack:///./src/components/util/MSampleVideoBotton.vue?8a40","webpack:///src/components/util/MSampleVideoBotton.vue","webpack:///./src/components/util/MSampleVideoBotton.vue?ce19","webpack:///./src/components/util/MSampleVideoBotton.vue","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?231f","webpack:///./src/views/Home.vue","webpack:///./src/views/About.vue?0a09","webpack:///src/views/About.vue","webpack:///./src/views/About.vue?5ed7","webpack:///./src/views/About.vue","webpack:///./src/views/Config.vue?9ce4","webpack:///src/views/Config.vue","webpack:///./src/views/Config.vue?857c","webpack:///./src/views/Config.vue","webpack:///./src/views/MovieAnnotation.vue?2d74","webpack:///./src/components/MovieAnnotaion/MToolBar.vue?cfb1","webpack:///./src/components/MovieAnnotaion/MInfoMenu.vue?4eb8","webpack:///./src/components/util/MInfoList.vue?8698","webpack:///src/components/util/MInfoList.vue","webpack:///./src/components/util/MInfoList.vue?0832","webpack:///./src/components/util/MInfoList.vue","webpack:///src/components/MovieAnnotaion/MInfoMenu.vue","webpack:///./src/components/MovieAnnotaion/MInfoMenu.vue?c12c","webpack:///./src/components/MovieAnnotaion/MInfoMenu.vue","webpack:///./src/components/util/MFuncList.vue?bd4e","webpack:///src/components/util/MFuncList.vue","webpack:///./src/components/util/MFuncList.vue?f45b","webpack:///./src/components/util/MFuncList.vue","webpack:///src/components/MovieAnnotaion/MToolBar.vue","webpack:///./src/components/MovieAnnotaion/MToolBar.vue?6d74","webpack:///./src/components/MovieAnnotaion/MToolBar.vue","webpack:///./src/components/MovieAnnotaion/MSettingMenu.vue?3f3a","webpack:///src/components/MovieAnnotaion/MSettingMenu.vue","webpack:///./src/components/MovieAnnotaion/MSettingMenu.vue?392e","webpack:///./src/components/MovieAnnotaion/MSettingMenu.vue","webpack:///./src/components/MovieAnnotaion/MTierList.vue?1c67","webpack:///src/components/MovieAnnotaion/MTierList.vue","webpack:///./src/components/MovieAnnotaion/MTierList.vue?0f90","webpack:///./src/components/MovieAnnotaion/MTierList.vue","webpack:///./src/components/wavesurfer/util/observer.js","webpack:///./src/components/wavesurfer/util/ajax.js","webpack:///./src/components/wavesurfer/util/get-id.js","webpack:///./src/components/wavesurfer/util/max.js","webpack:///./src/components/wavesurfer/util/min.js","webpack:///./src/components/wavesurfer/util/extend.js","webpack:///./src/components/wavesurfer/util/style.js","webpack:///./src/components/wavesurfer/util/request-animation-frame.js","webpack:///./src/components/wavesurfer/util/frame.js","webpack:///./src/components/wavesurfer/util/prevent-click.js","webpack:///./src/components/wavesurfer/util/fetch.js","webpack:///./src/components/wavesurfer/drawer.js","webpack:///./src/components/wavesurfer/drawer.canvasentry.js","webpack:///./src/components/wavesurfer/drawer.multicanvas.js","webpack:///./src/components/wavesurfer/webaudio.js","webpack:///./src/components/wavesurfer/mediaelement.js","webpack:///./src/components/wavesurfer/peakcache.js","webpack:///./src/components/wavesurfer/mediaelement-webaudio.js","webpack:///./src/components/wavesurfer/wavesurfer.js","webpack:///./src/components/wavesurfer/plugin/spectrogram.js","webpack:///./src/components/wavesurfer/plugin/timeline.js","webpack:///./src/components/wavesurfer/plugin/minimap.js","webpack:///./src/components/wavesurfer/plugin/multiline.js","webpack:///src/views/MovieAnnotation.vue","webpack:///./src/views/MovieAnnotation.vue?034d","webpack:///./src/views/MovieAnnotation.vue","webpack:///./src/views/ImageAnnotation.vue?ae6c","webpack:///src/views/ImageAnnotation.vue","webpack:///./src/views/ImageAnnotation.vue?b114","webpack:///./src/views/ImageAnnotation.vue","webpack:///./src/views/ComponentDebug.vue?c173","webpack:///./src/components/videos/BackgroundSubtractor.vue?d30f","webpack:///./src/utils/color.js","webpack:///src/components/videos/BackgroundSubtractor.vue","webpack:///./src/components/videos/BackgroundSubtractor.vue?5b2d","webpack:///./src/components/videos/BackgroundSubtractor.vue","webpack:///./src/components/videos/OpticalFlow.vue?4078","webpack:///src/components/videos/OpticalFlow.vue","webpack:///./src/components/videos/OpticalFlow.vue?0972","webpack:///./src/components/videos/OpticalFlow.vue","webpack:///./src/components/videos/MeanShift.vue?0c7b","webpack:///src/components/videos/MeanShift.vue","webpack:///./src/components/videos/MeanShift.vue?430f","webpack:///./src/components/videos/MeanShift.vue","webpack:///src/views/ComponentDebug.vue","webpack:///./src/views/ComponentDebug.vue?d202","webpack:///./src/views/ComponentDebug.vue","webpack:///./src/router/index.js","webpack:///./src/store/current.js","webpack:///./src/store/index.js","webpack:///./src/locales/ja.ts","webpack:///./src/locales/en.ts","webpack:///./src/locales/zh-Hans.ts","webpack:///./src/plugins/vuetify.js","webpack:///./src/main.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","map","webpackContext","req","id","webpackContextResolve","e","Error","code","keys","resolve","_vm","this","_h","$createElement","_c","_self","staticRenderFns","attrs","_v","_s","version","on","$event","to","computed","$store","state","appName","appVersion","methods","console","info","tag","payload","$router","component","VAppBar","VBtn","VIcon","VSpacer","VToolbarTitle","VToolbar","mini","search","label","model","callback","$$v","$set","expression","_e","$vuetify","lang","scopedSlots","_u","fn","ref","_g","files","menu","icon","proxy","_l","item","selectFile","fps","clearCache","importCache","exportCache","AudioStream","attr","codec_name","string","bitrate","number","channel_layout","sample_fmt","sample_rate","Model","VideoStream","pix_fmt","tbc","tbn","tbr","VideoSize","width","height","File","audioStream_id","videoStream_id","videoSize_id","fileSize","fileType","dataUrl","lastModifiedDate","moment","format","currentTime","audioStream","belongsTo","videoStream","size","video","loading","onValid","_t","nameMaxSize","nameRules","fpsRules","dialog","valid","staticClass","title","reset","isloading","validate","props","type","String","Boolean","default","$refs","form","$emit","warn","resetValidation","VCard","VCardActions","VCardText","VCardTitle","VDialog","VForm","onChangeFileInput","stdout","stderr","ffmpeg","arguments","print","printErr","onExit","buff","Uint8Array","MEMFS","split","line","indexOf","detail","filter","x","match","Number","getFrames","log","toBase64","file","Promise","reject","reader","FileReader","readAsDataURL","onload","onerror","error","toBlob","byteString","atob","mimeString","ab","ArrayBuffer","ia","charCodeAt","Blob","toBuff","toUnit8Array","download","url","filename","metadata","fetch","response","blob","required","set","val","debug","msg","initItem","VFileInput","components","MBaseFormDialog","MMovieInput","mounted","VContainer","VTextField","STORAGENEME","STORAGE","localStorage","getCache","JSON","parse","getItem","setCache","json","stringify","setItem","destroyCache","removeItem","destroy","MMovieUploadDialog","watch","open","link","href","URL","createObjectURL","click","cache","VDivider","VList","VListGroup","VListItem","VListItemAction","VListItemContent","VListItemSubtitle","VListItemTitle","VNavigationDrawer","current","VApp","VContent","register","process","ready","registered","cached","updatefound","updated","offline","breakpoint","smAndDown","importSampleMovie","MSampleVideoBotton","_m","directives","rawName","menuFuncs","background","frameOffset","style","domProps","play","pause","tiers","ws","videoHeight","onChangeText","_k","keyCode","onEnterText","text","fileName","show","items","help","Array","VSubheader","VTooltip","MInfoList","v","a","VMenu","VListItemIcon","MInfoMenu","MFuncList","onUpdateFiler","staticStyle","funcs","eq","zoom","f","requested","eqs","handler","setFilters","deep","gain","Q","frequency","filters","VSlider","tab","tierType","idx","time","getDuration","maxHeight","cardStyle","VSimpleTable","VTab","VTabItem","VTabs","VTabsItems","VTabsSlider","Observer","handlers","event","un","args","setTimeout","forEach","ajax","options","instance","xhr","XMLHttpRequest","fired100","method","responseType","requestHeaders","header","setRequestHeader","withCredentials","addEventListener","fireEvent","lengthComputable","loaded","total","status","send","getId","prefix","undefined","Math","random","toString","substring","max","values","largest","Infinity","min","smallest","extend","dest","sources","source","el","styles","prop","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","element","frame","func","reqAnimationFrame","preventClickHandler","stopPropagation","document","body","removeEventListener","preventClick","ProgressHandler","contentLength","_reader","getReader","parseInt","controller","read","then","done","onProgress","close","byteLength","enqueue","catch","fetchFile","fetchHeaders","Headers","fetchRequest","Request","AbortController","append","fetchOptions","headers","credentials","redirect","referrer","signal","progressAvailable","Response","ReadableStream","errMsg","ok","arrayBuffer","Drawer","container","params","pixelRatio","lastPos","wrapper","util","appendChild","createElement","display","position","userSelect","webkitUserSelect","fillParent","scrollParent","overflowX","hideScrollbar","overflowY","setupWrapperEvents","noPrevent","preventDefault","progress","clientX","targetTouches","bbox","getBoundingClientRect","nominalWidth","parentWidth","getWidth","rtl","right","left","scrollLeft","scrollWidth","scrollbarHeight","offsetHeight","clientHeight","clientY","bottom","interact","handleEvent","peaks","start","end","setWidth","clearWave","barWidth","drawBars","drawWave","percent","recenterOnPosition","immediate","half","clientWidth","maxScroll","target","offset","rate","autoCenterRate","round","updateSize","minPxDelta","pos","autoCenter","newPos","autoCenterImmediately","updateProgress","unAll","parentNode","removeChild","channelIndex","CanvasEntry","wave","waveCtx","progressCtx","constructor","toLowerCase","canvasContextAttributes","getContext","elementWidth","totalWidth","offsetLeft","elementSize","hasProgressCanvas","clearRect","canvas","waveColor","progressColor","fillStyle","y","radius","fillRectToContext","ctx","drawRoundedRect","fillRect","beginPath","moveTo","lineTo","quadraticCurveTo","closePath","fill","absmax","halfH","offsetY","drawLineToContext","peak","h","first","last","canvasStart","canvasEnd","scale","halfOffset","absmaxHalf","halfPixel","quality","toDataURL","MultiCanvas","maxCanvasWidth","maxCanvasElementWidth","canvases","progressWave","EntryClass","drawingContextAttributes","overlap","ceil","barRadius","createWrapper","createElements","zIndex","top","overflow","boxSizing","borderRightStyle","pointerEvents","addCanvas","updateCursor","borderRightWidth","cursorWidth","borderRightColor","cursorColor","requiredCanvases","removeCanvas","canvasWidth","lastCanvas","entry","updateDimensions","leftOffset","initWave","initProgress","lastEntry","parentElement","pop","prepareDraw","hasMinVals","peakIndexScale","bar","gap","barGap","step","floor","barMinHeight","reflectedPeaks","len","drawLine","setFillStyles","drawLines","startCanvas","endCanvas","intersection","x1","y1","x2","y2","fillRects","channels","splitChannels","setHeight","channelPeaks","barHeight","normalize","some","all","getImage","images","PLAYING","PAUSED","FINISHED","WebAudio","init","addOnAudioProcess","getPlayedPercents","duration","getCurrentTime","startPosition","getPlayedTime","removeOnAudioProcess","ac","audioContext","supportsWebAudio","getAudioContext","lastPlay","scheduledPause","states","stateBehaviors","buffer","gainNode","mergedPeaks","offlineAc","playbackRate","analyser","scriptNode","splitPeaks","explicitDuration","destroyed","AudioContext","webkitAudioContext","WaveSurferAudioContext","sampleRate","WaveSurferOfflineAudioContext","OfflineAudioContext","webkitOfflineAudioContext","createVolumeNode","createScriptNode","createAnalyserNode","setState","setPlaybackRate","audioRate","setLength","disconnect","connect","disconnectFilters","reduce","prev","curr","audioScriptProcessor","createScriptProcessor","scriptBufferSize","createJavaScriptNode","destination","onaudioprocess","createAnalyser","createGain","createGainNode","deviceId","audio","Audio","setSinkId","autoplay","createMediaStreamDestination","srcObject","stream","setValueAtTime","arraybuffer","errback","getOfflineAudioContext","decodeAudioData","numberOfChannels","newBuffer","createBuffer","sampleSize","sampleStep","chan","getChannelData","disconnectSource","closeAudioContext","isPaused","destroyWebAudio","createSource","createBufferSource","noteGrainOn","stop","noteOff","adjustedTime","seekTo","resume","MediaElement","media","paused","volume","mediaType","elementPosition","isMuted","onPlayEnd","mediaListeners","createTimer","canplay","ended","seeked","volumechange","muted","onAudioProcess","preload","controls","mediaControls","src","prevMedia","querySelector","_load","elt","HTMLMediaElement","load","_setupMediaListeners","setVolume","seekable","clearPlayEnd","promise","setPlayEnd","_onPlayEnd","removeMediaElementOnDestroy","PeakCache","clearPeakCache","peakCacheRanges","peakCacheLength","uncachedRanges","arr","concat","sort","b","uncachedRangePairs","peakCacheRangePairs","MediaElementWebAudio","sourceMediaElement","createMediaElementSource","mediaElement","WaveSurfer","backend","backgroundColor","dragSelection","desynchronized","forceDecode","loopSelection","mediaContainer","minPxPerSec","partialRender","devicePixelRatio","screen","deviceXDPI","logicalXDPI","plugins","renderer","responsive","skipLength","assign","defaultParams","transform","setBackgroundColor","savedVolume","tmpEvents","currentRequest","drawer","peakCache","Backend","backends","initialisedPluginList","isDestroyed","isReady","prevWidth","_onResize","wavesurfer","registerPlugins","createDrawer","createBackend","createPeakCache","plugin","addPlugin","deferInit","initPlugin","staticProps","pluginStaticProp","Instance","observerPrototypeKeys","getOwnPropertyNames","destroyPlugin","drawBuffer","newVolume","getVolume","seconds","skip","seekAndCenter","recenter","isFinite","oldScrollParent","getPlaybackRate","setMute","mute","color","newRanges","addRangeToPeakCache","getPeaks","drawPeaks","pxPerSec","decodeArrayBuffer","loadDecodedBuffer","loadArrayBuffer","readAsArrayBuffer","empty","preloadIgnoreReasons","activeReasons","reason","join","loadBuffer","loadMediaElement","action","once","getArrayBuffer","setPeaks","urlOrElt","loadElt","err","request","percentComplete","accuracy","noWindow","encodeURIComponent","abort","cancelAjax","clearTmpEvents","destroyAllPlugins","FFT","bufferSize","windowFunc","alpha","bandwidth","sinTable","Float32Array","cosTable","windowValues","reverseTable","Uint32Array","peakBand","abs","cos","PI","pow","E","sin","limit","bit","calculateSpectrum","rval","ival","mag","real","imag","bSi","sqrt","spectrum","k","LN2","phaseShiftStepReal","phaseShiftStepImag","currentPhaseShiftReal","currentPhaseShiftImag","off","tr","ti","tmpReal","halfSize","fftStep","N","SpectrogramPlugin","frequenciesDataUrl","_onScroll","updateScroll","_onRender","render","_onWrapperClick","_wrapperClickHandler","_onReady","colorMap","cmEntry","fftSamples","noverlap","createCanvas","prevSpectrogram","wsParams","labels","labelsEl","classList","add","loadLabels","relX","offsetX","layerX","spectrCc","updateCanvasStyle","loadFrequenciesData","getFrequencies","drawSpectrogram","frequenciesData","my","pixels","resample","heightFactor","channelOne","frequencies","uniqueSamplesPerPx","fft","currentOffset","segment","array","log10","freq","toFixed","bgFill","fontSizeFreq","fontSizeUnit","fontType","textColorFreq","textColorUnit","textAlign","frequenciesHeight","bgWidth","getMaxY","labelIndex","freqStart","textBaseline","freqType","units","unitType","yLabelOffset","font","fillText","oldMatrix","columnsNumber","newMatrix","oldPiece","newPiece","column","oldStart","oldEnd","newStart","newEnd","intColumn","TimelinePlugin","_onRedraw","_onZoom","notchPercentHeight","labelPadding","unlabeledNotchColor","primaryColor","secondaryColor","primaryFontColor","secondaryFontColor","fontFamily","fontSize","zoomDebounce","formatTimeCallback","defaultFormatTimeCallback","timeInterval","defaultTimeInterval","primaryLabelInterval","defaultPrimaryLabelInterval","secondaryLabelInterval","defaultSecondaryLabelInterval","debounce","innerHTML","updateCanvases","updateCanvasesPositioning","renderCanvases","canvasesLength","totalSeconds","height1","height2","pixelsPerSecond","formatTime","intervalFnOrVal","option","curPixel","curSeconds","positioning","renderPositions","cb","setFonts","textWidth","xOffset","context","measureText","minutes","MinimapPlugin","showRegions","showOverview","overviewBorderColor","overviewBorderSize","renderEvent","overviewRegion","isInitialised","_onShouldRender","bindWavesurferEvents","bindMinimapEvents","contains","insertBefore","regions","_onAudioprocess","_onSeek","draggingOverview","moveOverviewRegion","ratio","_onMouseover","region","renderRegions","regionElements","querySelectorAll","regionElement","cursor","border","opacity","overviewOpacity","positionMouseDown","relativePositionX","seek","waveShowedWidth","waveWidth","overviewWidth","offsetWidth","overviewPosition","TIERS","MultilinePlugin","isDragging","draggingItemIdx","wsp","getCurrentItemIndex","focusColor","focusPointColor","lastIdx","addItem","isCollisioned","csd","_onKeyBackSpace","_onTab","onCtrl","deleteItem","lastTime","isPlaying","getTierNum","children","getTiers","res","focusBgColor","Color","find","check","getCurrentItem","findIndex","isRender","_onDblClick","_onMouseMove","_onMouseDown","_onMouseUp","focus","_onMouseOut","_onKeyDown","setAttribute","fillLine","rectDuration","rectWidth","fs","_x","_y","MToolBar","MTierList","MSettingMenu","where","$route","debugItem","isLoading","frameRate","$nextTick","elm","initWs","tier","syncVideos","onRedy","onDestroy","onError","onUpdateMultiline","setVideoHeight","addTier","videoPre","videoPos","offsetTime","currentTier","putText","currentIdx","multiline","textField","onResize","VCol","VProgressLinear","VRow","VSystemBar","Resize","conf","bs","history","threshold","detectShadows","next","onTimeupdate","onLoadeddata","getCode","colors","base","replace","css2rgb","codeArr","g","getRgb","require","fgbg","cv","BackgroundSubtractorMOG2","setCurrentTime","cap","imshow","fgmask","VideoCapture","Mat","CV_8UC4","CV_8UC1","frame2","cvtColor","COLOR_RGBA2GRAY","calcOpticalFlowFarneback","flow","flowVec","cartToPolar","u","ang","delete","convertTo","hsv0","hsv2","NORM_MINMAX","merge","hsvVec","hsv","rgb","COLOR_HSV2RGB","copyTo","prvs","CV_32FC2","MatVector","CV_32FC1","frame1","push_back","hsv1","CV_8UC3","COLOR_RGBA2RGB","COLOR_RGB2HSV","calcBackProject","pts","trackWindow","Rect","roi","hsvRoi","inRange","low","high","mask","roiHist","hsvRoiVec","calcHist","termCrit","TermCriteria","dst","trackBox","BackgroundSubtractor","OpticalFlow","MeanShift","backgroundSubtractor","meanShift","opticalFlow","videoArray","VSwitch","Vue","use","VueRouter","routes","path","Home","About","Config","MovieAnnotation","ImageAnnotation","ComponentDebug","router","TAG","MUTATIONTAG","ACTIONTAG","namespaced","mutations","setName","setLastModifiedData","setFileSize","setFileType","setFps","setDataUrl","setSize","setVideoStream","setAudioStream","actions","commit","setMovieHeight","database","VuexORM","Database","Vuex","Store","install","badge","dataIterator","noResultsText","loadingText","dataTable","itemsPerPageText","ariaLabel","sortDescending","sortAscending","sortNone","activateNone","activateDescending","activateAscending","sortBy","dataFooter","itemsPerPageAll","nextPage","prevPage","firstPage","lastPage","pageText","datePicker","itemsSelected","noDataText","carousel","delimiter","calendar","moreEvents","fileInput","counter","counterSize","timePicker","am","pm","lessThen","moreThen","isFloat","baseFromDialog","hint","save","movieUploadDialog","sidebar","list","export","import","home","disc","upload","btn","demo","movieAnnotation","codec","Vuetify","theme","themes","light","primary","blueGrey","secondary","darken3","accent","teal","dark","lighten3","locales","ja","en","zhHans","config","productionTip","store","vuetify","App","$mount"],"mappings":"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CX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,aAAc,OACd,gBAAiB,OACjB,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,UAAW,OACX,aAAc,OACd,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,aAAc,OACd,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW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","file":"js/app.3b527560.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var map = {\n\t\"./af\": \"2bfb\",\n\t\"./af.js\": \"2bfb\",\n\t\"./ar\": \"8e73\",\n\t\"./ar-dz\": \"a356\",\n\t\"./ar-dz.js\": \"a356\",\n\t\"./ar-kw\": \"423e\",\n\t\"./ar-kw.js\": \"423e\",\n\t\"./ar-ly\": \"1cfd\",\n\t\"./ar-ly.js\": \"1cfd\",\n\t\"./ar-ma\": \"0a84\",\n\t\"./ar-ma.js\": \"0a84\",\n\t\"./ar-sa\": \"8230\",\n\t\"./ar-sa.js\": \"8230\",\n\t\"./ar-tn\": \"6d83\",\n\t\"./ar-tn.js\": \"6d83\",\n\t\"./ar.js\": \"8e73\",\n\t\"./az\": \"485c\",\n\t\"./az.js\": \"485c\",\n\t\"./be\": \"1fc1\",\n\t\"./be.js\": \"1fc1\",\n\t\"./bg\": \"84aa\",\n\t\"./bg.js\": \"84aa\",\n\t\"./bm\": \"a7fa\",\n\t\"./bm.js\": \"a7fa\",\n\t\"./bn\": \"9043\",\n\t\"./bn.js\": \"9043\",\n\t\"./bo\": \"d26a\",\n\t\"./bo.js\": \"d26a\",\n\t\"./br\": \"6887\",\n\t\"./br.js\": \"6887\",\n\t\"./bs\": \"2554\",\n\t\"./bs.js\": \"2554\",\n\t\"./ca\": \"d716\",\n\t\"./ca.js\": \"d716\",\n\t\"./cs\": \"3c0d\",\n\t\"./cs.js\": \"3c0d\",\n\t\"./cv\": \"03ec\",\n\t\"./cv.js\": \"03ec\",\n\t\"./cy\": \"9797\",\n\t\"./cy.js\": \"9797\",\n\t\"./da\": \"0f14\",\n\t\"./da.js\": \"0f14\",\n\t\"./de\": \"b469\",\n\t\"./de-at\": \"b3eb\",\n\t\"./de-at.js\": \"b3eb\",\n\t\"./de-ch\": \"bb71\",\n\t\"./de-ch.js\": \"bb71\",\n\t\"./de.js\": \"b469\",\n\t\"./dv\": \"598a\",\n\t\"./dv.js\": \"598a\",\n\t\"./el\": \"8d47\",\n\t\"./el.js\": \"8d47\",\n\t\"./en-SG\": \"cdab\",\n\t\"./en-SG.js\": \"cdab\",\n\t\"./en-au\": \"0e6b\",\n\t\"./en-au.js\": \"0e6b\",\n\t\"./en-ca\": \"3886\",\n\t\"./en-ca.js\": \"3886\",\n\t\"./en-gb\": \"39a6\",\n\t\"./en-gb.js\": \"39a6\",\n\t\"./en-ie\": \"e1d3\",\n\t\"./en-ie.js\": \"e1d3\",\n\t\"./en-il\": \"7333\",\n\t\"./en-il.js\": \"7333\",\n\t\"./en-nz\": \"6f50\",\n\t\"./en-nz.js\": \"6f50\",\n\t\"./eo\": \"65db\",\n\t\"./eo.js\": \"65db\",\n\t\"./es\": \"898b\",\n\t\"./es-do\": \"0a3c\",\n\t\"./es-do.js\": \"0a3c\",\n\t\"./es-us\": \"55c9\",\n\t\"./es-us.js\": \"55c9\",\n\t\"./es.js\": \"898b\",\n\t\"./et\": \"ec18\",\n\t\"./et.js\": \"ec18\",\n\t\"./eu\": \"0ff2\",\n\t\"./eu.js\": \"0ff2\",\n\t\"./fa\": \"8df4\",\n\t\"./fa.js\": \"8df4\",\n\t\"./fi\": \"81e9\",\n\t\"./fi.js\": \"81e9\",\n\t\"./fo\": \"0721\",\n\t\"./fo.js\": \"0721\",\n\t\"./fr\": \"9f26\",\n\t\"./fr-ca\": \"d9f8\",\n\t\"./fr-ca.js\": \"d9f8\",\n\t\"./fr-ch\": \"0e49\",\n\t\"./fr-ch.js\": \"0e49\",\n\t\"./fr.js\": \"9f26\",\n\t\"./fy\": \"7118\",\n\t\"./fy.js\": \"7118\",\n\t\"./ga\": \"5120\",\n\t\"./ga.js\": \"5120\",\n\t\"./gd\": \"f6b4\",\n\t\"./gd.js\": \"f6b4\",\n\t\"./gl\": \"8840\",\n\t\"./gl.js\": \"8840\",\n\t\"./gom-latn\": \"0caa\",\n\t\"./gom-latn.js\": \"0caa\",\n\t\"./gu\": \"e0c5\",\n\t\"./gu.js\": \"e0c5\",\n\t\"./he\": \"c7aa\",\n\t\"./he.js\": \"c7aa\",\n\t\"./hi\": \"dc4d\",\n\t\"./hi.js\": \"dc4d\",\n\t\"./hr\": \"4ba9\",\n\t\"./hr.js\": \"4ba9\",\n\t\"./hu\": \"5b14\",\n\t\"./hu.js\": \"5b14\",\n\t\"./hy-am\": \"d6b6\",\n\t\"./hy-am.js\": \"d6b6\",\n\t\"./id\": \"5038\",\n\t\"./id.js\": \"5038\",\n\t\"./is\": \"0558\",\n\t\"./is.js\": \"0558\",\n\t\"./it\": \"6e98\",\n\t\"./it-ch\": \"6f12\",\n\t\"./it-ch.js\": \"6f12\",\n\t\"./it.js\": \"6e98\",\n\t\"./ja\": \"079e\",\n\t\"./ja.js\": \"079e\",\n\t\"./jv\": \"b540\",\n\t\"./jv.js\": \"b540\",\n\t\"./ka\": \"201b\",\n\t\"./ka.js\": \"201b\",\n\t\"./kk\": \"6d79\",\n\t\"./kk.js\": \"6d79\",\n\t\"./km\": \"e81d\",\n\t\"./km.js\": \"e81d\",\n\t\"./kn\": \"3e92\",\n\t\"./kn.js\": \"3e92\",\n\t\"./ko\": \"22f8\",\n\t\"./ko.js\": \"22f8\",\n\t\"./ku\": \"2421\",\n\t\"./ku.js\": \"2421\",\n\t\"./ky\": \"9609\",\n\t\"./ky.js\": \"9609\",\n\t\"./lb\": \"440c\",\n\t\"./lb.js\": \"440c\",\n\t\"./lo\": \"b29d\",\n\t\"./lo.js\": \"b29d\",\n\t\"./lt\": \"26f9\",\n\t\"./lt.js\": \"26f9\",\n\t\"./lv\": \"b97c\",\n\t\"./lv.js\": \"b97c\",\n\t\"./me\": \"293c\",\n\t\"./me.js\": \"293c\",\n\t\"./mi\": \"688b\",\n\t\"./mi.js\": \"688b\",\n\t\"./mk\": \"6909\",\n\t\"./mk.js\": \"6909\",\n\t\"./ml\": \"02fb\",\n\t\"./ml.js\": \"02fb\",\n\t\"./mn\": \"958b\",\n\t\"./mn.js\": \"958b\",\n\t\"./mr\": \"39bd\",\n\t\"./mr.js\": \"39bd\",\n\t\"./ms\": \"ebe4\",\n\t\"./ms-my\": \"6403\",\n\t\"./ms-my.js\": \"6403\",\n\t\"./ms.js\": \"ebe4\",\n\t\"./mt\": \"1b45\",\n\t\"./mt.js\": \"1b45\",\n\t\"./my\": \"8689\",\n\t\"./my.js\": \"8689\",\n\t\"./nb\": \"6ce3\",\n\t\"./nb.js\": \"6ce3\",\n\t\"./ne\": \"3a39\",\n\t\"./ne.js\": \"3a39\",\n\t\"./nl\": \"facd\",\n\t\"./nl-be\": \"db29\",\n\t\"./nl-be.js\": \"db29\",\n\t\"./nl.js\": \"facd\",\n\t\"./nn\": \"b84c\",\n\t\"./nn.js\": \"b84c\",\n\t\"./pa-in\": \"f3ff\",\n\t\"./pa-in.js\": \"f3ff\",\n\t\"./pl\": \"8d57\",\n\t\"./pl.js\": \"8d57\",\n\t\"./pt\": \"f260\",\n\t\"./pt-br\": \"d2d4\",\n\t\"./pt-br.js\": \"d2d4\",\n\t\"./pt.js\": \"f260\",\n\t\"./ro\": \"972c\",\n\t\"./ro.js\": \"972c\",\n\t\"./ru\": \"957c\",\n\t\"./ru.js\": \"957c\",\n\t\"./sd\": \"6784\",\n\t\"./sd.js\": \"6784\",\n\t\"./se\": \"ffff\",\n\t\"./se.js\": \"ffff\",\n\t\"./si\": \"eda5\",\n\t\"./si.js\": \"eda5\",\n\t\"./sk\": \"7be6\",\n\t\"./sk.js\": \"7be6\",\n\t\"./sl\": \"8155\",\n\t\"./sl.js\": \"8155\",\n\t\"./sq\": \"c8f3\",\n\t\"./sq.js\": \"c8f3\",\n\t\"./sr\": \"cf1e\",\n\t\"./sr-cyrl\": \"13e9\",\n\t\"./sr-cyrl.js\": \"13e9\",\n\t\"./sr.js\": \"cf1e\",\n\t\"./ss\": \"52bd\",\n\t\"./ss.js\": \"52bd\",\n\t\"./sv\": \"5fbd\",\n\t\"./sv.js\": \"5fbd\",\n\t\"./sw\": \"74dc\",\n\t\"./sw.js\": \"74dc\",\n\t\"./ta\": \"3de5\",\n\t\"./ta.js\": \"3de5\",\n\t\"./te\": \"5cbb\",\n\t\"./te.js\": \"5cbb\",\n\t\"./tet\": \"576c\",\n\t\"./tet.js\": \"576c\",\n\t\"./tg\": \"3b1b\",\n\t\"./tg.js\": \"3b1b\",\n\t\"./th\": \"10e8\",\n\t\"./th.js\": \"10e8\",\n\t\"./tl-ph\": \"0f38\",\n\t\"./tl-ph.js\": \"0f38\",\n\t\"./tlh\": \"cf75\",\n\t\"./tlh.js\": \"cf75\",\n\t\"./tr\": \"0e81\",\n\t\"./tr.js\": \"0e81\",\n\t\"./tzl\": \"cf51\",\n\t\"./tzl.js\": \"cf51\",\n\t\"./tzm\": \"c109\",\n\t\"./tzm-latn\": \"b53d\",\n\t\"./tzm-latn.js\": \"b53d\",\n\t\"./tzm.js\": \"c109\",\n\t\"./ug-cn\": \"6117\",\n\t\"./ug-cn.js\": \"6117\",\n\t\"./uk\": \"ada2\",\n\t\"./uk.js\": \"ada2\",\n\t\"./ur\": \"5294\",\n\t\"./ur.js\": \"5294\",\n\t\"./uz\": \"2e8c\",\n\t\"./uz-latn\": \"010e\",\n\t\"./uz-latn.js\": \"010e\",\n\t\"./uz.js\": \"2e8c\",\n\t\"./vi\": \"2921\",\n\t\"./vi.js\": \"2921\",\n\t\"./x-pseudo\": \"fd7e\",\n\t\"./x-pseudo.js\": \"fd7e\",\n\t\"./yo\": \"7f33\",\n\t\"./yo.js\": \"7f33\",\n\t\"./zh-cn\": \"5c3a\",\n\t\"./zh-cn.js\": \"5c3a\",\n\t\"./zh-hk\": \"49ab\",\n\t\"./zh-hk.js\": \"49ab\",\n\t\"./zh-tw\": \"90ea\",\n\t\"./zh-tw.js\": \"90ea\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"4678\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('m-app-bar'),_c('v-content',[_c('m-side-bar'),_c('router-view')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app-bar',{attrs:{\"app\":\"\",\"color\":\"primary\",\"dark\":\"\"}},[_c('v-toolbar-title',[_vm._v(_vm._s(_vm.name)+\" ver. \"+_vm._s(_vm.version))]),_c('v-spacer'),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.to({ name: 'Home' })}}},[_c('v-icon',[_vm._v(\"mdi-home\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-app-bar app color=\"primary\" dark>\n    <v-toolbar-title>{{ name }} ver. {{ version }}</v-toolbar-title>\n    <v-spacer></v-spacer>\n    <v-btn icon @click=\"to({ name: 'Home' })\">\n      <v-icon>mdi-home</v-icon>\n    </v-btn>\n  </v-app-bar>\n</template>\n\n<script>\nexport default {\n  name: \"MAppBar\",\n  computed: {\n    name: {\n      get() {\n        return this.$store.state.appName;\n      }\n    },\n    version: {\n      get() {\n        return this.$store.state.appVersion;\n      }\n    }\n  },\n  methods: {\n    to: function(payload) {\n      const tag = `${this.$options.name}:to`;\n      console.info(tag, payload);\n      this.$router.push(payload);\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MAppBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MAppBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MAppBar.vue?vue&type=template&id=226cceae&\"\nimport script from \"./MAppBar.vue?vue&type=script&lang=js&\"\nexport * from \"./MAppBar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAppBar } from 'vuetify/lib/components/VAppBar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VAppBar,VBtn,VIcon,VSpacer,VToolbarTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-navigation-drawer',{attrs:{\"app\":\"\",\"dark\":\"\",\"expand-on-hover\":\"\",\"mini-variant\":_vm.mini,\"permanent\":\"\"},on:{\"update:miniVariant\":function($event){_vm.mini=$event},\"update:mini-variant\":function($event){_vm.mini=$event}}},[_c('v-list',{attrs:{\"dense\":\"\",\"nav\":\"\"}},[(!_vm.mini)?_c('v-list-item',[_c('v-text-field',{attrs:{\"label\":_vm.search.label,\"single-line\":\"\",\"solo\":\"\",\"dense\":\"\",\"rounded\":\"\"},model:{value:(_vm.search.key),callback:function ($$v) {_vm.$set(_vm.search, \"key\", $$v)},expression:\"search.key\"}})],1):_c('v-list-item',[_c('v-list-item-action',[_c('v-icon',[_vm._v(\"mdi-menu-open\")])],1)],1),(!_vm.mini)?_c('v-list-item',[_c('v-list-item-subtitle',[_vm._v(\" \"+_vm._s(_vm.$vuetify.lang.t(\"$vuetify.sidebar.files.title\"))+\" \")])],1):_vm._e(),_c('m-movie-upload-dialog',{scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-list-item',_vm._g({attrs:{\"ripple\":\"\"}},on),[_c('v-list-item-action',[_c('v-icon',[_vm._v(\"mdi-playlist-plus\")])],1),_c('v-list-item-title',[_vm._v(\" \"+_vm._s(_vm.$vuetify.lang.t(\"$vuetify.sidebar.files.add\"))+\" \")])],1)]}}])}),(_vm.files.length > 0)?_c('v-list-group',{attrs:{\"prepend-icon\":_vm.menu.icon},scopedSlots:_vm._u([{key:\"activator\",fn:function(){return [_c('v-list-item-title',[_vm._v(\" \"+_vm._s(_vm.$vuetify.lang.t(\"$vuetify.sidebar.files.list\"))+\" \")])]},proxy:true}],null,false,979820808),model:{value:(_vm.menu.open),callback:function ($$v) {_vm.$set(_vm.menu, \"open\", $$v)},expression:\"menu.open\"}},_vm._l((_vm.files),function(item){return _c('v-list-item',{key:item.id,on:{\"click\":function($event){return _vm.selectFile(item)}}},[_c('v-list-item-title',[_vm._v(\" \"+_vm._s(item.name)+\" \"),_c('v-spacer'),_vm._v(\" (\"+_vm._s(item.fps)+\" fps) \")],1),_c('v-list-item-action',[_c('v-icon',[_vm._v(\"mdi-file-video\")])],1)],1)}),1):_vm._e(),_c('v-divider'),_c('v-list-item',{attrs:{\"ripple\":\"\"},on:{\"click\":_vm.clearCache}},[_c('v-list-item-action',[_c('v-icon',[_vm._v(\"mdi-database-remove\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\" \"+_vm._s(_vm.$vuetify.lang.t(\"$vuetify.sidebar.cache.destroy\"))+\" \")])],1)],1),_c('v-list-item',{attrs:{\"ripple\":\"\"},on:{\"click\":_vm.importCache}},[_c('v-list-item-action',[_c('v-icon',[_vm._v(\"mdi-database-import\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\" \"+_vm._s(_vm.$vuetify.lang.t(\"$vuetify.sidebar.cache.import\"))+\" \")])],1)],1),_c('v-list-item',{attrs:{\"ripple\":\"\"},on:{\"click\":_vm.exportCache}},[_c('v-list-item-action',[_c('v-icon',[_vm._v(\"mdi-database-export\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\" \"+_vm._s(_vm.$vuetify.lang.t(\"$vuetify.sidebar.cache.export\"))+\" \")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { Model } from \"@vuex-orm/core\";\n\nexport default class AudioStream extends Model {\n  static entity = \"audioStreams\";\n\n  static fields() {\n    return {\n      id: this.attr(null),\n      codec_name: this.string(\"\"),\n      bitrate: this.number(0),\n      channel_layout: this.string(\"mono\"),\n      sample_fmt: this.string(\"\"),\n      sample_rate: this.number(0)\n    };\n  }\n}\n","import { Model } from \"@vuex-orm/core\";\n\nexport default class VideoStream extends Model {\n  static entity = \"videoStreams\";\n\n  static fields() {\n    return {\n      id: this.attr(null),\n      codec_name: this.string(\"\"),\n      pix_fmt: this.string(\"\"),\n      bitrate: this.number(0),\n      fps: this.number(0),\n      tbc: this.number(0),\n      tbn: this.number(0),\n      tbr: this.number(0)\n    };\n  }\n}\n","import { Model } from \"@vuex-orm/core\";\n\nexport default class VideoSize extends Model {\n  static entity = \"videoSizes\";\n\n  static fields() {\n    return {\n      id: this.attr(null),\n      width: this.attr(0),\n      height: this.attr(0)\n    };\n  }\n}\n","/**\n * store/files.js\n *\n * \n */\nimport moment from \"moment\";\nimport { Model } from \"@vuex-orm/core\";\nimport AudioStream from \"./audioStream.js\";\nimport VideoStream from \"./videoStream.js\";\nimport VideoSize from \"./videoSize.js\";\n\nexport default class File extends Model {\n  static entity = \"files\";\n  static fields() {\n    return {\n      id: this.attr(null),\n      audioStream_id: this.attr(null),\n      videoStream_id: this.attr(null),\n      videoSize_id: this.attr(null),\n      name: this.attr(\"\"),\n      fileSize: this.attr(\"\"),\n      fileType: this.attr(\"\"),\n      fps: this.number(0),\n      dataUrl: this.attr(\"\"),\n      lastModifiedDate: this.string(moment().format()),\n      currentTime: this.number(0),\n      audioStream: this.belongsTo(AudioStream, \"audioStream_id\"),\n      videoStream: this.belongsTo(VideoStream, \"videoStream_id\"),\n      size: this.belongsTo(VideoSize, \"videoSize_id\")\n    };\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('m-base-form-dialog',{ref:\"form\",attrs:{\"title\":\"Movie Upload\",\"isloading\":_vm.video.loading},on:{\"valid\":_vm.onValid},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_vm._t(\"activator\",[_c('v-btn',_vm._g({attrs:{\"color\":\"primary\",\"dark\":\"\"}},on),[_vm._v(\" \"+_vm._s(_vm.$vuetify.lang.t(\"$vuetify.baseFromDialog.save\"))+\" \")])],{\"on\":on})]}},{key:\"form\",fn:function(){return [_c('v-container',[_c('m-movie-input',{model:{value:(_vm.video),callback:function ($$v) {_vm.video=$$v},expression:\"video\"}}),_c('v-text-field',{attrs:{\"label\":((_vm.$vuetify.lang.t('$vuetify.movieUploadDialog.name.title')) + \"*\"),\"counter\":_vm.nameMaxSize,\"rules\":_vm.nameRules,\"disabled\":_vm.video.loading,\"prepend-icon\":\"mdi-movie\",\"hint\":_vm.$vuetify.lang.t('$vuetify.movieUploadDialog.name.hint'),\"required\":\"\"},model:{value:(_vm.video.name),callback:function ($$v) {_vm.$set(_vm.video, \"name\", $$v)},expression:\"video.name\"}}),_c('v-text-field',{attrs:{\"label\":((_vm.$vuetify.lang.t('$vuetify.movieUploadDialog.fps.title')) + \"*\"),\"rules\":_vm.fpsRules,\"disabled\":_vm.video.loading,\"hint\":_vm.$vuetify.lang.t('$vuetify.movieUploadDialog.fps.hint'),\"prepend-icon\":\"mdi-movie-edit\",\"required\":\"\"},model:{value:(_vm.video.fps),callback:function ($$v) {_vm.$set(_vm.video, \"fps\", $$v)},expression:\"video.fps\"}})],1),(_vm.debug)?_c('v-container',[_c('pre',[_vm._v(_vm._s(_vm.video))])]):_vm._e()]},proxy:true}],null,true)})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"600px\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_vm._t(\"activator\",[_c('v-btn',_vm._g({},on),[_vm._v(\" \"+_vm._s(_vm.$vuetify.lang.t(\"$vuetify.baseFromDialog.open\"))+\" \")])],{\"on\":on})]}}],null,true),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[(_vm.title)?_c('v-card-title',[_c('span',{staticClass:\"headline\"},[_vm._v(_vm._s(_vm.title))])]):_vm._e(),_c('v-card-text',[_vm._t(\"form\"),_c('small',[_vm._v(\" \"+_vm._s(_vm.$vuetify.lang.t(\"$vuetify.baseFromDialog.hint\"))+\" \")])],2),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":_vm.reset}},[_vm._v(\" \"+_vm._s(_vm.$vuetify.lang.t(\"$vuetify.baseFromDialog.close\"))+\" \")]),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\",\"loading\":_vm.isloading},on:{\"click\":_vm.validate}},[_vm._v(\" \"+_vm._s(_vm.$vuetify.lang.t(\"$vuetify.baseFromDialog.save\"))+\" \")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-dialog v-model=\"dialog\" persistent max-width=\"600px\">\n    <template v-slot:activator=\"{ on }\">\n      <slot name=\"activator\" v-bind:on=\"on\">\n        <v-btn v-on=\"on\">\n          {{ $vuetify.lang.t(\"$vuetify.baseFromDialog.open\") }}\n        </v-btn>\n      </slot>\n    </template>\n    <v-card>\n      <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n        <v-card-title v-if=\"title\">\n          <span class=\"headline\">{{ title }}</span>\n        </v-card-title>\n        <v-card-text>\n          <slot name=\"form\"> </slot>\n          <small>\n            {{ $vuetify.lang.t(\"$vuetify.baseFromDialog.hint\") }}\n          </small>\n        </v-card-text>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"blue darken-1\" text @click=\"reset\">\n            {{ $vuetify.lang.t(\"$vuetify.baseFromDialog.close\") }}\n          </v-btn>\n          <v-btn\n            color=\"blue darken-1\"\n            text\n            @click=\"validate\"\n            :loading=\"isloading\"\n          >\n            {{ $vuetify.lang.t(\"$vuetify.baseFromDialog.save\") }}\n          </v-btn>\n        </v-card-actions>\n      </v-form>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nexport default {\n  name: \"MBaseFormDialog\",\n  props: {\n    title: {\n      type: String\n    },\n    isloading: {\n      type: Boolean,\n      default: () => false\n    }\n  },\n  data: () => ({\n    valid: true,\n    dialog: false\n  }),\n  methods: {\n    validate() {\n      const tag = `${this.$options.name}:validate`;\n      this.valid = this.$refs.form.validate();\n      if (this.valid) {\n        console.info(tag, this.valid);\n        this.$emit(\"valid\");\n        this.dialog = false;\n      } else {\n        console.warn(tag, this.valid);\n      }\n    },\n    reset() {\n      const tag = `${this.$options.name}:reset`;\n      console.info(tag);\n      this.$refs.form.reset();\n      this.dialog = false;\n    },\n    resetValidation() {\n      const tag = `${this.$options.name}:resetValidation`;\n      console.info(tag);\n      this.$refs.form.resetValidation();\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MBaseFormDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MBaseFormDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MBaseFormDialog.vue?vue&type=template&id=35731476&\"\nimport script from \"./MBaseFormDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./MBaseFormDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VDialog,VForm,VSpacer})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-file-input',{attrs:{\"label\":((_vm.$vuetify.lang.t('$vuetify.movieUploadDialog.file.title')) + \"*\"),\"hint\":_vm.$vuetify.lang.t('$vuetify.movieUploadDialog.file.hint'),\"prepend-icon\":\"mdi-file-video\",\"accept\":\"video/*\",\"show-size\":\"\"},on:{\"change\":_vm.onChangeFileInput},model:{value:(_vm.video.file),callback:function ($$v) {_vm.$set(_vm.video, \"file\", $$v)},expression:\"video.file\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import ffmpeg from \"ffmpeg.js/ffmpeg-mp4.js\";\n\nconst version = callback => {\n  let stdout = \"\";\n  let stderr = \"\";\n  // Print FFmpeg's version.\n  const result = ffmpeg({\n    arguments: [\"-version\"],\n    print: function(data) {\n      stdout += data + \"\\n\";\n    },\n    printErr: function(data) {\n      stderr += data + \"\\n\";\n    },\n    onExit: function(code) {\n      if (code == 0) {\n        console.info(stdout);\n        callback(code, stdout);\n      } else {\n        console.info(stderr);\n        callback(code, stdout);\n      }\n    }\n  });\n  return result;\n};\n\nconst info = (buff, callback) => {\n  const video = new Uint8Array(buff);\n  let stdout = \"\";\n  // Print FFmpeg's version.\n  const result = ffmpeg({\n    MEMFS: [{ name: \"data.mp4\", data: video }],\n    arguments: [\"-i\", \"data.mp4\"],\n    print: function(data) {\n      stdout += data + \"\\n\";\n    },\n    printErr: function(data) {\n      stdout += data + \"\\n\";\n    },\n    onExit: function() {\n      let item = {};\n      for (const line of stdout.split(\"\\n\")) {\n        if (~line.indexOf(\"Stream\")) {\n          const info = line.split(\": \");\n          if (info.length == 3) {\n            const detail = info[2].split(\", \");\n            if (info[1] == \"Video\") {\n              item.videoStream = {};\n              const size = detail\n                .filter(\n                  x =>\n                    x.match(/x/) &&\n                    x.match(/\\[/) &&\n                    x.match(/\\]/) &&\n                    x.match(/ /)\n                )[0]\n                .split(\" \")[0]\n                .split(\"x\");\n              item.size = {\n                width: Number(size[0]),\n                height: Number(size[1])\n              };\n              item.videoStream.codec_name = detail[0];\n              item.videoStream.pix_fmt = detail[1];\n              item.videoStream.bitrate = Number(\n                detail.filter(x => x.match(/kb\\/s/))[0].split(\" \")[0]\n              );\n              item.videoStream.fps = Number(\n                detail.filter(x => x.match(/fps/))[0].split(\" \")[0]\n              );\n              item.videoStream.tbr = Number(\n                detail.filter(x => x.match(/tbr/))[0].split(\" \")[0]\n              );\n              item.videoStream.tbn = Number(\n                detail.filter(x => x.match(/tbn/))[0].split(\" \")[0]\n              );\n              item.videoStream.tbc = Number(\n                detail.filter(x => x.match(/tbc/))[0].split(\" \")[0]\n              );\n            } else {\n              item.audioStream = {};\n              item.audioStream.codec_name = detail[0];\n              item.audioStream.sample_rate = Number(detail[1].split(\" \")[0]);\n              item.audioStream.channel_layout = detail[2];\n              item.audioStream.sample_fmt = detail[3];\n              item.audioStream.bitrate = Number(detail[4].split(\" \")[0]);\n            }\n          }\n        }\n      }\n      callback(item);\n    }\n  });\n  return result;\n};\n\nconst getFrames = buff => {\n  let stdout = \"\";\n  let stderr = \"\";\n  const video = new Uint8Array(buff);\n  const result = ffmpeg({\n    MEMFS: [{ name: \"data.mp4\", data: video }],\n    arguments: [\"-i\", \"data.mp4\", \"-vcodec\", \"mjpeg\", \"image_%03d.jpg\"],\n    print: function(data) {\n      stdout += data + \"\\n\";\n    },\n    printErr: function(data) {\n      stderr += data + \"\\n\";\n    },\n    onExit: function(code) {\n      console.info(\"Process exited with code \" + code);\n      if (code == 0) {\n        console.log(stdout);\n      } else {\n        console.log(stderr);\n      }\n    }\n  });\n  return result;\n};\n\nexport default {\n  version: version,\n  info: info,\n  getFrames: getFrames\n};\n","const toBase64 = file =>\n  new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = () => resolve(reader.result);\n    reader.onerror = error => reject(error);\n  });\n\nconst toBlob = dataUrl => {\n  const byteString = atob(dataUrl.split(\",\")[1]);\n  const mimeString = dataUrl\n    .split(\",\")[0]\n    .split(\":\")[1]\n    .split(\";\")[0];\n  const ab = new ArrayBuffer(byteString.length);\n  const ia = new Uint8Array(ab);\n  for (var i = 0; i < byteString.length; i++) {\n    ia[i] = byteString.charCodeAt(i);\n  }\n  return new Blob([ab], { type: mimeString });\n};\n\nconst toBuff = dataUrl => {\n  const byteString = atob(dataUrl.split(\",\")[1]);\n  const ab = new ArrayBuffer(byteString.length);\n  const ia = new Uint8Array(ab);\n  for (var i = 0; i < byteString.length; i++) {\n    ia[i] = byteString.charCodeAt(i);\n  }\n  return ab;\n};\n\nconst toUnit8Array = file =>\n  new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = () => resolve(new Uint8Array(reader.result));\n    reader.onerror = error => reject(error);\n  });\n\nconst download = async function(url, filename, metadata) {\n  const response = await fetch(url);\n  const data = await response.blob();\n  const file = new File([data], filename, metadata);\n  return file;\n};\n\nexport default {\n  toBase64: toBase64,\n  toBlob: toBlob,\n  toBuff: toBuff,\n  toUnit8Array: toUnit8Array,\n  download: download\n};\n","<template>\n  <div>\n    <v-file-input\n      :label=\"`${$vuetify.lang.t('$vuetify.movieUploadDialog.file.title')}*`\"\n      :hint=\"$vuetify.lang.t('$vuetify.movieUploadDialog.file.hint')\"\n      v-model=\"video.file\"\n      prepend-icon=\"mdi-file-video\"\n      accept=\"video/*\"\n      show-size\n      @change=\"onChangeFileInput\"\n    />\n  </div>\n</template>\n\n<script>\nimport VideoUtil from \"@/utils/video.js\";\nimport FileUtil from \"@/utils/file.js\";\nexport default {\n  name: \"MMovieInput\",\n  props: {\n    value: {\n      type: Object,\n      required: true\n    }\n  },\n  data: () => ({\n    debug: false\n  }),\n  computed: {\n    video: {\n      get() {\n        return this.value;\n      },\n      set(val) {\n        this.$emit(\"onChangeFileInput\", val);\n      }\n    }\n  },\n  methods: {\n    log: function(tag, msg) {\n      if (this.debug) {\n        console.info(tag, msg);\n      }\n    },\n    initItem: function() {\n      this.video.dataUrl = null;\n      this.video.name = null;\n      this.video.fps = null;\n      this.video.size = {\n        width: null,\n        height: null\n      };\n      this.video.videoStream = {\n        codec_name: null,\n        pix_fmt: null,\n        bitrate: null,\n        fps: null,\n        tbc: null,\n        tbn: null,\n        tbr: null\n      };\n      this.video.audioStream = {\n        bitrate: null,\n        channel_layout: null,\n        codec_name: null,\n        sample_fmt: null,\n        sample_rate: null\n      };\n    },\n    onChangeFileInput: async function(e) {\n      const tag = `${this.$options.name}:onChangeFileInput`;\n      this.video.loading = true;\n      if (e) {\n        this.video.name = e.name;\n        if (e.arrayBuffer) {\n          const buff = await e.arrayBuffer();\n          VideoUtil.info(buff, res => {\n            this.video.size = res.size;\n            if (res.videoStream) {\n              this.log(tag + \":set video\", res.videoStream);\n              this.video.fps = res.videoStream.fps\n                ? res.videoStream.fps\n                : this.video.fps;\n              this.video.videoStream = {\n                codec_name: res.videoStream.codec_name,\n                pix_fmt: res.videoStream.pix_fmt,\n                bitrate: res.videoStream.bitrate,\n                fps: res.videoStream.fps,\n                tbc: res.videoStream.tbc,\n                tbn: res.videoStream.tbn,\n                tbr: res.videoStream.tbr\n              };\n            }\n            if (res.audioStream) {\n              this.log(tag + \":set audio\", res.videoStream);\n              this.video.audioStream = {\n                codec_name: res.audioStream.codec_name,\n                sample_rate: res.audioStream.sample_rate,\n                channel_layout: res.audioStream.channel_layout,\n                sample_fmt: res.audioStream.sample_fmt,\n                bitrate: res.audioStream.bitrate\n              };\n            }\n          });\n          this.video.dataUrl = await FileUtil.toBase64(this.video.file);\n        } else {\n          this.initItem();\n        }\n        this.video.loading = false;\n      } else {\n        this.initItem();\n        console.warn(tag, \"no video\", this.video);\n        this.video.loading = false;\n      }\n    }\n  }\n};\n</script>\n\n<style scoped></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MMovieInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MMovieInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MMovieInput.vue?vue&type=template&id=b5874ce6&scoped=true&\"\nimport script from \"./MMovieInput.vue?vue&type=script&lang=js&\"\nexport * from \"./MMovieInput.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b5874ce6\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VFileInput } from 'vuetify/lib/components/VFileInput';\ninstallComponents(component, {VFileInput})\n","<template>\n  <m-base-form-dialog\n    ref=\"form\"\n    title=\"Movie Upload\"\n    @valid=\"onValid\"\n    :isloading=\"video.loading\"\n  >\n    <template v-slot:activator=\"{ on }\">\n      <slot name=\"activator\" v-bind:on=\"on\">\n        <v-btn color=\"primary\" dark v-on=\"on\">\n          {{ $vuetify.lang.t(\"$vuetify.baseFromDialog.save\") }}\n        </v-btn>\n      </slot>\n    </template>\n    <template v-slot:form>\n      <v-container>\n        <m-movie-input v-model=\"video\" />\n        <v-text-field\n          :label=\"\n            `${$vuetify.lang.t('$vuetify.movieUploadDialog.name.title')}*`\n          \"\n          v-model=\"video.name\"\n          :counter=\"nameMaxSize\"\n          :rules=\"nameRules\"\n          :disabled=\"video.loading\"\n          prepend-icon=\"mdi-movie\"\n          :hint=\"$vuetify.lang.t('$vuetify.movieUploadDialog.name.hint')\"\n          required\n        />\n        <v-text-field\n          :label=\"`${$vuetify.lang.t('$vuetify.movieUploadDialog.fps.title')}*`\"\n          v-model=\"video.fps\"\n          :rules=\"fpsRules\"\n          :disabled=\"video.loading\"\n          :hint=\"$vuetify.lang.t('$vuetify.movieUploadDialog.fps.hint')\"\n          prepend-icon=\"mdi-movie-edit\"\n          required\n        />\n      </v-container>\n      <v-container v-if=\"debug\">\n        <pre>{{ video }}</pre>\n      </v-container>\n    </template>\n  </m-base-form-dialog>\n</template>\n\n<script>\nimport File from \"@/models/file.js\";\nimport MBaseFormDialog from \"./MBaseFormDialog.vue\";\nimport MMovieInput from \"../form/MMovieInput.vue\";\nconst nameMaxSize = 30;\n\nexport default {\n  name: \"MMovieUploadDialog\",\n  components: {\n    MBaseFormDialog,\n    MMovieInput\n  },\n  data: () => ({\n    debug: false,\n    dialog: false,\n    video: {\n      loading: false,\n      name: null,\n      fps: 0\n    },\n    nameMaxSize: nameMaxSize,\n    nameRules: null,\n    fpsRules: null\n  }),\n  methods: {\n    log: function(tag, msg) {\n      if (this.debug) {\n        console.info(tag, msg);\n      }\n    },\n    onValid: function() {\n      const tag = `${this.$options.name}:onValid`;\n      const item = {\n        name: this.video.name,\n        fileSize: this.video.file.size,\n        fileType: this.video.file.type,\n        fps: this.video.fps,\n        dataUrl: this.video.dataUrl,\n        lastModifiedDate: this.video.file.lastModifiedDate,\n        currentTime: 0,\n        audioStream: this.video.audioStream,\n        videoStream: this.video.videoStream,\n        size: {\n          width: this.video.size.width,\n          height: this.video.size.height\n        }\n      };\n      this.log(tag + \":inserteItem\", item);\n      File.insertOrUpdate({ data: item }).then(() => {\n        const file = File.query().last();\n        this.log(tag + \":insertedItem\", file);\n        this.$refs.form.reset();\n        this.$router.push({ name: \"MovieAnnotation\", params: { id: file.id } });\n      });\n    }\n  },\n  mounted() {\n    this.fpsRules = [\n      v => !!v || this.$vuetify.lang.t(\"$vuetify.validate.required\"),\n      v => {\n        const regex = /^([1-9]\\d*|0)(\\.\\d+)?$/;\n        if (v) {\n          if (!regex.test(v)) {\n            return this.$vuetify.lang.t(\"$vuetify.validate.isFloat\");\n          }\n          return true;\n        }\n        return true;\n      }\n    ];\n    this.nameRules = [\n      v => !!v || this.$vuetify.lang.t(\"$vuetify.validate.required\"),\n      v =>\n        (v && v.length < nameMaxSize) ||\n        this.$vuetify.lang.t(\"$vuetify.validate.lessThen\", nameMaxSize)\n    ];\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MMovieUploadDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MMovieUploadDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MMovieUploadDialog.vue?vue&type=template&id=77bb5d85&\"\nimport script from \"./MMovieUploadDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./MMovieUploadDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VContainer,VTextField})\n","const STORAGENEME = \"vuex\";\nconst STORAGE = window.localStorage;\n\nconst getCache = function() {\n  return JSON.parse(STORAGE.getItem(STORAGENEME));\n};\nconst setCache = function(payload) {\n  const json = JSON.stringify(payload);\n  STORAGE.setItem(STORAGENEME, json);\n  return getCache();\n};\nconst destroyCache = function() {\n  return STORAGE.removeItem(STORAGENEME);\n};\n\nexport default {\n  get: getCache,\n  set: setCache,\n  destroy: destroyCache\n};\n","<template>\n  <v-navigation-drawer\n    app\n    dark\n    expand-on-hover\n    :mini-variant.sync=\"mini\"\n    permanent\n  >\n    <v-list dense nav>\n      <v-list-item v-if=\"!mini\">\n        <v-text-field\n          :label=\"search.label\"\n          v-model=\"search.key\"\n          single-line\n          solo\n          dense\n          rounded\n        />\n      </v-list-item>\n      <v-list-item v-else>\n        <v-list-item-action>\n          <v-icon>mdi-menu-open</v-icon>\n        </v-list-item-action>\n      </v-list-item>\n      <v-list-item v-if=\"!mini\">\n        <v-list-item-subtitle>\n          {{ $vuetify.lang.t(\"$vuetify.sidebar.files.title\") }}\n        </v-list-item-subtitle>\n      </v-list-item>\n      <!--  -->\n      <m-movie-upload-dialog>\n        <template v-slot:activator=\"{ on }\">\n          <v-list-item ripple v-on=\"on\">\n            <v-list-item-action>\n              <v-icon>mdi-playlist-plus</v-icon>\n            </v-list-item-action>\n            <v-list-item-title>\n              {{ $vuetify.lang.t(\"$vuetify.sidebar.files.add\") }}\n            </v-list-item-title>\n          </v-list-item>\n        </template>\n      </m-movie-upload-dialog>\n\n      <!--  -->\n      <v-list-group\n        v-if=\"files.length > 0\"\n        :prepend-icon=\"menu.icon\"\n        v-model=\"menu.open\"\n      >\n        <template v-slot:activator>\n          <v-list-item-title>\n            {{ $vuetify.lang.t(\"$vuetify.sidebar.files.list\") }}\n          </v-list-item-title>\n        </template>\n        <v-list-item\n          v-for=\"item in files\"\n          :key=\"item.id\"\n          @click=\"selectFile(item)\"\n        >\n          <v-list-item-title>\n            {{ item.name }}\n            <v-spacer />\n            ({{ item.fps }} fps)\n          </v-list-item-title>\n          <v-list-item-action>\n            <v-icon>mdi-file-video</v-icon>\n          </v-list-item-action>\n        </v-list-item>\n      </v-list-group>\n      <v-divider></v-divider>\n      <v-list-item ripple @click=\"clearCache\">\n        <v-list-item-action>\n          <v-icon>mdi-database-remove</v-icon>\n        </v-list-item-action>\n        <v-list-item-content>\n          <v-list-item-title>\n            {{ $vuetify.lang.t(\"$vuetify.sidebar.cache.destroy\") }}\n          </v-list-item-title>\n        </v-list-item-content>\n      </v-list-item>\n      <v-list-item ripple @click=\"importCache\">\n        <v-list-item-action>\n          <v-icon>mdi-database-import</v-icon>\n        </v-list-item-action>\n        <v-list-item-content>\n          <v-list-item-title>\n            {{ $vuetify.lang.t(\"$vuetify.sidebar.cache.import\") }}\n          </v-list-item-title>\n        </v-list-item-content>\n      </v-list-item>\n\n      <v-list-item ripple @click=\"exportCache\">\n        <v-list-item-action>\n          <v-icon>mdi-database-export</v-icon>\n        </v-list-item-action>\n        <v-list-item-content>\n          <v-list-item-title>\n            {{ $vuetify.lang.t(\"$vuetify.sidebar.cache.export\") }}\n          </v-list-item-title>\n        </v-list-item-content>\n      </v-list-item>\n    </v-list>\n  </v-navigation-drawer>\n</template>\n\n<script>\nimport File from \"@/models/file.js\";\nimport MMovieUploadDialog from \"@/components/dialog/MMovieUploadDialog.vue\";\nimport Cache from \"@/utils/cache.js\";\nexport default {\n  name: \"MSideBar\",\n  components: {\n    MMovieUploadDialog\n  },\n  data: () => ({\n    name: \"MSideBar\",\n    debug: true,\n    mini: true,\n    menu: {\n      icon: \"mdi-playlist-play\",\n      open: false\n    },\n    search: {\n      key: \"\",\n      label: \"search\"\n    },\n    current: {\n      movie: {\n        id: 1\n      }\n    }\n  }),\n  watch: {\n    \"search.key\": function(val) {\n      // \n      const tag = `${this.$options.name}:watch:search.key`;\n      if (val) {\n        this.log(tag, val);\n        this.menu.open = true;\n      } else {\n        this.menu.open = false;\n      }\n    },\n    mini: function(val) {\n      // \n      const tag = `${this.$options.name}:watch:mini`;\n      this.log(tag, val);\n      if (val === true) {\n        this.menu.open = false;\n      }\n    }\n  },\n  methods: {\n    log: function(tag, msg) {\n      if (this.debug) {\n        console.info(tag, msg);\n      }\n    },\n    selectFile: function(item) {\n      const tag = `${this.$options.name}:selectFile`;\n      this.log(tag, item.id);\n      this.$router.push({ name: \"MovieAnnotation\", params: { id: item.id } });\n    },\n    clearCache: function() {\n      const tag = `${this.$options.name}`;\n      File.deleteAll();\n      this.$router.push({ name: \"Home\" });\n      this.log(tag, \"clearCache\");\n    },\n    importCache: function() {\n      const tag = `${this.$options.name}`;\n      this.log(tag, \"importCache\");\n    },\n    exportCache: function() {\n      const tag = `${this.$options.name}:exportCache`;\n      const cache = Cache.get();\n      const json = JSON.stringify(cache);\n      const blob = new Blob([json], {\n        type: \"application/json\"\n      });\n      const link = document.createElement(\"a\");\n      link.href = window.URL.createObjectURL(blob);\n      link.download = \"Cache.json\";\n      link.click();\n      this.log(tag, cache);\n    }\n  },\n  computed: {\n    files: function() {\n      const tag = `${this.$options.name}:conputed:files:get`;\n      let files;\n      if (this.search.key) {\n        // \n        const key = this.search.key;\n        files = File.query()\n          .where(file => {\n            if (~file.name.indexOf(key)) {\n              return true;\n            }\n            if (~key.indexOf(\"fps\")) {\n              const fps = Number(key.split(\"fps\")[0].trim());\n              return file.fps > fps;\n            }\n            return false;\n          })\n          .get();\n      } else {\n        files = File.query().all();\n      }\n      this.log(tag, files);\n      return files;\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MSideBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MSideBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MSideBar.vue?vue&type=template&id=1b4edf38&\"\nimport script from \"./MSideBar.vue?vue&type=script&lang=js&\"\nexport * from \"./MSideBar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListGroup } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VNavigationDrawer } from 'vuetify/lib/components/VNavigationDrawer';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VDivider,VIcon,VList,VListGroup,VListItem,VListItemAction,VListItemContent,VListItemSubtitle,VListItemTitle,VNavigationDrawer,VSpacer,VTextField})\n","<template>\n  <v-app>\n    <m-app-bar />\n    <v-content>\n      <m-side-bar />\n      <router-view></router-view>\n    </v-content>\n  </v-app>\n</template>\n\n<script>\nimport MAppBar from \"@/components/MAppBar.vue\";\nimport MSideBar from \"@/components/MSideBar.vue\";\nexport default {\n  name: \"App\",\n  components: { MAppBar, MSideBar },\n  data: () => ({\n    //\n  }),\n  mounted: function() {\n    const lang = navigator.language;\n    if (lang == \"ja\") {\n      this.$vuetify.lang.current = \"ja\";\n    } else if (~lang.indexOf(\"zh\")) {\n      this.$vuetify.lang.current = \"zhHans\";\n    } else {\n      this.$vuetify.lang.current = \"en\";\n    }\n    console.log();\n  }\n};\n</script>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=36c53b52&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VContent } from 'vuetify/lib/components/VContent';\ninstallComponents(component, {VApp,VContent})\n","/* eslint-disable no-console */\n\nimport { register } from \"register-service-worker\";\n\nif (process.env.NODE_ENV === \"production\") {\n  register(`${process.env.BASE_URL}service-worker.js`, {\n    ready() {\n      console.log(\n        \"App is being served from cache by a service worker.\\n\" +\n          \"For more details, visit https://goo.gl/AFskqB\"\n      );\n    },\n    registered() {\n      console.log(\"Service worker has been registered.\");\n    },\n    cached() {\n      console.log(\"Content has been cached for offline use.\");\n    },\n    updatefound() {\n      console.log(\"New content is downloading.\");\n    },\n    updated() {\n      console.log(\"New content is available; please refresh.\");\n    },\n    offline() {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    },\n    error(error) {\n      console.error(\"Error during service worker registration:\", error);\n    }\n  });\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"home\"},[_c('v-card',{attrs:{\"flat\":\"\"}},[(!_vm.$vuetify.breakpoint.smAndDown)?_c('div',[_c('h3',{staticClass:\"display-3\"},[_vm._v(_vm._s(_vm.name)+\" ver.\"+_vm._s(_vm.version))]),_c('div',{staticClass:\"subheading\"},[_vm._v(\" \"+_vm._s(_vm.$vuetify.lang.t(\"$vuetify.home.disc\"))+\" \")]),_c('v-divider',{staticClass:\"my-3\"})],1):_vm._e(),_c('div',{staticClass:\"title mb-3\"},[_vm._v(\" \"+_vm._s(_vm.$vuetify.lang.t(\"$vuetify.home.upload.title\"))+\" \")]),_c('m-movie-upload-dialog',{scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({staticClass:\"mx-0\",attrs:{\"color\":\"primary\",\"dark\":\"\",\"large\":\"\"}},on),[_vm._v(\" \"+_vm._s(_vm.$vuetify.lang.t(\"$vuetify.home.upload.btn\"))+\" \")])]}}])}),_c('div',{staticClass:\"caption py-1\"},[_c('v-icon',[_vm._v(\"mdi-information\")]),_vm._v(\" \"+_vm._s(_vm.$vuetify.lang.t(\"$vuetify.home.upload.hint\"))+\" \")],1),_c('v-divider',{staticClass:\"my-3\"}),_c('div',{staticClass:\"title mb-3\"},[_vm._v(\" \"+_vm._s(_vm.$vuetify.lang.t(\"$vuetify.home.demo.title\"))+\" \")]),_c('m-sample-video-botton',{staticClass:\"mx-0\"}),_c('div',{staticClass:\"caption\"},[_c('v-icon',[_vm._v(\"mdi-information\")]),_vm._v(\" \"+_vm._s(_vm.$vuetify.lang.t(\"$vuetify.home.demo.hint\"))+\" \")],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-btn',{attrs:{\"color\":\"primary\",\"dark\":\"\",\"large\":\"\",\"loading\":_vm.video.loading},on:{\"click\":_vm.importSampleMovie}},[_vm._v(\" \"+_vm._s(_vm.$vuetify.lang.t(\"$vuetify.home.demo.btn\"))+\" \")]),(_vm.debug)?_c('pre',[_vm._v(\"  \"+_vm._s(_vm.item)+\"\\n  \")]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <v-btn\n      color=\"primary\"\n      dark\n      large\n      @click=\"importSampleMovie\"\n      :loading=\"video.loading\"\n    >\n      {{ $vuetify.lang.t(\"$vuetify.home.demo.btn\") }}\n    </v-btn>\n    <pre v-if=\"debug\">\n    {{ item }}\n    </pre>\n  </div>\n</template>\n\n<script>\nimport File from \"@/models/file.js\";\nimport FileUtil from \"@/utils/file.js\";\nimport VideoUtil from \"@/utils/video.js\";\nexport default {\n  data: () => ({\n    debug: false,\n    item: {\n      fps: 13.79\n    },\n    video: {\n      loading: false\n    }\n  }),\n  methods: {\n    log: function(tag, msg) {\n      if (this.debug) {\n        console.info(tag, msg);\n      }\n    },\n    importSampleMovie: async function() {\n      const tag = `${this.$options.name}:importSampleMovie`;\n      this.item.name = \"sample.mp4\";\n      this.item.loading = true;\n      this.item.fileSize = 1571328;\n      this.item.fileType = \"video/mp4\";\n      const url = \"https://kikuchiken-waseda.github.io/MRIVuewer/misc/6.mp4\";\n      const file = await FileUtil.download(url, this.item.name, {\n        type: \"video/mp4\"\n      });\n      this.item.dataUrl = await FileUtil.toBase64(file);\n      const buff = FileUtil.toBuff(this.item.dataUrl);\n      VideoUtil.info(buff, res => {\n        this.item.size = res.size;\n        if (res.videoStream) {\n          this.item.fps = res.videoStream.fps\n            ? res.videoStream.fps\n            : this.item.fps;\n          this.item.videoStream = {\n            codec_name: res.videoStream.codec_name,\n            pix_fmt: res.videoStream.pix_fmt,\n            bitrate: res.videoStream.bitrate,\n            fps: res.videoStream.fps,\n            tbc: res.videoStream.tbc,\n            tbn: res.videoStream.tbn,\n            tbr: res.videoStream.tbr\n          };\n        }\n        if (res.audioStream) {\n          this.item.audioStream = {\n            codec_name: res.audioStream.codec_name,\n            sample_rate: res.audioStream.sample_rate,\n            channel_layout: res.audioStream.channel_layout,\n            sample_fmt: res.audioStream.sample_fmt,\n            bitrate: res.audioStream.bitrate\n          };\n        }\n        this.log(tag + \":inserteItem\", this.item);\n        File.insertOrUpdate({ data: this.item }).then(() => {\n          const file = File.query().last();\n          this.log(tag + \":insertedItem\", file);\n          this.video.loading = false;\n          this.$router.push({\n            name: \"MovieAnnotation\",\n            params: { id: file.id }\n          });\n        });\n      });\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MSampleVideoBotton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MSampleVideoBotton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MSampleVideoBotton.vue?vue&type=template&id=4205b2c1&\"\nimport script from \"./MSampleVideoBotton.vue?vue&type=script&lang=js&\"\nexport * from \"./MSampleVideoBotton.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\ninstallComponents(component, {VBtn})\n","<template>\n  <v-container class=\"home\">\n    <v-card flat>\n      <div v-if=\"!$vuetify.breakpoint.smAndDown\">\n        <h3 class=\"display-3\">{{ name }} ver.{{ version }}</h3>\n        <div class=\"subheading\">\n          {{ $vuetify.lang.t(\"$vuetify.home.disc\") }}\n        </div>\n        <v-divider class=\"my-3\"></v-divider>\n      </div>\n      <div class=\"title mb-3\">\n        {{ $vuetify.lang.t(\"$vuetify.home.upload.title\") }}\n      </div>\n      <m-movie-upload-dialog>\n        <template v-slot:activator=\"{ on }\">\n          <v-btn class=\"mx-0\" color=\"primary\" dark large v-on=\"on\">\n            {{ $vuetify.lang.t(\"$vuetify.home.upload.btn\") }}\n          </v-btn>\n        </template>\n      </m-movie-upload-dialog>\n      <div class=\"caption py-1\">\n        <v-icon>mdi-information</v-icon>\n        {{ $vuetify.lang.t(\"$vuetify.home.upload.hint\") }}\n      </div>\n      <v-divider class=\"my-3\"></v-divider>\n\n      <div class=\"title mb-3\">\n        {{ $vuetify.lang.t(\"$vuetify.home.demo.title\") }}\n      </div>\n      <m-sample-video-botton class=\"mx-0\" />\n      <div class=\"caption\">\n        <v-icon>mdi-information</v-icon>\n        {{ $vuetify.lang.t(\"$vuetify.home.demo.hint\") }}\n      </div>\n    </v-card>\n  </v-container>\n</template>\n\n<script>\n// @ is an alias to /src\nimport MMovieUploadDialog from \"@/components/dialog/MMovieUploadDialog.vue\";\nimport MSampleVideoBotton from \"@/components/util/MSampleVideoBotton.vue\";\nexport default {\n  name: \"Home\",\n  components: {\n    MMovieUploadDialog,\n    MSampleVideoBotton\n  },\n  computed: {\n    name: {\n      get() {\n        return this.$store.state.appName;\n      }\n    },\n    version: {\n      get() {\n        return this.$store.state.appVersion;\n      }\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=5149b018&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VBtn,VCard,VContainer,VDivider,VIcon})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"about\"},[_c('h1',[_vm._v(\"This is an about page\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"about\">\n    <h1>This is an about page</h1>\n  </div>\n</template>\n<script>\n// @ is an alias to /src\n// import HelloWorld from \"@/components/HelloWorld.vue\";\nexport default {\n  name: \"About\"\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./About.vue?vue&type=template&id=31e1c72d&\"\nimport script from \"./About.vue?vue&type=script&lang=js&\"\nexport * from \"./About.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"config\"},[_c('h1',[_vm._v(\"This is a config page\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"config\">\n    <h1>This is a config page</h1>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\n// import HelloWorld from \"@/components/HelloWorld.vue\";\nexport default {\n  name: \"Config\"\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Config.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Config.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Config.vue?vue&type=template&id=36507eae&\"\nimport script from \"./Config.vue?vue&type=script&lang=js&\"\nexport * from \"./Config.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{directives:[{name:\"resize\",rawName:\"v-resize\",value:(_vm.onResize),expression:\"onResize\"}],staticClass:\"pa-0 movie-annotaion\",attrs:{\"fluid\":\"\"}},[(_vm.item)?_c('m-tool-bar',{attrs:{\"file-name\":_vm.item.name,\"menu-funcs\":_vm.menuFuncs},scopedSlots:_vm._u([{key:\"setting\",fn:function(){return [_c('m-setting-menu',{attrs:{\"menuFuncs\":_vm.menuFuncs}})]},proxy:true}],null,false,2857358650)}):_vm._e(),_c('v-card',{attrs:{\"color\":_vm.background}},[(_vm.item)?_c('v-container',[_c('v-row',[_c('v-col',{staticClass:\"flex-grow-1 flex-shrink-1\"},[_c('v-card',{ref:\"videoCard\",attrs:{\"flat\":\"\",\"color\":_vm.background}},[_c('v-container',{staticClass:\"pa-0\",attrs:{\"fluid\":\"\"}},[_c('v-row',{staticClass:\"py-0\"},[_c('v-col',{staticClass:\"py-0\",attrs:{\"cols\":\"4\"}},[_c('v-card',{attrs:{\"flat\":\"\",\"color\":_vm.background}},[_c('v-system-bar',{attrs:{\"dark\":\"\",\"color\":\"accent\"}},[_vm._v(\" \"+_vm._s(_vm.frameOffset)+\" \")]),(_vm.item.dataUrl)?_c('video',{ref:\"videoPre\",style:(_vm.videoStyle),attrs:{\"muted\":\"\",\"src\":_vm.item.dataUrl},domProps:{\"muted\":true}}):_vm._e()],1)],1),_c('v-col',{staticClass:\"py-0\",attrs:{\"cols\":\"4\"}},[_c('v-card',{attrs:{\"flat\":\"\",\"color\":_vm.background}},[_c('v-system-bar',{attrs:{\"dark\":\"\",\"color\":\"accent\"}},[_vm._v(\"  \")]),(_vm.item.dataUrl)?_c('video',{ref:\"video\",style:(_vm.videoStyle),attrs:{\"src\":_vm.item.dataUrl}}):_vm._e()],1)],1),_c('v-col',{staticClass:\"py-0\",attrs:{\"cols\":\"4\"}},[_c('v-card',{attrs:{\"flat\":\"\",\"color\":_vm.background}},[_c('v-system-bar',{attrs:{\"dark\":\"\",\"color\":\"accent\"}},[_vm._v(\" \"+_vm._s(_vm.frameOffset)+\" \")]),(_vm.item.dataUrl)?_c('video',{ref:\"videoPos\",style:(_vm.videoStyle),attrs:{\"muted\":\"\",\"src\":_vm.item.dataUrl},domProps:{\"muted\":true}}):_vm._e()],1)],1)],1)],1),_c('v-card',[_c('v-card-actions',[_c('v-btn',{attrs:{\"icon\":\"\"}},[_c('v-icon',[_vm._v(\"mdi-skip-previous\")])],1),_c('v-btn',{attrs:{\"icon\":\"\"}},[_c('v-icon',[_vm._v(\"mdi-skip-backward\")])],1),_c('v-spacer'),_c('v-btn',{attrs:{\"fab\":\"\",\"dark\":\"\",\"small\":\"\",\"color\":\"accent\"},on:{\"click\":_vm.play}},[_c('v-icon',[_vm._v(\" mdi-play \")])],1),_c('v-btn',{attrs:{\"fab\":\"\",\"dark\":\"\",\"small\":\"\",\"color\":\"accent\"},on:{\"click\":_vm.pause}},[_c('v-icon',[_vm._v(\" mdi-pause \")])],1),_c('v-spacer'),_c('v-btn',{attrs:{\"icon\":\"\"}},[_c('v-icon',[_vm._v(\"mdi-skip-next\")])],1),_c('v-btn',{attrs:{\"icon\":\"\"}},[_c('v-icon',[_vm._v(\"mdi-skip-forward\")])],1)],1)],1)],1)],1),_c('v-col',{staticClass:\"flex-grow-1 flex-shrink-1 d-none d-sm-flex\",attrs:{\"cols\":\"5\"}},[(_vm.tiers)?_c('m-tier-list',{attrs:{\"items\":_vm.tiers,\"ws\":_vm.ws,\"max-height\":_vm.videoHeight}}):_vm._e()],1)],1),(_vm.isLoading)?_c('v-progress-linear',{attrs:{\"color\":\"accent\",\"height\":\"10\",\"indeterminate\":\"\"}}):_vm._e(),_c('v-card',[_c('v-card',{attrs:{\"id\":\"wave-spectrogram\"}}),_c('v-card',{attrs:{\"id\":\"wave-timeline\"}}),_c('v-text-field',{ref:\"textField\",attrs:{\"label\":\"Text\",\"hide-details\":\"\",\"solo\":\"\",\"dense\":\"\"},on:{\"input\":_vm.onChangeText,\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.onEnterText($event)}},model:{value:(_vm.text),callback:function ($$v) {_vm.text=$$v},expression:\"text\"}}),_c('v-card',{attrs:{\"id\":\"wave-multiline\"}}),_c('v-card',{attrs:{\"id\":\"waveform\"}}),_c('v-card',{attrs:{\"id\":\"wave-minimap\"}})],1)],1):_vm._e()],1),(_vm.debug)?_c('v-card',[(_vm.item)?_c('v-container',[_c('pre',[_vm._v(_vm._s(_vm.tiers))])]):_vm._e()],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-toolbar',{attrs:{\"dark\":\"\",\"color\":\"secondary\",\"dense\":\"\"}},[_c('v-toolbar-title',[_vm._v(\" \"+_vm._s(_vm.fileName)+\" \")]),_c('v-spacer'),_c('m-info-menu'),_vm._t(\"setting\"),_c('v-menu',{attrs:{\"left\":\"\",\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"icon\":\"\"}},on),[_c('v-icon',[_vm._v(\"mdi-dots-vertical\")])],1)]}}])},[_c('m-func-list',{attrs:{\"title\":\"\",\"items\":_vm.menuFuncs}})],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-menu',{attrs:{\"bottom\":\"\",\"left\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"icon\":\"\"}},on),[_c('v-icon',[_vm._v(_vm._s(_vm.icon))])],1)]}}]),model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('v-card',{staticClass:\"mx-auto\"},[_c('v-toolbar',{attrs:{\"color\":\"primary\",\"dark\":\"\",\"dense\":\"\"}},[_c('v-toolbar-title',[_vm._v(\" \"+_vm._s(_vm.$vuetify.lang.t(\"$vuetify.movieAnnotation.info.title\"))+\" \")])],1),(_vm.items.videoStream)?_c('m-info-list',{attrs:{\"title\":\"video stream\",\"items\":_vm.items.videoStream}}):_vm._e(),(_vm.items.audioStream)?_c('m-info-list',{attrs:{\"title\":\"audio stream\",\"items\":_vm.items.audioStream}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-list',[(_vm.title)?_c('v-subheader',[_vm._v(_vm._s(_vm.title))]):_vm._e(),_vm._l((_vm.items),function(item,key){return _c('v-list-item',{key:key,attrs:{\"two-line\":\"\"}},[_c('v-list-item-title',[_vm._v(\" \"+_vm._s(item.title)+\" \"),(item.help)?_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-icon',_vm._g({},on),[_vm._v(\" mdi-information \")])]}}],null,true)},[_c('span',[_vm._v(_vm._s(item.help))])]):_vm._e()],1),_c('v-list-item-subtitle',[_vm._v(\" \"+_vm._s(item.val)+\" \")])],1)})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-list>\n    <v-subheader v-if=\"title\">{{ title }}</v-subheader>\n    <v-list-item two-line v-for=\"(item, key) in items\" :key=\"key\">\n      <v-list-item-title>\n        {{ item.title }}\n        <v-tooltip bottom v-if=\"item.help\">\n          <template v-slot:activator=\"{ on }\">\n            <v-icon v-on=\"on\">\n              mdi-information\n            </v-icon>\n          </template>\n          <span>{{ item.help }}</span>\n        </v-tooltip>\n      </v-list-item-title>\n      <v-list-item-subtitle>\n        {{ item.val }}\n      </v-list-item-subtitle>\n    </v-list-item>\n  </v-list>\n</template>\n\n<script>\nexport default {\n  props: {\n    items: {\n      type: Array\n    },\n    title: {\n      type: String\n    }\n  }\n};\n</script>\n\n<style scoped></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MInfoList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MInfoList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MInfoList.vue?vue&type=template&id=f32d7fa0&scoped=true&\"\nimport script from \"./MInfoList.vue?vue&type=script&lang=js&\"\nexport * from \"./MInfoList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f32d7fa0\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VSubheader } from 'vuetify/lib/components/VSubheader';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VIcon,VList,VListItem,VListItemSubtitle,VListItemTitle,VSubheader,VTooltip})\n","<template>\n  <v-menu bottom v-model=\"show\" left>\n    <template v-slot:activator=\"{ on }\">\n      <v-btn icon v-on=\"on\">\n        <v-icon>{{ icon }}</v-icon>\n      </v-btn>\n    </template>\n    <v-card class=\"mx-auto\">\n      <v-toolbar color=\"primary\" dark dense>\n        <v-toolbar-title>\n          {{ $vuetify.lang.t(\"$vuetify.movieAnnotation.info.title\") }}\n        </v-toolbar-title>\n      </v-toolbar>\n      <m-info-list\n        title=\"video stream\"\n        :items=\"items.videoStream\"\n        v-if=\"items.videoStream\"\n      />\n      <m-info-list\n        title=\"audio stream\"\n        :items=\"items.audioStream\"\n        v-if=\"items.audioStream\"\n      />\n    </v-card>\n  </v-menu>\n</template>\n\n<script>\nimport MInfoList from \"@/components/util/MInfoList.vue\";\nimport File from \"@/models/file.js\";\nimport VideoStream from \"@/models/videoStream.js\";\nimport AudioStream from \"@/models/audioStream.js\";\nexport default {\n  name: \"movie-annotaion-m-info-menu\",\n  components: {\n    MInfoList\n  },\n  data: () => ({\n    debug: false,\n    show: false\n  }),\n  methods: {\n    log: function(tag, msg) {\n      if (this.debug) {\n        console.info(tag, msg);\n      }\n    }\n  },\n  computed: {\n    items: function() {\n      const tag = `${this.$options.name}:computed:items`;\n      const id = this.$route.params.id;\n      const result = {\n        audioStream: [],\n        videoStream: []\n      };\n      if (id) {\n        const file = File.find(id);\n        this.log(tag, file);\n        const v = VideoStream.find(file.videoStream_id);\n        if (v) {\n          result.videoStream = [\n            {\n              title: this.$vuetify.lang.t(\n                \"$vuetify.movieAnnotation.info.videoStream.codec.title\"\n              ),\n              val: `${v.codec_name}, ${v.pix_fmt}`\n            },\n            {\n              title: this.$vuetify.lang.t(\n                \"$vuetify.movieAnnotation.info.videoStream.bitrate.title\"\n              ),\n              val: `${v.bitrate} kb/s`\n            },\n            {\n              title: this.$vuetify.lang.t(\n                \"$vuetify.movieAnnotation.info.videoStream.fps.title\"\n              ),\n              val: `${v.fps} fps`\n            },\n            {\n              title: this.$vuetify.lang.t(\n                \"$vuetify.movieAnnotation.info.videoStream.tbr.title\"\n              ),\n              val: `${v.tbr} tbr`,\n              help: this.$vuetify.lang.t(\n                \"$vuetify.movieAnnotation.info.videoStream.tbr.help\"\n              )\n            },\n            {\n              title: this.$vuetify.lang.t(\n                \"$vuetify.movieAnnotation.info.videoStream.tbn.title\"\n              ),\n              val: `${v.tbn} tbn`,\n              help: this.$vuetify.lang.t(\n                \"$vuetify.movieAnnotation.info.videoStream.tbn.help\"\n              )\n            },\n            {\n              title: this.$vuetify.lang.t(\n                \"$vuetify.movieAnnotation.info.videoStream.tbc.title\"\n              ),\n              val: `${v.tbc} tbc`,\n              help: this.$vuetify.lang.t(\n                \"$vuetify.movieAnnotation.info.videoStream.tbc.help\"\n              )\n            }\n          ];\n        }\n        const a = AudioStream.find(file.audioStream_id);\n        this.log(tag + \":audioStream\", a);\n        if (a) {\n          result.audioStream = [\n            {\n              title: this.$vuetify.lang.t(\n                \"$vuetify.movieAnnotation.info.audioStream.codec.title\"\n              ),\n              val: a.codec_name\n            },\n            {\n              title: this.$vuetify.lang.t(\n                \"$vuetify.movieAnnotation.info.audioStream.bitrate.title\"\n              ),\n              val: `${a.bitrate} kb/s`\n            },\n            {\n              title: this.$vuetify.lang.t(\n                \"$vuetify.movieAnnotation.info.audioStream.channel_layout.title\"\n              ),\n              val: a.channel_layout\n            },\n            {\n              title: this.$vuetify.lang.t(\n                \"$vuetify.movieAnnotation.info.audioStream.sample_rate.title\"\n              ),\n              val: `${a.sample_rate} Hz`\n            }\n          ];\n        }\n      } else {\n        this.log(tag, \"no id\");\n      }\n      return result;\n    }\n  },\n  props: {\n    icon: {\n      type: String,\n      default: \"mdi-help-circle\"\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MInfoMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MInfoMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MInfoMenu.vue?vue&type=template&id=5b36273a&\"\nimport script from \"./MInfoMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./MInfoMenu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VCard,VIcon,VMenu,VToolbar,VToolbarTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-list',[(_vm.title)?_c('v-subheader',[_vm._v(_vm._s(_vm.title))]):_vm._e(),_vm._l((_vm.items),function(item,key){return _c('v-list-item',{key:key,on:{\"click\":item.callback}},[(item.icon)?_c('v-list-item-icon',[_c('v-icon',{domProps:{\"textContent\":_vm._s(item.icon)}})],1):_vm._e(),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\" \"+_vm._s(item.title)+\" \"),(item.help)?_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-icon',_vm._g({},on),[_vm._v(\" mdi-information \")])]}}],null,true)},[_c('span',[_vm._v(_vm._s(item.help))])]):_vm._e()],1)],1)],1)})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-list>\n    <v-subheader v-if=\"title\">{{ title }}</v-subheader>\n    <v-list-item v-for=\"(item, key) in items\" :key=\"key\" @click=\"item.callback\">\n      <v-list-item-icon v-if=\"item.icon\">\n        <v-icon v-text=\"item.icon\"></v-icon>\n      </v-list-item-icon>\n      <v-list-item-content>\n        <v-list-item-title>\n          {{ item.title }}\n          <v-tooltip bottom v-if=\"item.help\">\n            <template v-slot:activator=\"{ on }\">\n              <v-icon v-on=\"on\">\n                mdi-information\n              </v-icon>\n            </template>\n            <span>{{ item.help }}</span>\n          </v-tooltip>\n        </v-list-item-title>\n      </v-list-item-content>\n    </v-list-item>\n  </v-list>\n</template>\n\n<script>\nexport default {\n  props: {\n    items: {\n      type: Array\n    },\n    title: {\n      type: String\n    }\n  }\n};\n</script>\n\n<style scoped></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MFuncList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MFuncList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MFuncList.vue?vue&type=template&id=197a6350&scoped=true&\"\nimport script from \"./MFuncList.vue?vue&type=script&lang=js&\"\nexport * from \"./MFuncList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"197a6350\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemIcon } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VSubheader } from 'vuetify/lib/components/VSubheader';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VIcon,VList,VListItem,VListItemContent,VListItemIcon,VListItemTitle,VSubheader,VTooltip})\n","<template>\n  <v-toolbar dark color=\"secondary\" dense>\n    <v-toolbar-title>\n      {{ fileName }}\n    </v-toolbar-title>\n    <v-spacer />\n    <m-info-menu />\n    <slot name=\"setting\"></slot>\n    <v-menu left bottom>\n      <template v-slot:activator=\"{ on }\">\n        <v-btn icon v-on=\"on\">\n          <v-icon>mdi-dots-vertical</v-icon>\n        </v-btn>\n      </template>\n      <m-func-list title=\"\" :items=\"menuFuncs\" />\n    </v-menu>\n  </v-toolbar>\n</template>\n\n<script>\nimport MInfoMenu from \"@/components/MovieAnnotaion/MInfoMenu.vue\";\nimport MFuncList from \"@/components/util/MFuncList.vue\";\nexport default {\n  name: \"movie-annotaion-tool-bar\",\n  components: {\n    MInfoMenu,\n    MFuncList\n  },\n  props: {\n    fileName: {\n      type: String\n    },\n    menuFuncs: {\n      type: Array\n    }\n  },\n  methods: {\n    onUpdateFiler: function(payload) {\n      this.$emit(\"updateFiler\", payload);\n    }\n  }\n};\n</script>\n\n<style scoped></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MToolBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MToolBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MToolBar.vue?vue&type=template&id=a57e322e&scoped=true&\"\nimport script from \"./MToolBar.vue?vue&type=script&lang=js&\"\nexport * from \"./MToolBar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a57e322e\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VIcon,VMenu,VSpacer,VToolbar,VToolbarTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-menu',{attrs:{\"bottom\":\"\",\"close-on-click\":false,\"close-on-content-click\":false,\"left\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"icon\":\"\"}},on),[_c('v-icon',[_vm._v(_vm._s(_vm.icon))])],1)]}}]),model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('v-card',{staticStyle:{\"min-width\":\"600px\"}},[_c('v-toolbar',{attrs:{\"color\":\"primary\",\"dark\":\"\",\"dense\":\"\"}},[_c('v-toolbar-title',[_vm._v(\"\")])],1),_c('m-func-list',{attrs:{\"title\":\"\",\"items\":_vm.funcs}}),_c('v-list',{staticClass:\"overflow-y-auto\",staticStyle:{\"min-width\":\"600px\",\"max-height\":\"400px\"}},[_c('v-subheader',[_vm._v(\"\")]),_vm._l((_vm.eqs),function(eq,key){return _c('v-list-item',{key:key},[_c('v-list-item-content',[_c('v-slider',{attrs:{\"min\":-40,\"max\":40,\"label\":(\"f: \" + (eq.f))},model:{value:(eq.val),callback:function ($$v) {_vm.$set(eq, \"val\", $$v)},expression:\"eq.val\"}})],1)],1)})],2),_c('v-list',[_c('v-subheader',[_vm._v(\"\")]),_c('v-list-item-content',[_c('v-slider',{attrs:{\"min\":200,\"max\":300},model:{value:(_vm.zoom),callback:function ($$v) {_vm.zoom=$$v},expression:\"zoom\"}})],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.show = false}}},[_vm._v(\"Close\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-menu\n    bottom\n    v-model=\"show\"\n    :close-on-click=\"false\"\n    :close-on-content-click=\"false\"\n    left\n  >\n    <template v-slot:activator=\"{ on }\">\n      <v-btn icon v-on=\"on\">\n        <v-icon>{{ icon }}</v-icon>\n      </v-btn>\n    </template>\n    <v-card style=\"min-width: 600px\">\n      <v-toolbar color=\"primary\" dark dense>\n        <v-toolbar-title></v-toolbar-title>\n      </v-toolbar>\n      <m-func-list title=\"\" :items=\"funcs\" />\n      <v-list\n        style=\"min-width: 600px; max-height: 400px\"\n        class=\"overflow-y-auto\"\n      >\n        <v-subheader></v-subheader>\n        <v-list-item v-for=\"(eq, key) in eqs\" :key=\"key\">\n          <v-list-item-content>\n            <v-slider\n              v-model=\"eq.val\"\n              :min=\"-40\"\n              :max=\"40\"\n              :label=\"`f: ${eq.f}`\"\n            />\n          </v-list-item-content>\n        </v-list-item>\n      </v-list>\n      <v-list>\n        <v-subheader></v-subheader>\n        <v-list-item-content>\n          <v-slider v-model=\"zoom\" :min=\"200\" :max=\"300\" />\n        </v-list-item-content>\n      </v-list>\n      <v-card-actions>\n        <v-spacer></v-spacer>\n        <v-btn text @click=\"show = false\">Close</v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-menu>\n</template>\n\n<script>\nimport MFuncList from \"@/components/util/MFuncList.vue\";\nexport default {\n  name: \"movie-annotaion-m-setting-menu\",\n  components: {\n    MFuncList\n  },\n  data: () => ({\n    show: false,\n    funcs: [],\n    zoom: 100,\n    eqs: [\n      {\n        f: 32,\n        val: 0,\n        type: \"lowshelf\"\n      },\n      {\n        f: 64,\n        val: 0,\n        type: \"peaking\"\n      },\n      {\n        f: 125,\n        val: 0,\n        type: \"peaking\"\n      },\n      {\n        f: 250,\n        val: 0,\n        type: \"peaking\"\n      },\n      {\n        f: 500,\n        val: 0,\n        type: \"peaking\"\n      },\n      {\n        f: 1000,\n        val: 0,\n        type: \"peaking\"\n      },\n      {\n        f: 2000,\n        val: 0,\n        type: \"peaking\"\n      },\n      {\n        f: 4000,\n        val: 0,\n        type: \"peaking\"\n      },\n      {\n        f: 8000,\n        val: 0,\n        type: \"peaking\"\n      },\n      {\n        f: 16000,\n        val: 0,\n        type: \"highshelf\"\n      }\n    ]\n  }),\n  props: {\n    value: {\n      type: Object,\n      requested: true\n    },\n    icon: {\n      type: String,\n      default: \"mdi-cog\"\n    }\n  },\n  watch: {\n    eqs: {\n      handler: function(val) {\n        const tag = `${this.$options.name}:watch:eqs`;\n        console.log(tag, val);\n        this.setFilters();\n      },\n      deep: true\n    },\n    zoom: function(val) {\n      const tag = `${this.$options.name}:zoom`;\n      console.log(tag, val);\n      this.ws.zoom(Number(val));\n    }\n  },\n  methods: {\n    setFilters: function() {\n      if (this.ws) {\n        const tag = `${this.$options.name}:setFilters`;\n        console.log(tag);\n        const filters = this.eqs.map(eq => {\n          const filter = this.ws.backend.ac.createBiquadFilter();\n          filter.type = eq.type;\n          filter.gain.value = ~~eq.val;\n          filter.Q.value = 1;\n          filter.frequency.value = eq.f;\n          return filter;\n        });\n        console.log(tag, filters);\n        this.$emit(\"updateFiler\", filters);\n      }\n    }\n  },\n  mounted: function() {}\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MSettingMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MSettingMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MSettingMenu.vue?vue&type=template&id=589b6bda&\"\nimport script from \"./MSettingMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./MSettingMenu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VSlider } from 'vuetify/lib/components/VSlider';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSubheader } from 'vuetify/lib/components/VSubheader';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VCard,VCardActions,VIcon,VList,VListItem,VListItemContent,VMenu,VSlider,VSpacer,VSubheader,VToolbar,VToolbarTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"max-auto overflow-y-auto\",style:(_vm.cardStyle),attrs:{\"width\":\"100%\"}},[_c('v-tabs',{attrs:{\"dark\":\"\",\"background-color\":\"teal darken-3\",\"show-arrows\":\"\"},model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c('v-tabs-slider',{attrs:{\"color\":\"teal lighten-3\"}}),_vm._l((_vm.items),function(item,key){return _c('v-tab',{key:key},[_vm._v(\" \"+_vm._s(item.name)+\" \")])})],2),_c('v-tabs-items',{model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},_vm._l((_vm.items),function(item){return _c('v-tab-item',{key:item.name},[_c('v-card',{attrs:{\"flat\":\"\"}},[_c('v-simple-table',{scopedSlots:_vm._u([{key:\"default\",fn:function(){return [(item.tierType == 'interval')?_c('tbody',_vm._l((item.items),function(x,idx){return _c('tr',{key:idx},[_c('td',[_vm._v(_vm._s(x.text))]),_c('td',[_vm._v(_vm._s(x.time))]),(idx == item.items.length - 1)?_c('td',[_vm._v(\" \"+_vm._s(_vm.ws.getDuration())+\" \")]):_c('td',[_vm._v(\" \"+_vm._s(item.items[Number(idx + 1)].time)+\" \")])])}),0):_c('tbody',_vm._l((item.items),function(x,key){return _c('tr',{key:key},[_c('td',[_vm._v(_vm._s(x.text))]),_c('td',[_vm._v(_vm._s(x.time))])])}),0)]},proxy:true}],null,true)})],1)],1)}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card class=\"max-auto overflow-y-auto\" :style=\"cardStyle\" width=\"100%\">\n    <v-tabs v-model=\"tab\" dark background-color=\"teal darken-3\" show-arrows>\n      <v-tabs-slider color=\"teal lighten-3\"></v-tabs-slider>\n      <v-tab v-for=\"(item, key) in items\" :key=\"key\">\n        {{ item.name }}\n      </v-tab>\n    </v-tabs>\n    <v-tabs-items v-model=\"tab\">\n      <v-tab-item v-for=\"item in items\" :key=\"item.name\">\n        <v-card flat>\n          <v-simple-table>\n            <template v-slot:default>\n              <tbody v-if=\"item.tierType == 'interval'\">\n                <tr v-for=\"(x, idx) in item.items\" :key=\"idx\">\n                  <td>{{ x.text }}</td>\n                  <td>{{ x.time }}</td>\n                  <td v-if=\"idx == item.items.length - 1\">\n                    {{ ws.getDuration() }}\n                  </td>\n                  <td v-else>\n                    {{ item.items[Number(idx + 1)].time }}\n                  </td>\n                </tr>\n              </tbody>\n              <tbody v-else>\n                <tr v-for=\"(x, key) in item.items\" :key=\"key\">\n                  <td>{{ x.text }}</td>\n                  <td>{{ x.time }}</td>\n                </tr>\n              </tbody>\n            </template>\n          </v-simple-table>\n        </v-card>\n      </v-tab-item>\n    </v-tabs-items>\n  </v-card>\n</template>\n\n<script>\nexport default {\n  data: () => ({\n    tab: null\n  }),\n  props: {\n    items: {\n      type: Array\n    },\n    maxHeight: {\n      type: Number\n    },\n    ws: {\n      type: Object\n    }\n  },\n  computed: {\n    cardStyle: function() {\n      if (this.maxHeight) {\n        return `max-height: ${this.maxHeight}px`;\n      }\n      return \"max-height: 400px\";\n    }\n  }\n};\n</script>\n\n<style scoped></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MTierList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MTierList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MTierList.vue?vue&type=template&id=620286fd&scoped=true&\"\nimport script from \"./MTierList.vue?vue&type=script&lang=js&\"\nexport * from \"./MTierList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"620286fd\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VSimpleTable } from 'vuetify/lib/components/VDataTable';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabItem } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VTabsItems } from 'vuetify/lib/components/VTabs';\nimport { VTabsSlider } from 'vuetify/lib/components/VTabs';\ninstallComponents(component, {VCard,VSimpleTable,VTab,VTabItem,VTabs,VTabsItems,VTabsSlider})\n","/**\n * @typedef {Object} ListenerDescriptor\n * @property {string} name The name of the event\n * @property {function} callback The callback\n * @property {function} un The function to call to remove the listener\n */\n\n/**\n * Observer class\n */\nexport default class Observer {\n  /**\n   * Instantiate Observer\n   */\n  constructor() {\n    /**\n     * @private\n     * @todo Initialise the handlers here already and remove the conditional\n     * assignment in `on()`\n     */\n    this.handlers = null;\n  }\n  /**\n   * Attach a handler function for an event.\n   *\n   * @param {string} event Name of the event to listen to\n   * @param {function} fn The callback to trigger when the event is fired\n   * @return {ListenerDescriptor} The event descriptor\n   */\n  on(event, fn) {\n    if (!this.handlers) {\n      this.handlers = {};\n    }\n\n    let handlers = this.handlers[event];\n    if (!handlers) {\n      handlers = this.handlers[event] = [];\n    }\n    handlers.push(fn);\n\n    // Return an event descriptor\n    return {\n      name: event,\n      callback: fn,\n      un: (e, fn) => this.un(e, fn)\n    };\n  }\n\n  /**\n   * Remove an event handler.\n   *\n   * @param {string} event Name of the event the listener that should be\n   * removed listens to\n   * @param {function} fn The callback that should be removed\n   */\n  un(event, fn) {\n    if (!this.handlers) {\n      return;\n    }\n\n    const handlers = this.handlers[event];\n    let i;\n    if (handlers) {\n      if (fn) {\n        for (i = handlers.length - 1; i >= 0; i--) {\n          if (handlers[i] == fn) {\n            handlers.splice(i, 1);\n          }\n        }\n      } else {\n        handlers.length = 0;\n      }\n    }\n  }\n\n  /**\n   * Remove all event handlers.\n   */\n  unAll() {\n    this.handlers = null;\n  }\n\n  /**\n   * Attach a handler to an event. The handler is executed at most once per\n   * event type.\n   *\n   * @param {string} event The event to listen to\n   * @param {function} handler The callback that is only to be called once\n   * @return {ListenerDescriptor} The event descriptor\n   */\n  once(event, handler) {\n    const fn = (...args) => {\n      /*  eslint-disable no-invalid-this */\n      handler.apply(this, args);\n      /*  eslint-enable no-invalid-this */\n      setTimeout(() => {\n        this.un(event, fn);\n      }, 0);\n    };\n    return this.on(event, fn);\n  }\n\n  /**\n   * Manually fire an event\n   *\n   * @param {string} event The event to fire manually\n   * @param {...any} args The arguments with which to call the listeners\n   */\n  fireEvent(event, ...args) {\n    if (!this.handlers) {\n      return;\n    }\n    const handlers = this.handlers[event];\n    handlers &&\n      handlers.forEach(fn => {\n        fn(...args);\n      });\n  }\n}\n","import Observer from \"./observer\";\n\n/**\n * Perform an ajax request using `XMLHttpRequest`.\n *\n * @deprecated Use `util.fetchFile` instead.\n *\n * @param {Object} options AJAX options to use. See example below for options.\n * @returns {Observer} Observer instance\n * @example\n * // default options\n * let options = {\n *     method: 'GET',\n *     url: undefined,\n *     responseType: 'json',\n *     xhr: {}\n * };\n *\n * // override default options\n * options.url = '../media/demo.wav';\n * options.responseType = 'arraybuffer';\n * options.xhr = {\n *     requestHeaders: [\n *         {\n *             key: 'Authorization',\n *             value: 'my-token'\n *         }\n *     ],\n *     withCredentials: true\n * };\n *\n * // make ajax call\n * let ajaxCall = util.ajax(options);\n * ajaxCall.on('progress', e => {\n *     console.log('progress', e);\n * });\n * ajaxCall.on('success', (data, e) => {\n *     console.log('success!', data);\n * });\n * ajaxCall.on('error', e => {\n *     console.warn('ajax error: ' + e.target.statusText);\n * });\n */\nexport default function ajax(options) {\n  const instance = new Observer();\n  const xhr = new XMLHttpRequest();\n  let fired100 = false;\n  xhr.open(options.method || \"GET\", options.url, true);\n  xhr.responseType = options.responseType || \"json\";\n\n  if (options.xhr) {\n    if (options.xhr.requestHeaders) {\n      // add custom request headers\n      options.xhr.requestHeaders.forEach(header => {\n        xhr.setRequestHeader(header.key, header.value);\n      });\n    }\n    if (options.xhr.withCredentials) {\n      // use credentials\n      xhr.withCredentials = true;\n    }\n  }\n\n  xhr.addEventListener(\"progress\", e => {\n    instance.fireEvent(\"progress\", e);\n    if (e.lengthComputable && e.loaded == e.total) {\n      fired100 = true;\n    }\n  });\n  xhr.addEventListener(\"load\", e => {\n    if (!fired100) {\n      instance.fireEvent(\"progress\", e);\n    }\n    instance.fireEvent(\"load\", e);\n    if (200 == xhr.status || 206 == xhr.status) {\n      instance.fireEvent(\"success\", xhr.response, e);\n    } else {\n      instance.fireEvent(\"error\", e);\n    }\n  });\n  xhr.addEventListener(\"error\", e => instance.fireEvent(\"error\", e));\n  xhr.send();\n  instance.xhr = xhr;\n  return instance;\n}\n","/**\n * Get a random prefixed ID\n *\n * @param {String} prefix Prefix to use. Default is `'wavesurfer_'`.\n * @returns {String} Random prefixed ID\n * @example\n * console.log(getId()); // logs 'wavesurfer_b5pors4ru6g'\n *\n * let prefix = 'foo-';\n * console.log(getId(prefix)); // logs 'foo-b5pors4ru6g'\n */\nexport default function getId(prefix) {\n  if (prefix === undefined) {\n    prefix = \"wavesurfer_\";\n  }\n  return (\n    prefix +\n    Math.random()\n      .toString(32)\n      .substring(2)\n  );\n}\n","/**\n * Get the largest value\n *\n * @param   {Array} values Array of numbers\n * @returns {Number} Largest number found\n * @example console.log(max([1, 2, 3])); // logs 3\n */\nexport default function max(values) {\n  let largest = -Infinity;\n  Object.keys(values).forEach(i => {\n    if (values[i] > largest) {\n      largest = values[i];\n    }\n  });\n  return largest;\n}\n","/**\n * Get the smallest value\n *\n * @param   {Array} values Array of numbers\n * @returns {Number} Smallest number found\n * @example console.log(min([1, 2, 3])); // logs 1\n */\nexport default function min(values) {\n  let smallest = Number(Infinity);\n  Object.keys(values).forEach(i => {\n    if (values[i] < smallest) {\n      smallest = values[i];\n    }\n  });\n  return smallest;\n}\n","/* eslint no-console: [\"error\", { allow: [\"warn\"] }] */\n/**\n * Extend an object shallowly with others\n *\n * @param {Object} dest The target object\n * @param {Object[]} sources The objects to use for extending\n *\n * @return {Object} Merged object\n * @deprecated since version 3.3.0\n */\nexport default function extend(dest, ...sources) {\n  console.warn(\"util.extend is deprecated; use Object.assign instead\");\n  sources.forEach(source => {\n    Object.keys(source).forEach(key => {\n      dest[key] = source[key];\n    });\n  });\n  return dest;\n}\n","/**\n * Apply a map of styles to an element\n *\n * @param {HTMLElement} el The element that the styles will be applied to\n * @param {Object} styles The map of propName: attribute, both are used as-is\n *\n * @return {HTMLElement} el\n */\nexport default function style(el, styles) {\n  Object.keys(styles).forEach(prop => {\n    if (el.style[prop] !== styles[prop]) {\n      el.style[prop] = styles[prop];\n    }\n  });\n  return el;\n}\n","/* eslint-disable valid-jsdoc */\n/* eslint no-unused-vars: 0 */\n/**\n * Returns the `requestAnimationFrame` function for the browser, or a shim with\n * `setTimeout` if the function is not found\n *\n * @return {function} Available `requestAnimationFrame` function for the browser\n */\nexport default (\n  window.requestAnimationFrame ||\n  window.webkitRequestAnimationFrame ||\n  window.mozRequestAnimationFrame ||\n  window.oRequestAnimationFrame ||\n  window.msRequestAnimationFrame ||\n  ((callback, element) => setTimeout(callback, 1000 / 60))\n).bind(window);\n","import reqAnimationFrame from \"./request-animation-frame\";\n\n/**\n * Create a function which will be called at the next requestAnimationFrame\n * cycle\n *\n * @param {function} func The function to call\n *\n * @return {func} The function wrapped within a requestAnimationFrame\n */\nexport default function frame(func) {\n  return (...args) => reqAnimationFrame(() => func(...args));\n}\n","/* eslint no-unused-vars: 0 */\n/**\n * Stops propagation of click event and removes event listener\n *\n * @private\n * @param {object} event The click event\n */\nfunction preventClickHandler(event) {\n  event.stopPropagation();\n  document.body.removeEventListener(\"click\", preventClickHandler, true);\n}\n\n/**\n * Starts listening for click event and prevent propagation\n *\n * @param {object} values Values\n */\nexport default function preventClick(values) {\n  document.body.addEventListener(\"click\", preventClickHandler, true);\n}\n","/**\n * @since 3.0.0\n */\n\nimport Observer from \"./observer\";\n\nclass ProgressHandler {\n  /**\n   * Instantiate ProgressHandler\n   *\n   * @param {Observer} instance The `fetchFile` observer instance.\n   * @param {Number} contentLength Content length.\n   * @param {Response} response Response object.\n   */\n  constructor(instance, contentLength, response) {\n    this.instance = instance;\n    this.instance._reader = response.body.getReader();\n\n    this.total = parseInt(contentLength, 10);\n    this.loaded = 0;\n  }\n\n  /**\n   * A method that is called once, immediately after the `ReadableStream``\n   * is constructed.\n   *\n   * @param {ReadableStreamDefaultController} controller Controller instance\n   *     used to control the stream.\n   */\n  start(controller) {\n    const read = () => {\n      // instance._reader.read() returns a promise that resolves\n      // when a value has been received\n      this.instance._reader\n        .read()\n        .then(({ done, value }) => {\n          // result objects contain two properties:\n          // done  - true if the stream has already given you all its data.\n          // value - some data. Always undefined when done is true.\n          if (done) {\n            // ensure onProgress called when content-length=0\n            if (this.total === 0) {\n              this.instance.onProgress.call(this.instance, {\n                loaded: this.loaded,\n                total: this.total,\n                lengthComputable: false\n              });\n            }\n            // no more data needs to be consumed, close the stream\n            controller.close();\n            return;\n          }\n\n          this.loaded += value.byteLength;\n          this.instance.onProgress.call(this.instance, {\n            loaded: this.loaded,\n            total: this.total,\n            lengthComputable: !(this.total === 0)\n          });\n          // enqueue the next data chunk into our target stream\n          controller.enqueue(value);\n          read();\n        })\n        .catch(error => {\n          controller.error(error);\n        });\n    };\n\n    read();\n  }\n}\n\n/**\n * Load a file using `fetch`.\n *\n * @param {object} options Request options to use. See example below.\n * @returns {Observer} Observer instance\n * @example\n * // default options\n * let options = {\n *     url: undefined,\n *     method: 'GET',\n *     mode: 'cors',\n *     credentials: 'same-origin',\n *     cache: 'default',\n *     responseType: 'json',\n *     requestHeaders: [],\n *     redirect: 'follow',\n *     referrer: 'client'\n * };\n *\n * // override some options\n * options.url = '../media/demo.wav';\n\n * // available types: 'arraybuffer', 'blob', 'json' or 'text'\n * options.responseType = 'arraybuffer';\n *\n * // make fetch call\n * let request = util.fetchFile(options);\n *\n * // listen for events\n * request.on('progress', e => {\n *     console.log('progress', e);\n * });\n *\n * request.on('success', data => {\n *     console.log('success!', data);\n * });\n *\n * request.on('error', e => {\n *     console.warn('fetchFile error: ', e);\n * });\n */\nexport default function fetchFile(options) {\n  if (!options) {\n    throw new Error(\"fetch options missing\");\n  } else if (!options.url) {\n    throw new Error(\"fetch url missing\");\n  }\n  const instance = new Observer();\n  const fetchHeaders = new Headers();\n  const fetchRequest = new Request(options.url);\n\n  // add ability to abort\n  instance.controller = new AbortController();\n\n  // check if headers have to be added\n  if (options && options.requestHeaders) {\n    // add custom request headers\n    options.requestHeaders.forEach(header => {\n      fetchHeaders.append(header.key, header.value);\n    });\n  }\n\n  // parse fetch options\n  const responseType = options.responseType || \"json\";\n  const fetchOptions = {\n    method: options.method || \"GET\",\n    headers: fetchHeaders,\n    mode: options.mode || \"cors\",\n    credentials: options.credentials || \"same-origin\",\n    cache: options.cache || \"default\",\n    redirect: options.redirect || \"follow\",\n    referrer: options.referrer || \"client\",\n    signal: instance.controller.signal\n  };\n\n  fetch(fetchRequest, fetchOptions)\n    .then(response => {\n      // store response reference\n      instance.response = response;\n\n      let progressAvailable = true;\n      if (!response.body) {\n        // ReadableStream is not yet supported in this browser\n        // see https://developer.mozilla.org/en-US/docs/Web/API/ReadableStream\n        progressAvailable = false;\n      }\n\n      // Server must send CORS header \"Access-Control-Expose-Headers: content-length\"\n      const contentLength = response.headers.get(\"content-length\");\n      if (contentLength === null) {\n        // Content-Length server response header missing.\n        // Don't evaluate download progress if we can't compare against a total size\n        // see https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS#Access-Control-Expose-Headers\n        progressAvailable = false;\n      }\n\n      if (!progressAvailable) {\n        // not able to check download progress so skip it\n        return response;\n      }\n\n      // fire progress event when during load\n      instance.onProgress = e => {\n        instance.fireEvent(\"progress\", e);\n      };\n\n      return new Response(\n        new ReadableStream(\n          new ProgressHandler(instance, contentLength, response)\n        ),\n        fetchOptions\n      );\n    })\n    .then(response => {\n      let errMsg;\n      if (response.ok) {\n        switch (responseType) {\n          case \"arraybuffer\":\n            return response.arrayBuffer();\n\n          case \"json\":\n            return response.json();\n\n          case \"blob\":\n            return response.blob();\n\n          case \"text\":\n            return response.text();\n\n          default:\n            errMsg = \"Unknown responseType: \" + responseType;\n            break;\n        }\n      }\n      if (!errMsg) {\n        errMsg = \"HTTP error status: \" + response.status;\n      }\n      throw new Error(errMsg);\n    })\n    .then(response => {\n      instance.fireEvent(\"success\", response);\n    })\n    .catch(error => {\n      instance.fireEvent(\"error\", error);\n    });\n\n  // return the fetch request\n  instance.fetchRequest = fetchRequest;\n  return instance;\n}\n","/* eslint no-unused-vars: 0 */\nimport * as util from \"./util\";\n\n/**\n * Parent class for renderers\n *\n * @extends {Observer}\n */\nexport default class Drawer extends util.Observer {\n  /**\n   * @param {HTMLElement} container The container node of the wavesurfer instance\n   * @param {WavesurferParams} params The wavesurfer initialisation options\n   */\n  constructor(container, params) {\n    super();\n    /** @private */\n    this.container = container;\n    /**\n     * @type {WavesurferParams}\n     * @private\n     */\n    this.params = params;\n    /**\n     * The width of the renderer\n     * @type {number}\n     */\n    this.width = 0;\n    /**\n     * The height of the renderer\n     * @type {number}\n     */\n    this.height = params.height * this.params.pixelRatio;\n    /** @private */\n    this.lastPos = 0;\n    /**\n     * The `<wave>` element which is added to the container\n     * @type {HTMLElement}\n     */\n    this.wrapper = null;\n  }\n\n  /**\n   * Alias of `util.style`\n   *\n   * @param {HTMLElement} el The element that the styles will be applied to\n   * @param {Object} styles The map of propName: attribute, both are used as-is\n   * @return {HTMLElement} el\n   */\n  style(el, styles) {\n    return util.style(el, styles);\n  }\n\n  /**\n   * Create the wrapper `<wave>` element, style it and set up the events for\n   * interaction\n   */\n  createWrapper() {\n    this.wrapper = this.container.appendChild(document.createElement(\"wave\"));\n\n    this.style(this.wrapper, {\n      display: \"block\",\n      position: \"relative\",\n      userSelect: \"none\",\n      webkitUserSelect: \"none\",\n      height: this.params.height + \"px\"\n    });\n\n    if (this.params.fillParent || this.params.scrollParent) {\n      this.style(this.wrapper, {\n        width: \"100%\",\n        overflowX: this.params.hideScrollbar ? \"hidden\" : \"auto\",\n        overflowY: \"hidden\"\n      });\n    }\n\n    this.setupWrapperEvents();\n  }\n\n  /**\n   * Handle click event\n   *\n   * @param {Event} e Click event\n   * @param {?boolean} noPrevent Set to true to not call `e.preventDefault()`\n   * @return {number} Playback position from 0 to 1\n   */\n  handleEvent(e, noPrevent) {\n    !noPrevent && e.preventDefault();\n\n    const clientX = e.targetTouches ? e.targetTouches[0].clientX : e.clientX;\n    const bbox = this.wrapper.getBoundingClientRect();\n\n    const nominalWidth = this.width;\n    const parentWidth = this.getWidth();\n\n    let progress;\n    if (!this.params.fillParent && nominalWidth < parentWidth) {\n      progress =\n        (this.params.rtl ? bbox.right - clientX : clientX - bbox.left) *\n          (this.params.pixelRatio / nominalWidth) || 0;\n\n      if (progress > 1) {\n        progress = 1;\n      }\n    } else {\n      progress =\n        ((this.params.rtl ? bbox.right - clientX : clientX - bbox.left) +\n          this.wrapper.scrollLeft) /\n          this.wrapper.scrollWidth || 0;\n    }\n\n    return progress;\n  }\n\n  /**\n   * @private\n   */\n  setupWrapperEvents() {\n    this.wrapper.addEventListener(\"click\", e => {\n      const scrollbarHeight =\n        this.wrapper.offsetHeight - this.wrapper.clientHeight;\n      if (scrollbarHeight !== 0) {\n        // scrollbar is visible.  Check if click was on it\n        const bbox = this.wrapper.getBoundingClientRect();\n        if (e.clientY >= bbox.bottom - scrollbarHeight) {\n          // ignore mousedown as it was on the scrollbar\n          return;\n        }\n      }\n\n      if (this.params.interact) {\n        this.fireEvent(\"click\", e, this.handleEvent(e));\n      }\n    });\n\n    this.wrapper.addEventListener(\"dblclick\", e => {\n      if (this.params.interact) {\n        this.fireEvent(\"dblclick\", e, this.handleEvent(e));\n      }\n    });\n\n    this.wrapper.addEventListener(\"scroll\", e => this.fireEvent(\"scroll\", e));\n  }\n\n  /**\n   * Draw peaks on the canvas\n   *\n   * @param {number[]|Number.<Array[]>} peaks Can also be an array of arrays\n   * for split channel rendering\n   * @param {number} length The width of the area that should be drawn\n   * @param {number} start The x-offset of the beginning of the area that\n   * should be rendered\n   * @param {number} end The x-offset of the end of the area that should be\n   * rendered\n   */\n  drawPeaks(peaks, length, start, end) {\n    if (!this.setWidth(length)) {\n      this.clearWave();\n    }\n\n    this.params.barWidth\n      ? this.drawBars(peaks, 0, start, end)\n      : this.drawWave(peaks, 0, start, end);\n  }\n\n  /**\n   * Scroll to the beginning\n   */\n  resetScroll() {\n    if (this.wrapper !== null) {\n      this.wrapper.scrollLeft = 0;\n    }\n  }\n\n  /**\n   * Recenter the view-port at a certain percent of the waveform\n   *\n   * @param {number} percent Value from 0 to 1 on the waveform\n   */\n  recenter(percent) {\n    const position = this.wrapper.scrollWidth * percent;\n    this.recenterOnPosition(position, true);\n  }\n\n  /**\n   * Recenter the view-port on a position, either scroll there immediately or\n   * in steps of 5 pixels\n   *\n   * @param {number} position X-offset in pixels\n   * @param {boolean} immediate Set to true to immediately scroll somewhere\n   */\n  recenterOnPosition(position, immediate) {\n    const scrollLeft = this.wrapper.scrollLeft;\n    const half = ~~(this.wrapper.clientWidth / 2);\n    const maxScroll = this.wrapper.scrollWidth - this.wrapper.clientWidth;\n    let target = position - half;\n    let offset = target - scrollLeft;\n\n    if (maxScroll == 0) {\n      // no need to continue if scrollbar is not there\n      return;\n    }\n\n    // if the cursor is currently visible...\n    if (!immediate && -half <= offset && offset < half) {\n      // set rate at which waveform is centered\n      let rate = this.params.autoCenterRate;\n\n      // make rate depend on width of view and length of waveform\n      rate /= half;\n      rate *= maxScroll;\n\n      offset = Math.max(-rate, Math.min(rate, offset));\n      target = scrollLeft + offset;\n    }\n\n    // limit target to valid range (0 to maxScroll)\n    target = Math.max(0, Math.min(maxScroll, target));\n    // no use attempting to scroll if we're not moving\n    if (target != scrollLeft) {\n      this.wrapper.scrollLeft = target;\n    }\n  }\n\n  /**\n   * Get the current scroll position in pixels\n   *\n   * @return {number} Horizontal scroll position in pixels\n   */\n  getScrollX() {\n    let x = 0;\n    if (this.wrapper) {\n      const pixelRatio = this.params.pixelRatio;\n      x = Math.round(this.wrapper.scrollLeft * pixelRatio);\n\n      // In cases of elastic scroll (safari with mouse wheel) you can\n      // scroll beyond the limits of the container\n      // Calculate and floor the scrollable extent to make sure an out\n      // of bounds value is not returned\n      // Ticket #1312\n      if (this.params.scrollParent) {\n        const maxScroll = ~~(\n          this.wrapper.scrollWidth * pixelRatio -\n          this.getWidth()\n        );\n        x = Math.min(maxScroll, Math.max(0, x));\n      }\n    }\n    return x;\n  }\n\n  /**\n   * Get the width of the container\n   *\n   * @return {number} The width of the container\n   */\n  getWidth() {\n    return Math.round(this.container.clientWidth * this.params.pixelRatio);\n  }\n\n  /**\n   * Set the width of the container\n   *\n   * @param {number} width The new width of the container\n   * @return {boolean} Whether the width of the container was updated or not\n   */\n  setWidth(width) {\n    if (this.width == width) {\n      return false;\n    }\n\n    this.width = width;\n\n    if (this.params.fillParent || this.params.scrollParent) {\n      this.style(this.wrapper, {\n        width: \"\"\n      });\n    } else {\n      this.style(this.wrapper, {\n        width: ~~(this.width / this.params.pixelRatio) + \"px\"\n      });\n    }\n\n    this.updateSize();\n    return true;\n  }\n\n  /**\n   * Set the height of the container\n   *\n   * @param {number} height The new height of the container.\n   * @return {boolean} Whether the height of the container was updated or not\n   */\n  setHeight(height) {\n    if (height == this.height) {\n      return false;\n    }\n    this.height = height;\n\n    this.style(this.wrapper, {\n      height: ~~(this.height / this.params.pixelRatio) + \"px\"\n    });\n\n    this.updateSize();\n    return true;\n  }\n\n  /**\n   * Called by wavesurfer when progress should be rendered\n   *\n   * @param {number} progress From 0 to 1\n   */\n  progress(progress) {\n    const minPxDelta = 1 / this.params.pixelRatio;\n    const pos = Math.round(progress * this.width) * minPxDelta;\n\n    if (pos < this.lastPos || pos - this.lastPos >= minPxDelta) {\n      this.lastPos = pos;\n\n      if (this.params.scrollParent && this.params.autoCenter) {\n        const newPos = ~~(this.wrapper.scrollWidth * progress);\n        this.recenterOnPosition(newPos, this.params.autoCenterImmediately);\n      }\n\n      this.updateProgress(pos);\n    }\n  }\n\n  /**\n   * This is called when wavesurfer is destroyed\n   */\n  destroy() {\n    this.unAll();\n    if (this.wrapper) {\n      if (this.wrapper.parentNode == this.container) {\n        this.container.removeChild(this.wrapper);\n      }\n      this.wrapper = null;\n    }\n  }\n\n  /* Renderer-specific methods */\n\n  /**\n   * Called after cursor related params have changed.\n   *\n   * @abstract\n   */\n  updateCursor() {}\n\n  /**\n   * Called when the size of the container changes so the renderer can adjust\n   *\n   * @abstract\n   */\n  updateSize() {}\n\n  /**\n   * Draw a waveform with bars\n   *\n   * @abstract\n   * @param {number[]|Number.<Array[]>} peaks Can also be an array of arrays for split channel\n   * rendering\n   * @param {number} channelIndex The index of the current channel. Normally\n   * should be 0\n   * @param {number} start The x-offset of the beginning of the area that\n   * should be rendered\n   * @param {number} end The x-offset of the end of the area that should be\n   * rendered\n   */\n  drawBars(peaks, channelIndex, start, end) {}\n\n  /**\n   * Draw a waveform\n   *\n   * @abstract\n   * @param {number[]|Number.<Array[]>} peaks Can also be an array of arrays for split channel\n   * rendering\n   * @param {number} channelIndex The index of the current channel. Normally\n   * should be 0\n   * @param {number} start The x-offset of the beginning of the area that\n   * should be rendered\n   * @param {number} end The x-offset of the end of the area that should be\n   * rendered\n   */\n  drawWave(peaks, channelIndex, start, end) {}\n\n  /**\n   * Clear the waveform\n   *\n   * @abstract\n   */\n  clearWave() {}\n\n  /**\n   * Render the new progress\n   *\n   * @abstract\n   * @param {number} position X-Offset of progress position in pixels\n   */\n  updateProgress(position) {}\n}\n","/**\n * @since 3.0.0\n */\n/* eslint no-unused-vars: 0 */\nimport style from \"./util/style\";\nimport getId from \"./util/get-id\";\n\n/**\n * The `CanvasEntry` class represents an element consisting of a wave `canvas`\n * and an (optional) progress wave `canvas`.\n *\n * The `MultiCanvas` renderer uses one or more `CanvasEntry` instances to\n * render a waveform, depending on the zoom level.\n */\nexport default class CanvasEntry {\n  constructor() {\n    /**\n     * The wave node\n     *\n     * @type {HTMLCanvasElement}\n     */\n    this.wave = null;\n    /**\n     * The wave canvas rendering context\n     *\n     * @type {CanvasRenderingContext2D}\n     */\n    this.waveCtx = null;\n    /**\n     * The (optional) progress wave node\n     *\n     * @type {HTMLCanvasElement}\n     */\n    this.progress = null;\n    /**\n     * The (optional) progress wave canvas rendering context\n     *\n     * @type {CanvasRenderingContext2D}\n     */\n    this.progressCtx = null;\n    /**\n     * Start of the area the canvas should render, between 0 and 1\n     *\n     * @type {number}\n     * @private\n     */\n    this.start = 0;\n    /**\n     * End of the area the canvas should render, between 0 and 1\n     *\n     * @type {number}\n     * @private\n     */\n    this.end = 1;\n    /**\n     * Unique identifier for this entry\n     *\n     * @type {string}\n     */\n    this.id = getId(\n      typeof this.constructor.name !== \"undefined\"\n        ? this.constructor.name.toLowerCase() + \"_\"\n        : \"canvasentry_\"\n    );\n    /**\n     * Canvas 2d context attributes\n     *\n     * @type {object}\n     */\n    this.canvasContextAttributes = {};\n  }\n\n  /**\n   * Store the wave canvas element and create the 2D rendering context\n   *\n   * @param {HTMLCanvasElement} element The wave `canvas` element.\n   */\n  initWave(element) {\n    this.wave = element;\n    this.waveCtx = this.wave.getContext(\"2d\", this.canvasContextAttributes);\n  }\n\n  /**\n   * Store the progress wave canvas element and create the 2D rendering\n   * context\n   *\n   * @param {HTMLCanvasElement} element The progress wave `canvas` element.\n   */\n  initProgress(element) {\n    this.progress = element;\n    this.progressCtx = this.progress.getContext(\n      \"2d\",\n      this.canvasContextAttributes\n    );\n  }\n\n  /**\n   * Update the dimensions\n   *\n   * @param {number} elementWidth Width of the entry\n   * @param {number} totalWidth Total width of the multi canvas renderer\n   * @param {number} width The new width of the element\n   * @param {number} height The new height of the element\n   */\n  updateDimensions(elementWidth, totalWidth, width, height) {\n    // where the canvas starts and ends in the waveform, represented as a\n    // decimal between 0 and 1\n    this.start = this.wave.offsetLeft / totalWidth || 0;\n    this.end = this.start + elementWidth / totalWidth;\n\n    // set wave canvas dimensions\n    this.wave.width = width;\n    this.wave.height = height;\n    let elementSize = { width: elementWidth + \"px\" };\n    style(this.wave, elementSize);\n\n    if (this.hasProgressCanvas) {\n      // set progress canvas dimensions\n      this.progress.width = width;\n      this.progress.height = height;\n      style(this.progress, elementSize);\n    }\n  }\n\n  /**\n   * Clear the wave and progress rendering contexts\n   */\n  clearWave() {\n    // wave\n    this.waveCtx.clearRect(\n      0,\n      0,\n      this.waveCtx.canvas.width,\n      this.waveCtx.canvas.height\n    );\n\n    // progress\n    if (this.hasProgressCanvas) {\n      this.progressCtx.clearRect(\n        0,\n        0,\n        this.progressCtx.canvas.width,\n        this.progressCtx.canvas.height\n      );\n    }\n  }\n\n  /**\n   * Set the fill styles for wave and progress\n   *\n   * @param {string} waveColor Fill color for the wave canvas\n   * @param {?string} progressColor Fill color for the progress canvas\n   */\n  setFillStyles(waveColor, progressColor) {\n    this.waveCtx.fillStyle = waveColor;\n\n    if (this.hasProgressCanvas) {\n      this.progressCtx.fillStyle = progressColor;\n    }\n  }\n\n  /**\n   * Draw a rectangle for wave and progress\n   *\n   * @param {number} x X start position\n   * @param {number} y Y start position\n   * @param {number} width Width of the rectangle\n   * @param {number} height Height of the rectangle\n   * @param {number} radius Radius of the rectangle\n   */\n  fillRects(x, y, width, height, radius) {\n    this.fillRectToContext(this.waveCtx, x, y, width, height, radius);\n\n    if (this.hasProgressCanvas) {\n      this.fillRectToContext(this.progressCtx, x, y, width, height, radius);\n    }\n  }\n\n  /**\n   * Draw the actual rectangle on a `canvas` element\n   *\n   * @private\n   * @param {CanvasRenderingContext2D} ctx Rendering context of target canvas\n   * @param {number} x X start position\n   * @param {number} y Y start position\n   * @param {number} width Width of the rectangle\n   * @param {number} height Height of the rectangle\n   * @param {number} radius Radius of the rectangle\n   */\n  fillRectToContext(ctx, x, y, width, height, radius) {\n    if (!ctx) {\n      return;\n    }\n\n    if (radius) {\n      this.drawRoundedRect(ctx, x, y, width, height, radius);\n    } else {\n      ctx.fillRect(x, y, width, height);\n    }\n  }\n\n  /**\n   * Draw a rounded rectangle on Canvas\n   *\n   * @private\n   * @param {CanvasRenderingContext2D} ctx Canvas context\n   * @param {number} x X-position of the rectangle\n   * @param {number} y Y-position of the rectangle\n   * @param {number} width Width of the rectangle\n   * @param {number} height Height of the rectangle\n   * @param {number} radius Radius of the rectangle\n   *\n   * @return {void}\n   * @example drawRoundedRect(ctx, 50, 50, 5, 10, 3)\n   */\n  drawRoundedRect(ctx, x, y, width, height, radius) {\n    if (height === 0) {\n      return;\n    }\n    // peaks are float values from -1 to 1. Use absolute height values in\n    // order to correctly calculate rounded rectangle coordinates\n    if (height < 0) {\n      height *= -1;\n      y -= height;\n    }\n    ctx.beginPath();\n    ctx.moveTo(x + radius, y);\n    ctx.lineTo(x + width - radius, y);\n    ctx.quadraticCurveTo(x + width, y, x + width, y + radius);\n    ctx.lineTo(x + width, y + height - radius);\n    ctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);\n    ctx.lineTo(x + radius, y + height);\n    ctx.quadraticCurveTo(x, y + height, x, y + height - radius);\n    ctx.lineTo(x, y + radius);\n    ctx.quadraticCurveTo(x, y, x + radius, y);\n    ctx.closePath();\n    ctx.fill();\n  }\n\n  /**\n   * Render the actual wave and progress lines\n   *\n   * @param {number[]} peaks Array with peaks data\n   * @param {number} absmax Maximum peak value (absolute)\n   * @param {number} halfH Half the height of the waveform\n   * @param {number} offsetY Offset to the top\n   * @param {number} start The x-offset of the beginning of the area that\n   * should be rendered\n   * @param {number} end The x-offset of the end of the area that\n   * should be rendered\n   */\n  drawLines(peaks, absmax, halfH, offsetY, start, end) {\n    this.drawLineToContext(\n      this.waveCtx,\n      peaks,\n      absmax,\n      halfH,\n      offsetY,\n      start,\n      end\n    );\n\n    if (this.hasProgressCanvas) {\n      this.drawLineToContext(\n        this.progressCtx,\n        peaks,\n        absmax,\n        halfH,\n        offsetY,\n        start,\n        end\n      );\n    }\n  }\n\n  /**\n   * Render the actual waveform line on a `canvas` element\n   *\n   * @private\n   * @param {CanvasRenderingContext2D} ctx Rendering context of target canvas\n   * @param {number[]} peaks Array with peaks data\n   * @param {number} absmax Maximum peak value (absolute)\n   * @param {number} halfH Half the height of the waveform\n   * @param {number} offsetY Offset to the top\n   * @param {number} start The x-offset of the beginning of the area that\n   * should be rendered\n   * @param {number} end The x-offset of the end of the area that\n   * should be rendered\n   */\n  drawLineToContext(ctx, peaks, absmax, halfH, offsetY, start, end) {\n    if (!ctx) {\n      return;\n    }\n\n    const length = peaks.length / 2;\n    const first = Math.round(length * this.start);\n\n    // use one more peak value to make sure we join peaks at ends -- unless,\n    // of course, this is the last canvas\n    const last = Math.round(length * this.end) + 1;\n\n    const canvasStart = first;\n    const canvasEnd = last;\n    const scale = this.wave.width / (canvasEnd - canvasStart - 1);\n\n    // optimization\n    const halfOffset = halfH + offsetY;\n    const absmaxHalf = absmax / halfH;\n\n    ctx.beginPath();\n    ctx.moveTo((canvasStart - first) * scale, halfOffset);\n\n    ctx.lineTo(\n      (canvasStart - first) * scale,\n      halfOffset - Math.round((peaks[2 * canvasStart] || 0) / absmaxHalf)\n    );\n\n    let i, peak, h;\n    for (i = canvasStart; i < canvasEnd; i++) {\n      peak = peaks[2 * i] || 0;\n      h = Math.round(peak / absmaxHalf);\n      ctx.lineTo((i - first) * scale + this.halfPixel, halfOffset - h);\n    }\n\n    // draw the bottom edge going backwards, to make a single\n    // closed hull to fill\n    let j = canvasEnd - 1;\n    for (j; j >= canvasStart; j--) {\n      peak = peaks[2 * j + 1] || 0;\n      h = Math.round(peak / absmaxHalf);\n      ctx.lineTo((j - first) * scale + this.halfPixel, halfOffset - h);\n    }\n\n    ctx.lineTo(\n      (canvasStart - first) * scale,\n      halfOffset - Math.round((peaks[2 * canvasStart + 1] || 0) / absmaxHalf)\n    );\n\n    ctx.closePath();\n    ctx.fill();\n  }\n\n  /**\n   * Destroys this entry\n   */\n  destroy() {\n    this.waveCtx = null;\n    this.wave = null;\n\n    this.progressCtx = null;\n    this.progress = null;\n  }\n\n  /**\n   * Return image data of the wave `canvas` element\n   *\n   * When using a `type` of `'blob'`, this will return a `Promise` that\n   * resolves with a `Blob` instance.\n   *\n   * @param {string} format='image/png' An optional value of a format type.\n   * @param {number} quality=0.92 An optional value between 0 and 1.\n   * @param {string} type='dataURL' Either 'dataURL' or 'blob'.\n   * @return {string|Promise} When using the default `'dataURL'` `type` this\n   * returns a data URL. When using the `'blob'` `type` this returns a\n   * `Promise` that resolves with a `Blob` instance.\n   */\n  getImage(format, quality, type) {\n    if (type === \"blob\") {\n      return new Promise(resolve => {\n        this.wave.toBlob(resolve, format, quality);\n      });\n    } else if (type === \"dataURL\") {\n      return this.wave.toDataURL(format, quality);\n    }\n  }\n}\n","/* eslint no-unused-vars: 0 */\nimport Drawer from \"./drawer\";\nimport * as util from \"./util\";\nimport CanvasEntry from \"./drawer.canvasentry\";\n\n/**\n * MultiCanvas renderer for wavesurfer. Is currently the default and sole\n * builtin renderer.\n *\n * A `MultiCanvas` consists of one or more `CanvasEntry` instances, depending\n * on the zoom level.\n */\nexport default class MultiCanvas extends Drawer {\n  /**\n   * @param {HTMLElement} container The container node of the wavesurfer instance\n   * @param {WavesurferParams} params The wavesurfer initialisation options\n   */\n  constructor(container, params) {\n    super(container, params);\n\n    /**\n     * @type {number}\n     * @private\n     */\n    this.maxCanvasWidth = params.maxCanvasWidth;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.maxCanvasElementWidth = Math.round(\n      params.maxCanvasWidth / params.pixelRatio\n    );\n\n    /**\n     * Whether or not the progress wave is rendered. If the `waveColor`\n     * and `progressColor` are the same color it is not.\n     *\n     * @type {boolean}\n     */\n    this.hasProgressCanvas = params.waveColor != params.progressColor;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.halfPixel = 0.5 / params.pixelRatio;\n\n    /**\n     * List of `CanvasEntry` instances.\n     *\n     * @private\n     * @type {Array}\n     */\n    this.canvases = [];\n\n    /**\n     * @private\n     * @type {HTMLElement}\n     */\n    this.progressWave = null;\n\n    /**\n     * Class used to generate entries.\n     *\n     * @private\n     * @type {function}\n     */\n    this.EntryClass = CanvasEntry;\n\n    /**\n     * Canvas 2d context attributes.\n     *\n     * @private\n     * @type {object}\n     */\n    this.canvasContextAttributes = params.drawingContextAttributes;\n\n    /**\n     * Overlap added between entries to prevent vertical white stripes\n     * between `canvas` elements.\n     *\n     * @type {number}\n     */\n    this.overlap = 2 * Math.ceil(params.pixelRatio / 2);\n\n    /**\n     * The radius of the wave bars. Makes bars rounded\n     *\n     * @private\n     * @type {number}\n     */\n    this.barRadius = params.barRadius || 0;\n  }\n\n  /**\n   * Initialize the drawer\n   */\n  init() {\n    this.createWrapper();\n    this.createElements();\n  }\n\n  /**\n   * Create the canvas elements and style them\n   *\n   * @private\n   */\n  createElements() {\n    this.progressWave = this.wrapper.appendChild(\n      this.style(document.createElement(\"wave\"), {\n        position: \"absolute\",\n        zIndex: 3,\n        left: 0,\n        top: 0,\n        bottom: 0,\n        overflow: \"hidden\",\n        width: \"0\",\n        display: \"none\",\n        boxSizing: \"border-box\",\n        borderRightStyle: \"solid\",\n        pointerEvents: \"none\"\n      })\n    );\n\n    this.addCanvas();\n    this.updateCursor();\n  }\n\n  /**\n   * Update cursor style\n   */\n  updateCursor() {\n    this.style(this.progressWave, {\n      borderRightWidth: this.params.cursorWidth + \"px\",\n      borderRightColor: this.params.cursorColor\n    });\n  }\n\n  /**\n   * Adjust to the updated size by adding or removing canvases\n   */\n  updateSize() {\n    const totalWidth = Math.round(this.width / this.params.pixelRatio);\n    const requiredCanvases = Math.ceil(\n      totalWidth / (this.maxCanvasElementWidth + this.overlap)\n    );\n\n    // add required canvases\n    while (this.canvases.length < requiredCanvases) {\n      this.addCanvas();\n    }\n\n    // remove older existing canvases, if any\n    while (this.canvases.length > requiredCanvases) {\n      this.removeCanvas();\n    }\n\n    let canvasWidth = this.maxCanvasWidth + this.overlap;\n    const lastCanvas = this.canvases.length - 1;\n    this.canvases.forEach((entry, i) => {\n      if (i == lastCanvas) {\n        canvasWidth = this.width - this.maxCanvasWidth * lastCanvas;\n      }\n      this.updateDimensions(entry, canvasWidth, this.height);\n\n      entry.clearWave();\n    });\n  }\n\n  /**\n   * Add a canvas to the canvas list\n   *\n   * @private\n   */\n  addCanvas() {\n    const entry = new this.EntryClass();\n    entry.canvasContextAttributes = this.canvasContextAttributes;\n    entry.hasProgressCanvas = this.hasProgressCanvas;\n    entry.halfPixel = this.halfPixel;\n    const leftOffset = this.maxCanvasElementWidth * this.canvases.length;\n\n    // wave\n    entry.initWave(\n      this.wrapper.appendChild(\n        this.style(document.createElement(\"canvas\"), {\n          position: \"absolute\",\n          zIndex: 2,\n          left: leftOffset + \"px\",\n          top: 0,\n          bottom: 0,\n          height: \"100%\",\n          pointerEvents: \"none\"\n        })\n      )\n    );\n\n    // progress\n    if (this.hasProgressCanvas) {\n      entry.initProgress(\n        this.progressWave.appendChild(\n          this.style(document.createElement(\"canvas\"), {\n            position: \"absolute\",\n            left: leftOffset + \"px\",\n            top: 0,\n            bottom: 0,\n            height: \"100%\"\n          })\n        )\n      );\n    }\n\n    this.canvases.push(entry);\n  }\n\n  /**\n   * Pop single canvas from the list\n   *\n   * @private\n   */\n  removeCanvas() {\n    let lastEntry = this.canvases[this.canvases.length - 1];\n\n    // wave\n    lastEntry.wave.parentElement.removeChild(lastEntry.wave);\n\n    // progress\n    if (this.hasProgressCanvas) {\n      lastEntry.progress.parentElement.removeChild(lastEntry.progress);\n    }\n\n    // cleanup\n    if (lastEntry) {\n      lastEntry.destroy();\n      lastEntry = null;\n    }\n\n    this.canvases.pop();\n  }\n\n  /**\n   * Update the dimensions of a canvas element\n   *\n   * @private\n   * @param {CanvasEntry} entry Target entry\n   * @param {number} width The new width of the element\n   * @param {number} height The new height of the element\n   */\n  updateDimensions(entry, width, height) {\n    const elementWidth = Math.round(width / this.params.pixelRatio);\n    const totalWidth = Math.round(this.width / this.params.pixelRatio);\n\n    // update canvas dimensions\n    entry.updateDimensions(elementWidth, totalWidth, width, height);\n\n    // style element\n    this.style(this.progressWave, { display: \"block\" });\n  }\n\n  /**\n   * Clear the whole multi-canvas\n   */\n  clearWave() {\n    util.frame(() => {\n      this.canvases.forEach(entry => entry.clearWave());\n    })();\n  }\n\n  /**\n   * Draw a waveform with bars\n   *\n   * @param {number[]|Number.<Array[]>} peaks Can also be an array of arrays\n   * for split channel rendering\n   * @param {number} channelIndex The index of the current channel. Normally\n   * should be 0. Must be an integer.\n   * @param {number} start The x-offset of the beginning of the area that\n   * should be rendered\n   * @param {number} end The x-offset of the end of the area that should be\n   * rendered\n   * @returns {void}\n   */\n  drawBars(peaks, channelIndex, start, end) {\n    return this.prepareDraw(\n      peaks,\n      channelIndex,\n      start,\n      end,\n      ({ absmax, hasMinVals, height, offsetY, halfH, peaks }) => {\n        // if drawBars was called within ws.empty we don't pass a start and\n        // don't want anything to happen\n        if (start === undefined) {\n          return;\n        }\n        // Skip every other value if there are negatives.\n        const peakIndexScale = hasMinVals ? 2 : 1;\n        const length = peaks.length / peakIndexScale;\n        const bar = this.params.barWidth * this.params.pixelRatio;\n        const gap =\n          this.params.barGap === null\n            ? Math.max(this.params.pixelRatio, ~~(bar / 2))\n            : Math.max(\n                this.params.pixelRatio,\n                this.params.barGap * this.params.pixelRatio\n              );\n        const step = bar + gap;\n\n        const scale = length / this.width;\n        const first = start;\n        const last = end;\n        let i = first;\n\n        for (i; i < last; i += step) {\n          const peak = peaks[Math.floor(i * scale * peakIndexScale)] || 0;\n          let h = Math.round((peak / absmax) * halfH);\n\n          /* in case of silences, allow the user to specify that we\n           * always draw *something* (normally a 1px high bar) */\n          if (h == 0 && this.params.barMinHeight) h = this.params.barMinHeight;\n\n          this.fillRect(\n            i + this.halfPixel,\n            halfH - h + offsetY,\n            bar + this.halfPixel,\n            h * 2,\n            this.barRadius\n          );\n        }\n      }\n    );\n  }\n\n  /**\n   * Draw a waveform\n   *\n   * @param {number[]|Number.<Array[]>} peaks Can also be an array of arrays\n   * for split channel rendering\n   * @param {number} channelIndex The index of the current channel. Normally\n   * should be 0\n   * @param {number?} start The x-offset of the beginning of the area that\n   * should be rendered (If this isn't set only a flat line is rendered)\n   * @param {number?} end The x-offset of the end of the area that should be\n   * rendered\n   * @returns {void}\n   */\n  drawWave(peaks, channelIndex, start, end) {\n    return this.prepareDraw(\n      peaks,\n      channelIndex,\n      start,\n      end,\n      ({ absmax, hasMinVals, height, offsetY, halfH, peaks }) => {\n        if (!hasMinVals) {\n          const reflectedPeaks = [];\n          const len = peaks.length;\n          let i = 0;\n          for (i; i < len; i++) {\n            reflectedPeaks[2 * i] = peaks[i];\n            reflectedPeaks[2 * i + 1] = -peaks[i];\n          }\n          peaks = reflectedPeaks;\n        }\n\n        // if drawWave was called within ws.empty we don't pass a start and\n        // end and simply want a flat line\n        if (start !== undefined) {\n          this.drawLine(peaks, absmax, halfH, offsetY, start, end);\n        }\n\n        // always draw a median line\n        this.fillRect(\n          0,\n          halfH + offsetY - this.halfPixel,\n          this.width,\n          this.halfPixel,\n          this.barRadius\n        );\n      }\n    );\n  }\n\n  /**\n   * Tell the canvas entries to render their portion of the waveform\n   *\n   * @private\n   * @param {number[]} peaks Peaks data\n   * @param {number} absmax Maximum peak value (absolute)\n   * @param {number} halfH Half the height of the waveform\n   * @param {number} offsetY Offset to the top\n   * @param {number} start The x-offset of the beginning of the area that\n   * should be rendered\n   * @param {number} end The x-offset of the end of the area that\n   * should be rendered\n   */\n  drawLine(peaks, absmax, halfH, offsetY, start, end) {\n    this.canvases.forEach(entry => {\n      this.setFillStyles(entry);\n      entry.drawLines(peaks, absmax, halfH, offsetY, start, end);\n    });\n  }\n\n  /**\n   * Draw a rectangle on the multi-canvas\n   *\n   * @param {number} x X-position of the rectangle\n   * @param {number} y Y-position of the rectangle\n   * @param {number} width Width of the rectangle\n   * @param {number} height Height of the rectangle\n   * @param {number} radius Radius of the rectangle\n   */\n  fillRect(x, y, width, height, radius) {\n    const startCanvas = Math.floor(x / this.maxCanvasWidth);\n    const endCanvas = Math.min(\n      Math.ceil((x + width) / this.maxCanvasWidth) + 1,\n      this.canvases.length\n    );\n    let i = startCanvas;\n    for (i; i < endCanvas; i++) {\n      const entry = this.canvases[i];\n      const leftOffset = i * this.maxCanvasWidth;\n\n      const intersection = {\n        x1: Math.max(x, i * this.maxCanvasWidth),\n        y1: y,\n        x2: Math.min(x + width, i * this.maxCanvasWidth + entry.wave.width),\n        y2: y + height\n      };\n\n      if (intersection.x1 < intersection.x2) {\n        this.setFillStyles(entry);\n\n        entry.fillRects(\n          intersection.x1 - leftOffset,\n          intersection.y1,\n          intersection.x2 - intersection.x1,\n          intersection.y2 - intersection.y1,\n          radius\n        );\n      }\n    }\n  }\n\n  /**\n   * Performs preparation tasks and calculations which are shared by `drawBars`\n   * and `drawWave`\n   *\n   * @private\n   * @param {number[]|Number.<Array[]>} peaks Can also be an array of arrays for\n   * split channel rendering\n   * @param {number} channelIndex The index of the current channel. Normally\n   * should be 0\n   * @param {number?} start The x-offset of the beginning of the area that\n   * should be rendered. If this isn't set only a flat line is rendered\n   * @param {number?} end The x-offset of the end of the area that should be\n   * rendered\n   * @param {function} fn The render function to call, e.g. `drawWave`\n   * @returns {void}\n   */\n  prepareDraw(peaks, channelIndex, start, end, fn) {\n    return util.frame(() => {\n      // Split channels and call this function with the channelIndex set\n      if (peaks[0] instanceof Array) {\n        const channels = peaks;\n        if (this.params.splitChannels) {\n          this.setHeight(\n            channels.length * this.params.height * this.params.pixelRatio\n          );\n          return channels.forEach((channelPeaks, i) =>\n            this.prepareDraw(channelPeaks, i, start, end, fn)\n          );\n        }\n        peaks = channels[0];\n      }\n      // calculate maximum modulation value, either from the barHeight\n      // parameter or if normalize=true from the largest value in the peak\n      // set\n      let absmax = 1 / this.params.barHeight;\n      if (this.params.normalize) {\n        const max = util.max(peaks);\n        const min = util.min(peaks);\n        absmax = -min > max ? -min : max;\n      }\n\n      // Bar wave draws the bottom only as a reflection of the top,\n      // so we don't need negative values\n      const hasMinVals = [].some.call(peaks, val => val < 0);\n      const height = this.params.height * this.params.pixelRatio;\n      const offsetY = height * channelIndex || 0;\n      const halfH = height / 2;\n\n      return fn({\n        absmax: absmax,\n        hasMinVals: hasMinVals,\n        height: height,\n        offsetY: offsetY,\n        halfH: halfH,\n        peaks: peaks\n      });\n    })();\n  }\n\n  /**\n   * Set the fill styles for a certain entry (wave and progress)\n   *\n   * @private\n   * @param {CanvasEntry} entry Target entry\n   */\n  setFillStyles(entry) {\n    entry.setFillStyles(this.params.waveColor, this.params.progressColor);\n  }\n\n  /**\n   * Return image data of the multi-canvas\n   *\n   * When using a `type` of `'blob'`, this will return a `Promise`.\n   *\n   * @param {string} format='image/png' An optional value of a format type.\n   * @param {number} quality=0.92 An optional value between 0 and 1.\n   * @param {string} type='dataURL' Either 'dataURL' or 'blob'.\n   * @return {string|string[]|Promise} When using the default `'dataURL'`\n   * `type` this returns a single data URL or an array of data URLs,\n   * one for each canvas. When using the `'blob'` `type` this returns a\n   * `Promise` that resolves with an array of `Blob` instances, one for each\n   * canvas.\n   */\n  getImage(format, quality, type) {\n    if (type === \"blob\") {\n      return Promise.all(\n        this.canvases.map(entry => {\n          return entry.getImage(format, quality, type);\n        })\n      );\n    } else if (type === \"dataURL\") {\n      let images = this.canvases.map(entry =>\n        entry.getImage(format, quality, type)\n      );\n      return images.length > 1 ? images : images[0];\n    }\n  }\n\n  /**\n   * Render the new progress\n   *\n   * @param {number} position X-offset of progress position in pixels\n   */\n  updateProgress(position) {\n    this.style(this.progressWave, {\n      width: position + \"px\"\n    });\n  }\n}\n","import * as util from \"./util\";\n\n// using constants to prevent someone writing the string wrong\nconst PLAYING = \"playing\";\nconst PAUSED = \"paused\";\nconst FINISHED = \"finished\";\n\n/**\n * WebAudio backend\n *\n * @extends {Observer}\n */\nexport default class WebAudio extends util.Observer {\n  /** scriptBufferSize: size of the processing buffer */\n  static scriptBufferSize = 256;\n  /** audioContext: allows to process audio with WebAudio API */\n  audioContext = null;\n  /** @private */\n  offlineAudioContext = null;\n  /** @private */\n  stateBehaviors = {\n    [PLAYING]: {\n      init() {\n        this.addOnAudioProcess();\n      },\n      getPlayedPercents() {\n        const duration = this.getDuration();\n        return this.getCurrentTime() / duration || 0;\n      },\n      getCurrentTime() {\n        return this.startPosition + this.getPlayedTime();\n      }\n    },\n    [PAUSED]: {\n      init() {\n        this.removeOnAudioProcess();\n      },\n      getPlayedPercents() {\n        const duration = this.getDuration();\n        return this.getCurrentTime() / duration || 0;\n      },\n      getCurrentTime() {\n        return this.startPosition;\n      }\n    },\n    [FINISHED]: {\n      init() {\n        this.removeOnAudioProcess();\n        this.fireEvent(\"finish\");\n      },\n      getPlayedPercents() {\n        return 1;\n      },\n      getCurrentTime() {\n        return this.getDuration();\n      }\n    }\n  };\n\n  /**\n   * Does the browser support this backend\n   *\n   * @return {boolean} Whether or not this browser supports this backend\n   */\n  supportsWebAudio() {\n    return !!(window.AudioContext || window.webkitAudioContext);\n  }\n\n  /**\n   * Get the audio context used by this backend or create one\n   *\n   * @return {AudioContext} Existing audio context, or creates a new one\n   */\n  getAudioContext() {\n    if (!window.WaveSurferAudioContext) {\n      window.WaveSurferAudioContext = new (window.AudioContext ||\n        window.webkitAudioContext)();\n    }\n    return window.WaveSurferAudioContext;\n  }\n\n  /**\n   * Get the offline audio context used by this backend or create one\n   *\n   * @param {number} sampleRate The sample rate to use\n   * @return {OfflineAudioContext} Existing offline audio context, or creates\n   * a new one\n   */\n  getOfflineAudioContext(sampleRate) {\n    if (!window.WaveSurferOfflineAudioContext) {\n      window.WaveSurferOfflineAudioContext = new (window.OfflineAudioContext ||\n        window.webkitOfflineAudioContext)(1, 2, sampleRate);\n    }\n    return window.WaveSurferOfflineAudioContext;\n  }\n\n  /**\n   * Construct the backend\n   *\n   * @param {WavesurferParams} params Wavesurfer parameters\n   */\n  constructor(params) {\n    super();\n    /** @private */\n    this.params = params;\n    /** ac: Audio Context instance */\n    this.ac =\n      params.audioContext ||\n      (this.supportsWebAudio() ? this.getAudioContext() : {});\n    /**@private */\n    this.lastPlay = this.ac.currentTime;\n    /** @private */\n    this.startPosition = 0;\n    /** @private */\n    this.scheduledPause = null;\n    /** @private */\n    this.states = {\n      [PLAYING]: Object.create(this.stateBehaviors[PLAYING]),\n      [PAUSED]: Object.create(this.stateBehaviors[PAUSED]),\n      [FINISHED]: Object.create(this.stateBehaviors[FINISHED])\n    };\n    /** @private */\n    this.buffer = null;\n    /** @private */\n    this.filters = [];\n    /** gainNode: allows to control audio volume */\n    this.gainNode = null;\n    /** @private */\n    this.mergedPeaks = null;\n    /** @private */\n    this.offlineAc = null;\n    /** @private */\n    this.peaks = null;\n    /** @private */\n    this.playbackRate = 1;\n    /** analyser: provides audio analysis information */\n    this.analyser = null;\n    /** scriptNode: allows processing audio */\n    this.scriptNode = null;\n    /** @private */\n    this.source = null;\n    /** @private */\n    this.splitPeaks = [];\n    /** @private */\n    this.state = null;\n    /** @private */\n    this.explicitDuration = params.duration;\n    /**\n     * Boolean indicating if the backend was destroyed.\n     */\n    this.destroyed = false;\n  }\n\n  /**\n   * Initialise the backend, called in `wavesurfer.createBackend()`\n   */\n  init() {\n    this.createVolumeNode();\n    this.createScriptNode();\n    this.createAnalyserNode();\n\n    this.setState(PAUSED);\n    this.setPlaybackRate(this.params.audioRate);\n    this.setLength(0);\n  }\n\n  /** @private */\n  disconnectFilters() {\n    if (this.filters) {\n      this.filters.forEach(filter => {\n        filter && filter.disconnect();\n      });\n      this.filters = null;\n      // Reconnect direct path\n      this.analyser.connect(this.gainNode);\n    }\n  }\n\n  /**\n   * @private\n   *\n   * @param {string} state The new state\n   */\n  setState(state) {\n    if (this.state !== this.states[state]) {\n      this.state = this.states[state];\n      this.state.init.call(this);\n    }\n  }\n\n  /**\n   * Unpacked `setFilters()`\n   *\n   * @param {...AudioNode} filters One or more filters to set\n   */\n  setFilter(...filters) {\n    this.setFilters(filters);\n  }\n\n  /**\n   * Insert custom Web Audio nodes into the graph\n   *\n   * @param {AudioNode[]} filters Packed filters array\n   * @example\n   * const lowpass = wavesurfer.backend.ac.createBiquadFilter();\n   * wavesurfer.backend.setFilter(lowpass);\n   */\n  setFilters(filters) {\n    // Remove existing filters\n    this.disconnectFilters();\n\n    // Insert filters if filter array not empty\n    if (filters && filters.length) {\n      this.filters = filters;\n\n      // Disconnect direct path before inserting filters\n      this.analyser.disconnect();\n\n      // Connect each filter in turn\n      filters\n        .reduce((prev, curr) => {\n          prev.connect(curr);\n          return curr;\n        }, this.analyser)\n        .connect(this.gainNode);\n    }\n  }\n  /** Create ScriptProcessorNode to process audio */\n  createScriptNode() {\n    if (this.params.audioScriptProcessor) {\n      this.scriptNode = this.params.audioScriptProcessor;\n    } else {\n      if (this.ac.createScriptProcessor) {\n        this.scriptNode = this.ac.createScriptProcessor(\n          WebAudio.scriptBufferSize\n        );\n      } else {\n        this.scriptNode = this.ac.createJavaScriptNode(\n          WebAudio.scriptBufferSize\n        );\n      }\n    }\n    this.scriptNode.connect(this.ac.destination);\n  }\n\n  /** @private */\n  addOnAudioProcess() {\n    this.scriptNode.onaudioprocess = () => {\n      const time = this.getCurrentTime();\n\n      if (time >= this.getDuration()) {\n        this.setState(FINISHED);\n        this.fireEvent(\"pause\");\n      } else if (time >= this.scheduledPause) {\n        this.pause();\n      } else if (this.state === this.states[PLAYING]) {\n        this.fireEvent(\"audioprocess\", time);\n      }\n    };\n  }\n\n  /** @private */\n  removeOnAudioProcess() {\n    this.scriptNode.onaudioprocess = () => {};\n  }\n  /** Create analyser node to perform audio analysis */\n  createAnalyserNode() {\n    this.analyser = this.ac.createAnalyser();\n    this.analyser.connect(this.gainNode);\n  }\n\n  /**\n   * Create the gain node needed to control the playback volume.\n   *\n   */\n  createVolumeNode() {\n    // Create gain node using the AudioContext\n    if (this.ac.createGain) {\n      this.gainNode = this.ac.createGain();\n    } else {\n      this.gainNode = this.ac.createGainNode();\n    }\n    // Add the gain node to the graph\n    this.gainNode.connect(this.ac.destination);\n  }\n\n  /**\n   * Set the sink id for the media player\n   *\n   * @param {string} deviceId String value representing audio device id.\n   * @returns {Promise} A Promise that resolves to `undefined` when there\n   * are no errors.\n   */\n  setSinkId(deviceId) {\n    if (deviceId) {\n      /**\n       * The webaudio API doesn't currently support setting the device\n       * output. Here we create an HTMLAudioElement, connect the\n       * webaudio stream to that element and setSinkId there.\n       */\n      let audio = new window.Audio();\n      if (!audio.setSinkId) {\n        return Promise.reject(\n          new Error(\"setSinkId is not supported in your browser\")\n        );\n      }\n      audio.autoplay = true;\n      var dest = this.ac.createMediaStreamDestination();\n      this.gainNode.disconnect();\n      this.gainNode.connect(dest);\n      audio.srcObject = dest.stream;\n\n      return audio.setSinkId(deviceId);\n    } else {\n      return Promise.reject(new Error(\"Invalid deviceId: \" + deviceId));\n    }\n  }\n\n  /**\n   * Set the audio volume\n   *\n   * @param {number} value A floating point value between 0 and 1.\n   */\n  setVolume(value) {\n    this.gainNode.gain.setValueAtTime(value, this.ac.currentTime);\n  }\n\n  /**\n   * Get the current volume\n   *\n   * @return {number} value A floating point value between 0 and 1.\n   */\n  getVolume() {\n    return this.gainNode.gain.value;\n  }\n\n  /**\n   * Decode an array buffer and pass data to a callback\n   *\n   * @private\n   * @param {ArrayBuffer} arraybuffer The array buffer to decode\n   * @param {function} callback The function to call on complete.\n   * @param {function} errback The function to call on error.\n   */\n  decodeArrayBuffer(arraybuffer, callback, errback) {\n    if (!this.offlineAc) {\n      this.offlineAc = this.getOfflineAudioContext(\n        this.ac && this.ac.sampleRate ? this.ac.sampleRate : 44100\n      );\n    }\n    this.offlineAc.decodeAudioData(\n      arraybuffer,\n      data => callback(data),\n      errback\n    );\n  }\n\n  /**\n   * Set pre-decoded peaks\n   *\n   * @param {number[]|Number.<Array[]>} peaks Peaks data\n   * @param {?number} duration Explicit duration\n   */\n  setPeaks(peaks, duration) {\n    if (duration != null) {\n      this.explicitDuration = duration;\n    }\n    this.peaks = peaks;\n  }\n\n  /**\n   * Set the rendered length (different from the length of the audio)\n   *\n   * @param {number} length The rendered length\n   */\n  setLength(length) {\n    // No resize, we can preserve the cached peaks.\n    if (this.mergedPeaks && length == 2 * this.mergedPeaks.length - 1 + 2) {\n      return;\n    }\n\n    this.splitPeaks = [];\n    this.mergedPeaks = [];\n    // Set the last element of the sparse array so the peak arrays are\n    // appropriately sized for other calculations.\n    const channels = this.buffer ? this.buffer.numberOfChannels : 1;\n    let c;\n    for (c = 0; c < channels; c++) {\n      this.splitPeaks[c] = [];\n      this.splitPeaks[c][2 * (length - 1)] = 0;\n      this.splitPeaks[c][2 * (length - 1) + 1] = 0;\n    }\n    this.mergedPeaks[2 * (length - 1)] = 0;\n    this.mergedPeaks[2 * (length - 1) + 1] = 0;\n  }\n\n  /**\n   * Compute the max and min value of the waveform when broken into <length> subranges.\n   *\n   * @param {number} length How many subranges to break the waveform into.\n   * @param {number} first First sample in the required range.\n   * @param {number} last Last sample in the required range.\n   * @return {number[]|Number.<Array[]>} Array of 2*<length> peaks or array of arrays of\n   * peaks consisting of (max, min) values for each subrange.\n   */\n  getPeaks(length, first, last) {\n    if (this.peaks) {\n      return this.peaks;\n    }\n    if (!this.buffer) {\n      return [];\n    }\n\n    first = first || 0;\n    last = last || length - 1;\n\n    this.setLength(length);\n\n    if (!this.buffer) {\n      return this.params.splitChannels ? this.splitPeaks : this.mergedPeaks;\n    }\n\n    /**\n     * The following snippet fixes a buffering data issue on the Safari\n     * browser which returned undefined It creates the missing buffer based\n     * on 1 channel, 4096 samples and the sampleRate from the current\n     * webaudio context 4096 samples seemed to be the best fit for rendering\n     * will review this code once a stable version of Safari TP is out\n     */\n    if (!this.buffer.length) {\n      const newBuffer = this.createBuffer(1, 4096, this.sampleRate);\n      this.buffer = newBuffer.buffer;\n    }\n\n    const sampleSize = this.buffer.length / length;\n    const sampleStep = ~~(sampleSize / 10) || 1;\n    const channels = this.buffer.numberOfChannels;\n    let c;\n\n    for (c = 0; c < channels; c++) {\n      const peaks = this.splitPeaks[c];\n      const chan = this.buffer.getChannelData(c);\n      let i;\n\n      for (i = first; i <= last; i++) {\n        const start = ~~(i * sampleSize);\n        const end = ~~(start + sampleSize);\n        let min = 0;\n        let max = 0;\n        let j;\n\n        for (j = start; j < end; j += sampleStep) {\n          const value = chan[j];\n\n          if (value > max) {\n            max = value;\n          }\n\n          if (value < min) {\n            min = value;\n          }\n        }\n\n        peaks[2 * i] = max;\n        peaks[2 * i + 1] = min;\n\n        if (c == 0 || max > this.mergedPeaks[2 * i]) {\n          this.mergedPeaks[2 * i] = max;\n        }\n\n        if (c == 0 || min < this.mergedPeaks[2 * i + 1]) {\n          this.mergedPeaks[2 * i + 1] = min;\n        }\n      }\n    }\n\n    return this.params.splitChannels ? this.splitPeaks : this.mergedPeaks;\n  }\n\n  /**\n   * Get the position from 0 to 1\n   *\n   * @return {number} Position\n   */\n  getPlayedPercents() {\n    return this.state.getPlayedPercents.call(this);\n  }\n\n  /** @private */\n  disconnectSource() {\n    if (this.source) {\n      this.source.disconnect();\n    }\n  }\n  /**\n   * Destroy all references with WebAudio, disconnecting audio nodes and closing Audio Context\n   */\n  destroyWebAudio() {\n    this.disconnectFilters();\n    this.disconnectSource();\n    this.gainNode.disconnect();\n    this.scriptNode.disconnect();\n    this.analyser.disconnect();\n\n    // close the audioContext if closeAudioContext option is set to true\n    if (this.params.closeAudioContext) {\n      // check if browser supports AudioContext.close()\n      if (typeof this.ac.close === \"function\" && this.ac.state != \"closed\") {\n        this.ac.close();\n      }\n      // clear the reference to the audiocontext\n      this.ac = null;\n      // clear the actual audiocontext, either passed as param or the\n      // global singleton\n      if (!this.params.audioContext) {\n        window.WaveSurferAudioContext = null;\n      } else {\n        this.params.audioContext = null;\n      }\n      // clear the offlineAudioContext\n      window.WaveSurferOfflineAudioContext = null;\n    }\n  }\n  /**\n   * This is called when wavesurfer is destroyed\n   */\n  destroy() {\n    if (!this.isPaused()) {\n      this.pause();\n    }\n    this.unAll();\n    this.buffer = null;\n    this.destroyed = true;\n\n    this.destroyWebAudio();\n  }\n\n  /**\n   * Loaded a decoded audio buffer\n   *\n   * @param {Object} buffer Decoded audio buffer to load\n   */\n  load(buffer) {\n    this.startPosition = 0;\n    this.lastPlay = this.ac.currentTime;\n    this.buffer = buffer;\n    this.createSource();\n  }\n\n  /** @private */\n  createSource() {\n    this.disconnectSource();\n    this.source = this.ac.createBufferSource();\n\n    // adjust for old browsers\n    this.source.start = this.source.start || this.source.noteGrainOn;\n    this.source.stop = this.source.stop || this.source.noteOff;\n\n    this.source.playbackRate.setValueAtTime(\n      this.playbackRate,\n      this.ac.currentTime\n    );\n    this.source.buffer = this.buffer;\n    this.source.connect(this.analyser);\n  }\n\n  /**\n   * Used by `wavesurfer.isPlaying()` and `wavesurfer.playPause()`\n   *\n   * @return {boolean} Whether or not this backend is currently paused\n   */\n  isPaused() {\n    return this.state !== this.states[PLAYING];\n  }\n\n  /**\n   * Used by `wavesurfer.getDuration()`\n   *\n   * @return {number} Duration of loaded buffer\n   */\n  getDuration() {\n    if (this.explicitDuration) {\n      return this.explicitDuration;\n    }\n    if (!this.buffer) {\n      return 0;\n    }\n    return this.buffer.duration;\n  }\n\n  /**\n   * Used by `wavesurfer.seekTo()`\n   *\n   * @param {number} start Position to start at in seconds\n   * @param {number} end Position to end at in seconds\n   * @return {{start: number, end: number}} Object containing start and end\n   * positions\n   */\n  seekTo(start, end) {\n    if (!this.buffer) {\n      return;\n    }\n\n    this.scheduledPause = null;\n\n    if (start == null) {\n      start = this.getCurrentTime();\n      if (start >= this.getDuration()) {\n        start = 0;\n      }\n    }\n    if (end == null) {\n      end = this.getDuration();\n    }\n\n    this.startPosition = start;\n    this.lastPlay = this.ac.currentTime;\n\n    if (this.state === this.states[FINISHED]) {\n      this.setState(PAUSED);\n    }\n\n    return {\n      start: start,\n      end: end\n    };\n  }\n\n  /**\n   * Get the playback position in seconds\n   *\n   * @return {number} The playback position in seconds\n   */\n  getPlayedTime() {\n    return (this.ac.currentTime - this.lastPlay) * this.playbackRate;\n  }\n\n  /**\n   * Plays the loaded audio region.\n   *\n   * @param {number} start Start offset in seconds, relative to the beginning\n   * of a clip.\n   * @param {number} end When to stop relative to the beginning of a clip.\n   */\n  play(start, end) {\n    if (!this.buffer) {\n      return;\n    }\n\n    // need to re-create source on each playback\n    this.createSource();\n\n    const adjustedTime = this.seekTo(start, end);\n\n    start = adjustedTime.start;\n    end = adjustedTime.end;\n\n    this.scheduledPause = end;\n\n    this.source.start(0, start);\n\n    if (this.ac.state == \"suspended\") {\n      this.ac.resume && this.ac.resume();\n    }\n\n    this.setState(PLAYING);\n\n    this.fireEvent(\"play\");\n  }\n\n  /**\n   * Pauses the loaded audio.\n   */\n  pause() {\n    this.scheduledPause = null;\n\n    this.startPosition += this.getPlayedTime();\n    this.source && this.source.stop(0);\n\n    this.setState(PAUSED);\n\n    this.fireEvent(\"pause\");\n  }\n\n  /**\n   * Returns the current time in seconds relative to the audio-clip's\n   * duration.\n   *\n   * @return {number} The current time in seconds\n   */\n  getCurrentTime() {\n    return this.state.getCurrentTime.call(this);\n  }\n\n  /**\n   * Returns the current playback rate. (0=no playback, 1=normal playback)\n   *\n   * @return {number} The current playback rate\n   */\n  getPlaybackRate() {\n    return this.playbackRate;\n  }\n\n  /**\n   * Set the audio source playback rate.\n   *\n   * @param {number} value The playback rate to use\n   */\n  setPlaybackRate(value) {\n    value = value || 1;\n    if (this.isPaused()) {\n      this.playbackRate = value;\n    } else {\n      this.pause();\n      this.playbackRate = value;\n      this.play();\n    }\n  }\n\n  /**\n   * Set a point in seconds for playback to stop at.\n   *\n   * @param {number} end Position to end at\n   * @version 3.3.0\n   */\n  setPlayEnd(end) {\n    this.scheduledPause = end;\n  }\n}\n","/* eslint no-unused-vars: 0 */\nimport WebAudio from \"./webaudio\";\nimport * as util from \"./util\";\n\n/**\n * MediaElement backend\n */\nexport default class MediaElement extends WebAudio {\n  /**\n   * Construct the backend\n   *\n   * @param {WavesurferParams} params Wavesurfer parameters\n   */\n  constructor(params) {\n    super(params);\n    /** @private */\n    this.params = params;\n\n    /**\n     * Initially a dummy media element to catch errors. Once `_load` is\n     * called, this will contain the actual `HTMLMediaElement`.\n     * @private\n     */\n    this.media = {\n      currentTime: 0,\n      duration: 0,\n      paused: true,\n      playbackRate: 1,\n      play() {},\n      pause() {},\n      volume: 0\n    };\n\n    /** @private */\n    this.mediaType = params.mediaType.toLowerCase();\n    /** @private */\n    this.elementPosition = params.elementPosition;\n    /** @private */\n    this.peaks = null;\n    /** @private */\n    this.playbackRate = 1;\n    /** @private */\n    this.volume = 1;\n    /** @private */\n    this.isMuted = false;\n    /** @private */\n    this.buffer = null;\n    /** @private */\n    this.onPlayEnd = null;\n    /** @private */\n    this.mediaListeners = {};\n  }\n\n  /**\n   * Initialise the backend, called in `wavesurfer.createBackend()`\n   */\n  init() {\n    this.createVolumeNode();\n    this.createScriptNode();\n    this.createAnalyserNode();\n\n    this.setPlaybackRate(this.params.audioRate);\n    this.createTimer();\n  }\n\n  /**\n   * Attach event listeners to media element.\n   */\n  _setupMediaListeners() {\n    this.mediaListeners.error = () => {\n      this.fireEvent(\"error\", \"Error loading media element\");\n    };\n    this.mediaListeners.canplay = () => {\n      this.fireEvent(\"canplay\");\n    };\n    this.mediaListeners.ended = () => {\n      this.fireEvent(\"finish\");\n    };\n    // listen to and relay play, pause and seeked events to enable\n    // playback control from the external media element\n    this.mediaListeners.play = () => {\n      this.fireEvent(\"play\");\n    };\n    this.mediaListeners.pause = () => {\n      this.fireEvent(\"pause\");\n    };\n    this.mediaListeners.seeked = event => {\n      this.fireEvent(\"seek\");\n    };\n    this.mediaListeners.volumechange = event => {\n      this.isMuted = this.media.muted;\n      if (this.isMuted) {\n        this.volume = 0;\n      } else {\n        this.volume = this.media.volume;\n      }\n      this.fireEvent(\"volume\");\n    };\n\n    // reset event listeners\n    Object.keys(this.mediaListeners).forEach(id => {\n      this.media.removeEventListener(id, this.mediaListeners[id]);\n      this.media.addEventListener(id, this.mediaListeners[id]);\n    });\n  }\n\n  /**\n   * Create a timer to provide a more precise `audioprocess` event.\n   */\n  createTimer() {\n    const onAudioProcess = () => {\n      if (this.isPaused()) {\n        return;\n      }\n      this.fireEvent(\"audioprocess\", this.getCurrentTime());\n\n      // Call again in the next frame\n      util.frame(onAudioProcess)();\n    };\n\n    this.on(\"play\", onAudioProcess);\n\n    // Update the progress one more time to prevent it from being stuck in\n    // case of lower framerates\n    this.on(\"pause\", () => {\n      this.fireEvent(\"audioprocess\", this.getCurrentTime());\n    });\n  }\n\n  /**\n   * Create media element with url as its source,\n   * and append to container element.\n   *\n   * @param {string} url Path to media file\n   * @param {HTMLElement} container HTML element\n   * @param {number[]|Number.<Array[]>} peaks Array of peak data\n   * @param {string} preload HTML 5 preload attribute value\n   * @throws Will throw an error if the `url` argument is not a valid media\n   * element.\n   */\n  load(url, container, peaks, preload) {\n    const media = document.createElement(this.mediaType);\n    media.controls = this.params.mediaControls;\n    media.autoplay = this.params.autoplay || false;\n    media.preload = preload == null ? \"auto\" : preload;\n    media.src = url;\n    media.style.width = \"100%\";\n\n    const prevMedia = container.querySelector(this.mediaType);\n    if (prevMedia) {\n      container.removeChild(prevMedia);\n    }\n    container.appendChild(media);\n\n    this._load(media, peaks);\n  }\n\n  /**\n   * Load existing media element.\n   *\n   * @param {HTMLMediaElement} elt HTML5 Audio or Video element\n   * @param {number[]|Number.<Array[]>} peaks Array of peak data\n   */\n  loadElt(elt, peaks) {\n    elt.controls = this.params.mediaControls;\n    elt.autoplay = this.params.autoplay || false;\n\n    this._load(elt, peaks);\n  }\n\n  /**\n   * Method called by both `load` (from url)\n   * and `loadElt` (existing media element) methods.\n   *\n   * @param {HTMLMediaElement} media HTML5 Audio or Video element\n   * @param {number[]|Number.<Array[]>} peaks Array of peak data\n   * @throws Will throw an error if the `media` argument is not a valid media\n   * element.\n   * @private\n   */\n  _load(media, peaks) {\n    // verify media element is valid\n    if (\n      !(media instanceof HTMLMediaElement) ||\n      typeof media.addEventListener === \"undefined\"\n    ) {\n      throw new Error(\"media parameter is not a valid media element\");\n    }\n\n    // load must be called manually on iOS, otherwise peaks won't draw\n    // until a user interaction triggers load --> 'ready' event\n    if (typeof media.load == \"function\") {\n      // Resets the media element and restarts the media resource. Any\n      // pending events are discarded. How much media data is fetched is\n      // still affected by the preload attribute.\n      media.load();\n    }\n\n    this.media = media;\n    this._setupMediaListeners();\n    this.peaks = peaks;\n    this.onPlayEnd = null;\n    this.buffer = null;\n    this.isMuted = media.muted;\n    this.setPlaybackRate(this.playbackRate);\n    this.setVolume(this.volume);\n  }\n\n  /**\n   * Used by `wavesurfer.isPlaying()` and `wavesurfer.playPause()`\n   *\n   * @return {boolean} Media paused or not\n   */\n  isPaused() {\n    return !this.media || this.media.paused;\n  }\n\n  /**\n   * Used by `wavesurfer.getDuration()`\n   *\n   * @return {number} Duration\n   */\n  getDuration() {\n    if (this.explicitDuration) {\n      return this.explicitDuration;\n    }\n    let duration = (this.buffer || this.media).duration;\n    if (duration >= Infinity) {\n      // streaming audio\n      duration = this.media.seekable.end(0);\n    }\n    return duration;\n  }\n\n  /**\n   * Returns the current time in seconds relative to the audio-clip's\n   * duration.\n   *\n   * @return {number} Current time\n   */\n  getCurrentTime() {\n    return this.media && this.media.currentTime;\n  }\n\n  /**\n   * Get the position from 0 to 1\n   *\n   * @return {number} Current position\n   */\n  getPlayedPercents() {\n    return this.getCurrentTime() / this.getDuration() || 0;\n  }\n\n  /**\n   * Get the audio source playback rate.\n   *\n   * @return {number} Playback rate\n   */\n  getPlaybackRate() {\n    return this.playbackRate || this.media.playbackRate;\n  }\n\n  /**\n   * Set the audio source playback rate.\n   *\n   * @param {number} value Playback rate\n   */\n  setPlaybackRate(value) {\n    this.playbackRate = value || 1;\n    this.media.playbackRate = this.playbackRate;\n  }\n\n  /**\n   * Used by `wavesurfer.seekTo()`\n   *\n   * @param {number} start Position to start at in seconds\n   */\n  seekTo(start) {\n    if (start != null) {\n      this.media.currentTime = start;\n    }\n    this.clearPlayEnd();\n  }\n\n  /**\n   * Plays the loaded audio region.\n   *\n   * @param {number} start Start offset in seconds, relative to the beginning\n   * of a clip.\n   * @param {number} end When to stop, relative to the beginning of a clip.\n   * @emits MediaElement#play\n   * @return {Promise} Result\n   */\n  play(start, end) {\n    this.seekTo(start);\n    const promise = this.media.play();\n    end && this.setPlayEnd(end);\n\n    return promise;\n  }\n\n  /**\n   * Pauses the loaded audio.\n   *\n   * @emits MediaElement#pause\n   * @return {Promise} Result\n   */\n  pause() {\n    let promise;\n\n    if (this.media) {\n      promise = this.media.pause();\n    }\n    this.clearPlayEnd();\n\n    return promise;\n  }\n\n  /**\n   * Set the play end\n   *\n   * @param {number} end Where to end\n   */\n  setPlayEnd(end) {\n    this.clearPlayEnd();\n\n    this._onPlayEnd = time => {\n      if (time >= end) {\n        this.pause();\n        this.seekTo(end);\n      }\n    };\n    this.on(\"audioprocess\", this._onPlayEnd);\n  }\n\n  /** @private */\n  clearPlayEnd() {\n    if (this._onPlayEnd) {\n      this.un(\"audioprocess\", this._onPlayEnd);\n      this._onPlayEnd = null;\n    }\n  }\n\n  /**\n   * Compute the max and min value of the waveform when broken into\n   * <length> subranges.\n   *\n   * @param {number} length How many subranges to break the waveform into.\n   * @param {number} first First sample in the required range.\n   * @param {number} last Last sample in the required range.\n   * @return {number[]|Number.<Array[]>} Array of 2*<length> peaks or array of\n   * arrays of peaks consisting of (max, min) values for each subrange.\n   */\n  getPeaks(length, first, last) {\n    if (this.buffer) {\n      return super.getPeaks(length, first, last);\n    }\n    return this.peaks || [];\n  }\n\n  /**\n   * Set the sink id for the media player\n   *\n   * @param {string} deviceId String value representing audio device id.\n   * @returns {Promise} A Promise that resolves to `undefined` when there\n   * are no errors.\n   */\n  setSinkId(deviceId) {\n    if (deviceId) {\n      if (!this.media.setSinkId) {\n        return Promise.reject(\n          new Error(\"setSinkId is not supported in your browser\")\n        );\n      }\n      return this.media.setSinkId(deviceId);\n    }\n\n    return Promise.reject(new Error(\"Invalid deviceId: \" + deviceId));\n  }\n\n  /**\n   * Get the current volume\n   *\n   * @return {number} value A floating point value between 0 and 1.\n   */\n  getVolume() {\n    return this.volume;\n  }\n\n  /**\n   * Set the audio volume\n   *\n   * @param {number} value A floating point value between 0 and 1.\n   */\n  setVolume(value) {\n    this.volume = value;\n    // no need to change when it's already at that volume\n    if (this.media.volume !== this.volume) {\n      this.media.volume = this.volume;\n    }\n  }\n\n  /**\n   * This is called when wavesurfer is destroyed\n   *\n   */\n  destroy() {\n    this.pause();\n    this.unAll();\n    this.destroyed = true;\n\n    // cleanup media event listeners\n    Object.keys(this.mediaListeners).forEach(id => {\n      if (this.media) {\n        this.media.removeEventListener(id, this.mediaListeners[id]);\n      }\n    });\n\n    if (\n      this.params.removeMediaElementOnDestroy &&\n      this.media &&\n      this.media.parentNode\n    ) {\n      this.media.parentNode.removeChild(this.media);\n    }\n\n    this.media = null;\n  }\n}\n","/**\n * Caches the decoded peaks data to improve rendering speed for large audio\n *\n * Is used if the option parameter `partialRender` is set to `true`\n */\nexport default class PeakCache {\n  /**\n   * Instantiate cache\n   */\n  constructor() {\n    this.clearPeakCache();\n  }\n\n  /**\n   * Empty the cache\n   */\n  clearPeakCache() {\n    /**\n     * Flat array with entries that are always in pairs to mark the\n     * beginning and end of each subrange.  This is a convenience so we can\n     * iterate over the pairs for easy set difference operations.\n     * @private\n     */\n    this.peakCacheRanges = [];\n    /**\n     * Length of the entire cachable region, used for resetting the cache\n     * when this changes (zoom events, for instance).\n     * @private\n     */\n    this.peakCacheLength = -1;\n  }\n\n  /**\n   * Add a range of peaks to the cache\n   *\n   * @param {number} length The length of the range\n   * @param {number} start The x offset of the start of the range\n   * @param {number} end The x offset of the end of the range\n   * @return {Number.<Array[]>} Array with arrays of numbers\n   */\n  addRangeToPeakCache(length, start, end) {\n    if (length != this.peakCacheLength) {\n      this.clearPeakCache();\n      this.peakCacheLength = length;\n    }\n\n    // Return ranges that weren't in the cache before the call.\n    let uncachedRanges = [];\n    let i = 0;\n    // Skip ranges before the current start.\n    while (i < this.peakCacheRanges.length && this.peakCacheRanges[i] < start) {\n      i++;\n    }\n    // If |i| is even, |start| falls after an existing range.  Otherwise,\n    // |start| falls between an existing range, and the uncached region\n    // starts when we encounter the next node in |peakCacheRanges| or\n    // |end|, whichever comes first.\n    if (i % 2 == 0) {\n      uncachedRanges.push(start);\n    }\n    while (i < this.peakCacheRanges.length && this.peakCacheRanges[i] <= end) {\n      uncachedRanges.push(this.peakCacheRanges[i]);\n      i++;\n    }\n    // If |i| is even, |end| is after all existing ranges.\n    if (i % 2 == 0) {\n      uncachedRanges.push(end);\n    }\n\n    // Filter out the 0-length ranges.\n    uncachedRanges = uncachedRanges.filter((item, pos, arr) => {\n      if (pos == 0) {\n        return item != arr[pos + 1];\n      } else if (pos == arr.length - 1) {\n        return item != arr[pos - 1];\n      }\n      return item != arr[pos - 1] && item != arr[pos + 1];\n    });\n\n    // Merge the two ranges together, uncachedRanges will either contain\n    // wholly new points, or duplicates of points in peakCacheRanges.  If\n    // duplicates are detected, remove both and extend the range.\n    this.peakCacheRanges = this.peakCacheRanges.concat(uncachedRanges);\n    this.peakCacheRanges = this.peakCacheRanges\n      .sort((a, b) => a - b)\n      .filter((item, pos, arr) => {\n        if (pos == 0) {\n          return item != arr[pos + 1];\n        } else if (pos == arr.length - 1) {\n          return item != arr[pos - 1];\n        }\n        return item != arr[pos - 1] && item != arr[pos + 1];\n      });\n\n    // Push the uncached ranges into an array of arrays for ease of\n    // iteration in the functions that call this.\n    const uncachedRangePairs = [];\n    for (i = 0; i < uncachedRanges.length; i += 2) {\n      uncachedRangePairs.push([uncachedRanges[i], uncachedRanges[i + 1]]);\n    }\n\n    return uncachedRangePairs;\n  }\n\n  /**\n   * For testing\n   *\n   * @return {Number.<Array[]>} Array with arrays of numbers\n   */\n  getCacheRanges() {\n    const peakCacheRangePairs = [];\n    let i;\n    for (i = 0; i < this.peakCacheRanges.length; i += 2) {\n      peakCacheRangePairs.push([\n        this.peakCacheRanges[i],\n        this.peakCacheRanges[i + 1]\n      ]);\n    }\n    return peakCacheRangePairs;\n  }\n}\n","import MediaElement from \"./mediaelement\";\n\n/**\n * MediaElementWebAudio backend: allows to load audio as HTML5 audio tag and use it with WebAudio API.\n * Setting the MediaElementWebAudio backend, there is the possibility to load audio of big dimensions, using the WebAudio API features.\n * The audio to load is an HTML5 audio tag, so you have to use the same methods of MediaElement backend for loading and playback.\n * In this way, the audio resource is not loaded entirely from server, but in ranges, since you load an HTML5 audio tag.\n * In this way, filters and other functionalities can be performed like with WebAudio backend, but without decoding\n * internally audio data, that caused crashing of the browser. You have to give also peaks, so the audio data are not decoded.\n *\n * @since 3.2.0\n */\nexport default class MediaElementWebAudio extends MediaElement {\n  /**\n   * Construct the backend\n   *\n   * @param {WavesurferParams} params Wavesurfer parameters\n   */\n  constructor(params) {\n    super(params);\n    /** @private */\n    this.params = params;\n    /** @private */\n    this.sourceMediaElement = null;\n  }\n\n  /**\n   * Initialise the backend, called in `wavesurfer.createBackend()`\n   */\n  init() {\n    this.setPlaybackRate(this.params.audioRate);\n    this.createTimer();\n    this.createVolumeNode();\n    this.createScriptNode();\n    this.createAnalyserNode();\n  }\n  /**\n   * Private method called by both `load` (from url)\n   * and `loadElt` (existing media element) methods.\n   *\n   * @param {HTMLMediaElement} media HTML5 Audio or Video element\n   * @param {number[]|Number.<Array[]>} peaks Array of peak data\n   * @private\n   */\n  _load(media, peaks) {\n    super._load(media, peaks);\n    this.createMediaElementSource(media);\n  }\n\n  /**\n   * Create MediaElementSource node\n   *\n   * @since 3.2.0\n   * @param {HTMLMediaElement} mediaElement HTML5 Audio to load\n   */\n  createMediaElementSource(mediaElement) {\n    this.sourceMediaElement = this.ac.createMediaElementSource(mediaElement);\n    this.sourceMediaElement.connect(this.analyser);\n  }\n\n  /**\n   * This is called when wavesurfer is destroyed\n   *\n   */\n  destroy() {\n    super.destroy();\n\n    this.destroyWebAudio();\n  }\n}\n","/* eslint no-unused-vars: 0 */\nimport * as util from \"./util\";\nimport MultiCanvas from \"./drawer.multicanvas\";\nimport WebAudio from \"./webaudio\";\nimport MediaElement from \"./mediaelement\";\nimport PeakCache from \"./peakcache\";\nimport MediaElementWebAudio from \"./mediaelement-webaudio\";\n\n/*\n * This work is licensed under a BSD-3-Clause License.\n */\n\n/** @external {HTMLElement} https://developer.mozilla.org/en/docs/Web/API/HTMLElement */\n/** @external {OfflineAudioContext} https://developer.mozilla.org/en-US/docs/Web/API/OfflineAudioContext */\n/** @external {File} https://developer.mozilla.org/en-US/docs/Web/API/File */\n/** @external {Blob} https://developer.mozilla.org/en-US/docs/Web/API/Blob */\n/** @external {CanvasRenderingContext2D} https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D */\n/** @external {MediaStreamConstraints} https://developer.mozilla.org/en-US/docs/Web/API/MediaStreamConstraints */\n/** @external {AudioNode} https://developer.mozilla.org/de/docs/Web/API/AudioNode */\n\n/**\n * @typedef {Object} WavesurferParams\n * @property {AudioContext} audioContext=null Use your own previously\n * initialized AudioContext or leave blank.\n * @property {number} audioRate=1 Speed at which to play audio. Lower number is\n * slower.\n * @property {ScriptProcessorNode} audioScriptProcessor=null Use your own previously\n * initialized ScriptProcessorNode or leave blank.\n * @property {boolean} autoCenter=true If a scrollbar is present, center the\n * waveform on current progress\n * @property {number} autoCenterRate=5 If autoCenter is active, rate at which the\n * waveform is centered\n * @property {boolean} autoCenterImmediately=false If autoCenter is active, immediately\n * center waveform on current progress\n * @property {string} backend='WebAudio' `'WebAudio'|'MediaElement'|'MediaElementWebAudio'` In most cases\n * you don't have to set this manually. MediaElement is a fallback for unsupported browsers.\n * MediaElementWebAudio allows to use WebAudio API also with big audio files, loading audio like with\n * MediaElement backend (HTML5 audio tag). You have to use the same methods of MediaElement backend for loading and\n * playback, giving also peaks, so the audio data are not decoded. In this way you can use WebAudio features, like filters,\n * also with audio with big duration. For example:\n * ` wavesurfer.load(url | HTMLMediaElement, peaks, preload, duration);\n *   wavesurfer.play();\n *   wavesurfer.setFilter(customFilter);\n * `\n * @property {string} backgroundColor=null Change background color of the\n * waveform container.\n * @property {number} barHeight=1 The height of the wave bars.\n * @property {number} barRadius=0 The radius of the wave bars. Makes bars rounded\n * @property {number} barGap=null The optional spacing between bars of the wave,\n * if not provided will be calculated in legacy format.\n * @property {number} barWidth=null Draw the waveform using bars.\n * @property {number} barMinHeight=null If specified, draw at least a bar of this height,\n * eliminating waveform gaps\n * @property {boolean} closeAudioContext=false Close and nullify all audio\n * contexts when the destroy method is called.\n * @property {!string|HTMLElement} container CSS selector or HTML element where\n * the waveform should be drawn. This is the only required parameter.\n * @property {string} cursorColor='#333' The fill color of the cursor indicating\n * the playhead position.\n * @property {number} cursorWidth=1 Measured in pixels.\n * @property {object} drawingContextAttributes={desynchronized: false} Drawing context\n * attributes.\n * @property {number} duration=null Optional audio length so pre-rendered peaks\n * can be display immediately for example.\n * @property {boolean} fillParent=true Whether to fill the entire container or\n * draw only according to `minPxPerSec`.\n * @property {boolean} forceDecode=false Force decoding of audio using web audio\n * when zooming to get a more detailed waveform.\n * @property {number} height=128 The height of the waveform. Measured in\n * pixels.\n * @property {boolean} hideScrollbar=false Whether to hide the horizontal\n * scrollbar when one would normally be shown.\n * @property {boolean} interact=true Whether the mouse interaction will be\n * enabled at initialization. You can switch this parameter at any time later\n * on.\n * @property {boolean} loopSelection=true (Use with regions plugin) Enable\n * looping of selected regions\n * @property {number} maxCanvasWidth=4000 Maximum width of a single canvas in\n * pixels, excluding a small overlap (2 * `pixelRatio`, rounded up to the next\n * even integer). If the waveform is longer than this value, additional canvases\n * will be used to render the waveform, which is useful for very large waveforms\n * that may be too wide for browsers to draw on a single canvas.\n * @property {boolean} mediaControls=false (Use with backend `MediaElement` or `MediaElementWebAudio`)\n * this enables the native controls for the media element\n * @property {string} mediaType='audio' (Use with backend `MediaElement` or `MediaElementWebAudio`)\n * `'audio'|'video'` ('video' only for `MediaElement`)\n * @property {number} minPxPerSec=20 Minimum number of pixels per second of\n * audio.\n * @property {boolean} normalize=false If true, normalize by the maximum peak\n * instead of 1.0.\n * @property {boolean} partialRender=false Use the PeakCache to improve\n * rendering speed of large waveforms\n * @property {number} pixelRatio=window.devicePixelRatio The pixel ratio used to\n * calculate display\n * @property {PluginDefinition[]} plugins=[] An array of plugin definitions to\n * register during instantiation, they will be directly initialised unless they\n * are added with the `deferInit` property set to true.\n * @property {string} progressColor='#555' The fill color of the part of the\n * waveform behind the cursor. When `progressColor` and `waveColor` are the same\n * the progress wave is not rendered at all.\n * @property {boolean} removeMediaElementOnDestroy=true Set to false to keep the\n * media element in the DOM when the player is destroyed. This is useful when\n * reusing an existing media element via the `loadMediaElement` method.\n * @property {Object} renderer=MultiCanvas Can be used to inject a custom\n * renderer.\n * @property {boolean|number} responsive=false If set to `true` resize the\n * waveform, when the window is resized. This is debounced with a `100ms`\n * timeout by default. If this parameter is a number it represents that timeout.\n * @property {boolean} rtl=false If set to `true`, renders waveform from\n * right-to-left.\n * @property {boolean} scrollParent=false Whether to scroll the container with a\n * lengthy waveform. Otherwise the waveform is shrunk to the container width\n * (see fillParent).\n * @property {number} skipLength=2 Number of seconds to skip with the\n * skipForward() and skipBackward() methods.\n * @property {boolean} splitChannels=false Render with separate waveforms for\n * the channels of the audio\n * @property {string} waveColor='#999' The fill color of the waveform after the\n * cursor.\n * @property {object} xhr={} XHR options. For example:\n * `let xhr = {\n *     cache: 'default',\n *     mode: 'cors',\n *     method: 'GET',\n *     credentials: 'same-origin',\n *     redirect: 'follow',\n *     referrer: 'client',\n *     headers: [\n *         {\n *             key: 'Authorization',\n *             value: 'my-token'\n *         }\n *     ]\n * };`\n */\n\n/**\n * @typedef {Object} PluginDefinition\n * @desc The Object used to describe a plugin\n * @example wavesurfer.addPlugin(pluginDefinition);\n * @property {string} name The name of the plugin, the plugin instance will be\n * added as a property to the wavesurfer instance under this name\n * @property {?Object} staticProps The properties that should be added to the\n * wavesurfer instance as static properties\n * @property {?boolean} deferInit Don't initialise plugin\n * automatically\n * @property {Object} params={} The plugin parameters, they are the first parameter\n * passed to the plugin class constructor function\n * @property {PluginClass} instance The plugin instance factory, is called with\n * the dependency specified in extends. Returns the plugin class.\n */\n\n/**\n * @interface PluginClass\n *\n * @desc This is the interface which is implemented by all plugin classes. Note\n * that this only turns into an observer after being passed through\n * `wavesurfer.addPlugin`.\n *\n * @extends {Observer}\n */\nclass PluginClass {\n  /**\n   * Plugin definition factory\n   *\n   * This function must be used to create a plugin definition which can be\n   * used by wavesurfer to correctly instantiate the plugin.\n   *\n   * It returns a `PluginDefinition` object representing the plugin.\n   *\n   * @param {Object} params={} The plugin params (specific to the plugin)\n   */\n  create(params) {}\n  /**\n   * Construct the plugin\n   *\n   * @param {Object} params={} The plugin params (specific to the plugin)\n   * @param {Object} ws The wavesurfer instance\n   */\n  constructor(params, ws) {}\n  /**\n   * Initialise the plugin\n   *\n   * Start doing something. This is called by\n   * `wavesurfer.initPlugin(pluginName)`\n   */\n  init() {}\n  /**\n   * Destroy the plugin instance\n   *\n   * Stop doing something. This is called by\n   * `wavesurfer.destroyPlugin(pluginName)`\n   */\n  destroy() {}\n}\n\n/**\n * WaveSurfer core library class\n *\n * @extends {Observer}\n * @example\n * const params = {\n *   container: '#waveform',\n *   waveColor: 'violet',\n *   progressColor: 'purple'\n * };\n *\n * // initialise like this\n * const wavesurfer = WaveSurfer.create(params);\n *\n * // or like this ...\n * const wavesurfer = new WaveSurfer(params);\n * wavesurfer.init();\n *\n * // load audio file\n * wavesurfer.load('example/media/demo.wav');\n */\nexport default class WaveSurfer extends util.Observer {\n  /** @private */\n  defaultParams = {\n    audioContext: null,\n    audioScriptProcessor: null,\n    audioRate: 1,\n    autoCenter: true,\n    autoCenterRate: 5,\n    autoCenterImmediately: false,\n    backend: \"WebAudio\",\n    backgroundColor: null,\n    barHeight: 1,\n    barRadius: 0,\n    barGap: null,\n    barMinHeight: null,\n    container: null,\n    cursorColor: \"#333\",\n    cursorWidth: 1,\n    dragSelection: true,\n    drawingContextAttributes: {\n      // Boolean that hints the user agent to reduce the latency\n      // by desynchronizing the canvas paint cycle from the event\n      // loop\n      desynchronized: false\n    },\n    duration: null,\n    fillParent: true,\n    forceDecode: false,\n    height: 128,\n    hideScrollbar: false,\n    interact: true,\n    loopSelection: true,\n    maxCanvasWidth: 4000,\n    mediaContainer: null,\n    mediaControls: false,\n    mediaType: \"audio\",\n    minPxPerSec: 20,\n    normalize: false,\n    partialRender: false,\n    pixelRatio:\n      window.devicePixelRatio || screen.deviceXDPI / screen.logicalXDPI,\n    plugins: [],\n    progressColor: \"#555\",\n    removeMediaElementOnDestroy: true,\n    renderer: MultiCanvas,\n    responsive: false,\n    rtl: false,\n    scrollParent: false,\n    skipLength: 2,\n    splitChannels: false,\n    waveColor: \"#999\",\n    xhr: {}\n  };\n\n  /** @private */\n  backends = {\n    MediaElement,\n    WebAudio,\n    MediaElementWebAudio\n  };\n\n  /**\n   * Instantiate this class, call its `init` function and returns it\n   *\n   * @param {WavesurferParams} params The wavesurfer parameters\n   * @return {Object} WaveSurfer instance\n   * @example const wavesurfer = WaveSurfer.create(params);\n   */\n  static create(params) {\n    const wavesurfer = new WaveSurfer(params);\n    return wavesurfer.init();\n  }\n\n  /**\n   * The library version number is available as a static property of the\n   * WaveSurfer class\n   *\n   * @type {String}\n   * @example\n   * console.log('Using wavesurfer.js ' + WaveSurfer.VERSION);\n   */\n  static VERSION = \"1.0 (fork at 2020-5-7 by qh73xe)\";\n\n  /**\n   * Functions in the `util` property are available as a prototype property to\n   * all instances\n   *\n   * @type {Object}\n   * @example\n   * const wavesurfer = WaveSurfer.create(params);\n   * wavesurfer.util.style(myElement, { background: 'blue' });\n   */\n  util = util;\n\n  /**\n   * Functions in the `util` property are available as a static property of the\n   * WaveSurfer class\n   *\n   * @type {Object}\n   * @example\n   * WaveSurfer.util.style(myElement, { background: 'blue' });\n   */\n  static util = util;\n\n  /**\n   * Initialise wavesurfer instance\n   *\n   * @param {WavesurferParams} params Instantiation options for wavesurfer\n   * @example\n   * const wavesurfer = new WaveSurfer(params);\n   * @returns {this} Wavesurfer instance\n   */\n  constructor(params) {\n    super();\n    /**\n     * Extract relevant parameters (or defaults)\n     * @private\n     */\n    this.params = Object.assign({}, this.defaultParams, params);\n\n    /** @private */\n    this.container =\n      \"string\" == typeof params.container\n        ? document.querySelector(this.params.container)\n        : this.params.container;\n\n    if (!this.container) {\n      throw new Error(\"Container element not found\");\n    }\n\n    if (this.params.mediaContainer == null) {\n      /** @private */\n      this.mediaContainer = this.container;\n    } else if (typeof this.params.mediaContainer == \"string\") {\n      /** @private */\n      this.mediaContainer = document.querySelector(this.params.mediaContainer);\n    } else {\n      /** @private */\n      this.mediaContainer = this.params.mediaContainer;\n    }\n\n    if (!this.mediaContainer) {\n      throw new Error(\"Media Container element not found\");\n    }\n\n    if (this.params.maxCanvasWidth <= 1) {\n      throw new Error(\"maxCanvasWidth must be greater than 1\");\n    } else if (this.params.maxCanvasWidth % 2 == 1) {\n      throw new Error(\"maxCanvasWidth must be an even number\");\n    }\n\n    if (this.params.rtl === true) {\n      util.style(this.container, {\n        transform: \"rotateY(180deg)\"\n      });\n    }\n\n    if (this.params.backgroundColor) {\n      this.setBackgroundColor(this.params.backgroundColor);\n    }\n\n    /**\n     * @private Used to save the current volume when muting so we can\n     * restore once unmuted\n     * @type {number}\n     */\n    this.savedVolume = 0;\n\n    /**\n     * @private The current muted state\n     * @type {boolean}\n     */\n    this.isMuted = false;\n\n    /**\n     * @private Will hold a list of event descriptors that need to be\n     * canceled on subsequent loads of audio\n     * @type {Object[]}\n     */\n    this.tmpEvents = [];\n\n    /**\n     * @private Holds any running audio downloads\n     * @type {Observer}\n     */\n    this.currentRequest = null;\n    /** @private */\n    this.arraybuffer = null;\n    /** @private */\n    this.drawer = null;\n    /** @private */\n    this.backend = null;\n    /** @private */\n    this.peakCache = null;\n\n    // cache constructor objects\n    if (typeof this.params.renderer !== \"function\") {\n      throw new Error(\"Renderer parameter is invalid\");\n    }\n    /**\n     * @private The uninitialised Drawer class\n     */\n    this.Drawer = this.params.renderer;\n    /**\n     * @private The uninitialised Backend class\n     */\n    // Back compat\n    if (this.params.backend == \"AudioElement\") {\n      this.params.backend = \"MediaElement\";\n    }\n\n    if (\n      (this.params.backend == \"WebAudio\" ||\n        this.params.backend === \"MediaElementWebAudio\") &&\n      !WebAudio.prototype.supportsWebAudio.call(null)\n    ) {\n      this.params.backend = \"MediaElement\";\n    }\n    this.Backend = this.backends[this.params.backend];\n\n    /**\n     * @private map of plugin names that are currently initialised\n     */\n    this.initialisedPluginList = {};\n    /** @private */\n    this.isDestroyed = false;\n\n    /**\n     * Get the current ready status.\n     *\n     * @example const isReady = wavesurfer.isReady;\n     * @return {boolean}\n     */\n    this.isReady = false;\n\n    // responsive debounced event listener. If this.params.responsive is not\n    // set, this is never called. Use 100ms or this.params.responsive as\n    // timeout for the debounce function.\n    let prevWidth = 0;\n    this._onResize = util.debounce(\n      () => {\n        if (\n          prevWidth != this.drawer.wrapper.clientWidth &&\n          !this.params.scrollParent\n        ) {\n          prevWidth = this.drawer.wrapper.clientWidth;\n          this.drawer.fireEvent(\"redraw\");\n        }\n      },\n      typeof this.params.responsive === \"number\" ? this.params.responsive : 100\n    );\n\n    return this;\n  }\n\n  /**\n   * Initialise the wave\n   *\n   * @example\n   * var wavesurfer = new WaveSurfer(params);\n   * wavesurfer.init();\n   * @return {this} The wavesurfer instance\n   */\n  init() {\n    this.registerPlugins(this.params.plugins);\n    this.createDrawer();\n    this.createBackend();\n    this.createPeakCache();\n    return this;\n  }\n\n  /**\n   * Add and initialise array of plugins (if `plugin.deferInit` is falsey),\n   * this function is called in the init function of wavesurfer\n   *\n   * @param {PluginDefinition[]} plugins An array of plugin definitions\n   * @emits {WaveSurfer#plugins-registered} Called with the array of plugin definitions\n   * @return {this} The wavesurfer instance\n   */\n  registerPlugins(plugins) {\n    // first instantiate all the plugins\n    plugins.forEach(plugin => this.addPlugin(plugin));\n\n    // now run the init functions\n    plugins.forEach(plugin => {\n      // call init function of the plugin if deferInit is falsey\n      // in that case you would manually use initPlugins()\n      if (!plugin.deferInit) {\n        this.initPlugin(plugin.name);\n      }\n    });\n    this.fireEvent(\"plugins-registered\", plugins);\n    return this;\n  }\n\n  /**\n   * Get a map of plugin names that are currently initialised\n   *\n   * @example wavesurfer.getPlugins();\n   * @return {Object} Object with plugin names\n   */\n  getActivePlugins() {\n    return this.initialisedPluginList;\n  }\n\n  /**\n   * Add a plugin object to wavesurfer\n   *\n   * @param {PluginDefinition} plugin A plugin definition\n   * @emits {WaveSurfer#plugin-added} Called with the name of the plugin that was added\n   * @example wavesurfer.addPlugin(WaveSurfer.minimap());\n   * @return {this} The wavesurfer instance\n   */\n  addPlugin(plugin) {\n    if (!plugin.name) {\n      throw new Error(\"Plugin does not have a name!\");\n    }\n    if (!plugin.instance) {\n      throw new Error(\n        `Plugin ${plugin.name} does not have an instance property!`\n      );\n    }\n\n    // staticProps properties are applied to wavesurfer instance\n    if (plugin.staticProps) {\n      Object.keys(plugin.staticProps).forEach(pluginStaticProp => {\n        /**\n         * Properties defined in a plugin definition's `staticProps` property are added as\n         * staticProps properties of the WaveSurfer instance\n         */\n        this[pluginStaticProp] = plugin.staticProps[pluginStaticProp];\n      });\n    }\n\n    const Instance = plugin.instance;\n\n    // turn the plugin instance into an observer\n    const observerPrototypeKeys = Object.getOwnPropertyNames(\n      util.Observer.prototype\n    );\n    observerPrototypeKeys.forEach(key => {\n      Instance.prototype[key] = util.Observer.prototype[key];\n    });\n\n    /**\n     * Instantiated plugin classes are added as a property of the wavesurfer\n     * instance\n     * @type {Object}\n     */\n    this[plugin.name] = new Instance(plugin.params || {}, this);\n    this.fireEvent(\"plugin-added\", plugin.name);\n    return this;\n  }\n\n  /**\n   * Initialise a plugin\n   *\n   * @param {string} name A plugin name\n   * @emits WaveSurfer#plugin-initialised\n   * @example wavesurfer.initPlugin('minimap');\n   * @return {this} The wavesurfer instance\n   */\n  initPlugin(name) {\n    if (!this[name]) {\n      throw new Error(`Plugin ${name} has not been added yet!`);\n    }\n    if (this.initialisedPluginList[name]) {\n      // destroy any already initialised plugins\n      this.destroyPlugin(name);\n    }\n    this[name].init();\n    this.initialisedPluginList[name] = true;\n    this.fireEvent(\"plugin-initialised\", name);\n    return this;\n  }\n\n  /**\n   * Destroy a plugin\n   *\n   * @param {string} name A plugin name\n   * @emits WaveSurfer#plugin-destroyed\n   * @example wavesurfer.destroyPlugin('minimap');\n   * @returns {this} The wavesurfer instance\n   */\n  destroyPlugin(name) {\n    if (!this[name]) {\n      throw new Error(\n        `Plugin ${name} has not been added yet and cannot be destroyed!`\n      );\n    }\n    if (!this.initialisedPluginList[name]) {\n      throw new Error(`Plugin ${name} is not active and cannot be destroyed!`);\n    }\n    if (typeof this[name].destroy !== \"function\") {\n      throw new Error(`Plugin ${name} does not have a destroy function!`);\n    }\n\n    this[name].destroy();\n    delete this.initialisedPluginList[name];\n    this.fireEvent(\"plugin-destroyed\", name);\n    return this;\n  }\n\n  /**\n   * Destroy all initialised plugins. Convenience function to use when\n   * wavesurfer is removed\n   *\n   * @private\n   */\n  destroyAllPlugins() {\n    Object.keys(this.initialisedPluginList).forEach(name =>\n      this.destroyPlugin(name)\n    );\n  }\n\n  /**\n   * Create the drawer and draw the waveform\n   *\n   * @private\n   * @emits WaveSurfer#drawer-created\n   */\n  createDrawer() {\n    this.drawer = new this.Drawer(this.container, this.params);\n    this.drawer.init();\n    this.fireEvent(\"drawer-created\", this.drawer);\n\n    if (this.params.responsive !== false) {\n      window.addEventListener(\"resize\", this._onResize, true);\n      window.addEventListener(\"orientationchange\", this._onResize, true);\n    }\n\n    this.drawer.on(\"redraw\", () => {\n      this.drawBuffer();\n      this.drawer.progress(this.backend.getPlayedPercents());\n    });\n\n    // Click-to-seek\n    this.drawer.on(\"click\", (e, progress) => {\n      setTimeout(() => this.seekTo(progress), 0);\n    });\n\n    // Relay the scroll event from the drawer\n    this.drawer.on(\"scroll\", e => {\n      if (this.params.partialRender) {\n        this.drawBuffer();\n      }\n      this.fireEvent(\"scroll\", e);\n    });\n  }\n\n  /**\n   * Create the backend\n   *\n   * @private\n   * @emits WaveSurfer#backend-created\n   */\n  createBackend() {\n    if (this.backend) {\n      this.backend.destroy();\n    }\n\n    this.backend = new this.Backend(this.params);\n    this.backend.init();\n    this.fireEvent(\"backend-created\", this.backend);\n\n    this.backend.on(\"finish\", () => {\n      this.drawer.progress(this.backend.getPlayedPercents());\n      this.fireEvent(\"finish\");\n    });\n    this.backend.on(\"play\", () => this.fireEvent(\"play\"));\n    this.backend.on(\"pause\", () => this.fireEvent(\"pause\"));\n\n    this.backend.on(\"audioprocess\", time => {\n      this.drawer.progress(this.backend.getPlayedPercents());\n      this.fireEvent(\"audioprocess\", time);\n    });\n\n    // only needed for MediaElement and MediaElementWebAudio backend\n    if (\n      this.params.backend === \"MediaElement\" ||\n      this.params.backend === \"MediaElementWebAudio\"\n    ) {\n      this.backend.on(\"seek\", () => {\n        this.drawer.progress(this.backend.getPlayedPercents());\n      });\n\n      this.backend.on(\"volume\", () => {\n        let newVolume = this.getVolume();\n        this.fireEvent(\"volume\", newVolume);\n\n        if (this.backend.isMuted !== this.isMuted) {\n          this.isMuted = this.backend.isMuted;\n          this.fireEvent(\"mute\", this.isMuted);\n        }\n      });\n    }\n  }\n\n  /**\n   * Create the peak cache\n   *\n   * @private\n   */\n  createPeakCache() {\n    if (this.params.partialRender) {\n      this.peakCache = new PeakCache();\n    }\n  }\n\n  /**\n   * Get the duration of the audio clip\n   *\n   * @example const duration = wavesurfer.getDuration();\n   * @return {number} Duration in seconds\n   */\n  getDuration() {\n    return this.backend.getDuration();\n  }\n\n  /**\n   * Get the current playback position\n   *\n   * @example const currentTime = wavesurfer.getCurrentTime();\n   * @return {number} Playback position in seconds\n   */\n  getCurrentTime() {\n    return this.backend.getCurrentTime();\n  }\n\n  /**\n   * Set the current play time in seconds.\n   *\n   * @param {number} seconds A positive number in seconds. E.g. 10 means 10\n   * seconds, 60 means 1 minute\n   */\n  setCurrentTime(seconds) {\n    if (seconds >= this.getDuration()) {\n      this.seekTo(1);\n    } else {\n      this.seekTo(seconds / this.getDuration());\n    }\n  }\n\n  /**\n   * Starts playback from the current position. Optional start and end\n   * measured in seconds can be used to set the range of audio to play.\n   *\n   * @param {?number} start Position to start at\n   * @param {?number} end Position to end at\n   * @emits WaveSurfer#interaction\n   * @return {Promise} Result of the backend play method\n   * @example\n   * // play from second 1 to 5\n   * wavesurfer.play(1, 5);\n   */\n  play(start, end) {\n    this.fireEvent(\"interaction\", () => this.play(start, end));\n    return this.backend.play(start, end);\n  }\n\n  /**\n   * Set a point in seconds for playback to stop at.\n   *\n   * @param {number} position Position (in seconds) to stop at\n   * @version 3.3.0\n   */\n  setPlayEnd(position) {\n    this.backend.setPlayEnd(position);\n  }\n\n  /**\n   * Stops and pauses playback\n   *\n   * @example wavesurfer.pause();\n   * @return {Promise} Result of the backend pause method\n   */\n  pause() {\n    if (!this.backend.isPaused()) {\n      return this.backend.pause();\n    }\n  }\n\n  /**\n   * Toggle playback\n   *\n   * @example wavesurfer.playPause();\n   * @return {Promise} Result of the backend play or pause method\n   */\n  playPause() {\n    return this.backend.isPaused() ? this.play() : this.pause();\n  }\n\n  /**\n   * Get the current playback state\n   *\n   * @example const isPlaying = wavesurfer.isPlaying();\n   * @return {boolean} False if paused, true if playing\n   */\n  isPlaying() {\n    return !this.backend.isPaused();\n  }\n\n  /**\n   * Skip backward\n   *\n   * @param {?number} seconds Amount to skip back, if not specified `skipLength`\n   * is used\n   * @example wavesurfer.skipBackward();\n   */\n  skipBackward(seconds) {\n    this.skip(-seconds || -this.params.skipLength);\n  }\n\n  /**\n   * Skip forward\n   *\n   * @param {?number} seconds Amount to skip back, if not specified `skipLength`\n   * is used\n   * @example wavesurfer.skipForward();\n   */\n  skipForward(seconds) {\n    this.skip(seconds || this.params.skipLength);\n  }\n\n  /**\n   * Skip a number of seconds from the current position (use a negative value\n   * to go backwards).\n   *\n   * @param {number} offset Amount to skip back or forwards\n   * @example\n   * // go back 2 seconds\n   * wavesurfer.skip(-2);\n   */\n  skip(offset) {\n    const duration = this.getDuration() || 1;\n    let position = this.getCurrentTime() || 0;\n    position = Math.max(0, Math.min(duration, position + (offset || 0)));\n    this.seekAndCenter(position / duration);\n  }\n\n  /**\n   * Seeks to a position and centers the view\n   *\n   * @param {number} progress Between 0 (=beginning) and 1 (=end)\n   * @example\n   * // seek and go to the middle of the audio\n   * wavesurfer.seekTo(0.5);\n   */\n  seekAndCenter(progress) {\n    this.seekTo(progress);\n    this.drawer.recenter(progress);\n  }\n\n  /**\n   * Seeks to a position\n   *\n   * @param {number} progress Between 0 (=beginning) and 1 (=end)\n   * @emits WaveSurfer#interaction\n   * @emits WaveSurfer#seek\n   * @example\n   * // seek to the middle of the audio\n   * wavesurfer.seekTo(0.5);\n   */\n  seekTo(progress) {\n    // return an error if progress is not a number between 0 and 1\n    if (\n      typeof progress !== \"number\" ||\n      !isFinite(progress) ||\n      progress < 0 ||\n      progress > 1\n    ) {\n      throw new Error(\n        \"Error calling wavesurfer.seekTo, parameter must be a number between 0 and 1!\"\n      );\n    }\n    this.fireEvent(\"interaction\", () => this.seekTo(progress));\n\n    const paused = this.backend.isPaused();\n    // avoid draw wrong position while playing backward seeking\n    if (!paused) {\n      this.backend.pause();\n    }\n    // avoid small scrolls while paused seeking\n    const oldScrollParent = this.params.scrollParent;\n    this.params.scrollParent = false;\n    this.backend.seekTo(progress * this.getDuration());\n    this.drawer.progress(progress);\n\n    if (!paused) {\n      this.backend.play();\n    }\n    this.params.scrollParent = oldScrollParent;\n    this.fireEvent(\"seek\", progress);\n  }\n\n  /**\n   * Stops and goes to the beginning.\n   *\n   * @example wavesurfer.stop();\n   */\n  stop() {\n    this.pause();\n    this.seekTo(0);\n    this.drawer.progress(0);\n  }\n\n  /**\n   * Sets the ID of the audio device to use for output and returns a Promise.\n   *\n   * @param {string} deviceId String value representing underlying output\n   * device\n   * @returns {Promise} `Promise` that resolves to `undefined` when there are\n   * no errors detected.\n   */\n  setSinkId(deviceId) {\n    return this.backend.setSinkId(deviceId);\n  }\n\n  /**\n   * Set the playback volume.\n   *\n   * @param {number} newVolume A value between 0 and 1, 0 being no\n   * volume and 1 being full volume.\n   * @emits WaveSurfer#volume\n   */\n  setVolume(newVolume) {\n    this.backend.setVolume(newVolume);\n    this.fireEvent(\"volume\", newVolume);\n  }\n\n  /**\n   * Get the playback volume.\n   *\n   * @return {number} A value between 0 and 1, 0 being no\n   * volume and 1 being full volume.\n   */\n  getVolume() {\n    return this.backend.getVolume();\n  }\n\n  /**\n   * Set the playback rate.\n   *\n   * @param {number} rate A positive number. E.g. 0.5 means half the normal\n   * speed, 2 means double speed and so on.\n   * @example wavesurfer.setPlaybackRate(2);\n   */\n  setPlaybackRate(rate) {\n    this.backend.setPlaybackRate(rate);\n  }\n\n  /**\n   * Get the playback rate.\n   *\n   * @return {number} The current playback rate.\n   */\n  getPlaybackRate() {\n    return this.backend.getPlaybackRate();\n  }\n\n  /**\n   * Toggle the volume on and off. If not currently muted it will save the\n   * current volume value and turn the volume off. If currently muted then it\n   * will restore the volume to the saved value, and then rest the saved\n   * value.\n   *\n   * @example wavesurfer.toggleMute();\n   */\n  toggleMute() {\n    this.setMute(!this.isMuted);\n  }\n\n  /**\n   * Enable or disable muted audio\n   *\n   * @param {boolean} mute Specify `true` to mute audio.\n   * @emits WaveSurfer#volume\n   * @emits WaveSurfer#mute\n   * @example\n   * // unmute\n   * wavesurfer.setMute(false);\n   * console.log(wavesurfer.getMute()) // logs false\n   */\n  setMute(mute) {\n    // ignore all muting requests if the audio is already in that state\n    if (mute === this.isMuted) {\n      this.fireEvent(\"mute\", this.isMuted);\n      return;\n    }\n\n    if (mute) {\n      // If currently not muted then save current volume,\n      // turn off the volume and update the mute properties\n      this.savedVolume = this.backend.getVolume();\n      this.backend.setVolume(0);\n      this.isMuted = true;\n      this.fireEvent(\"volume\", 0);\n    } else {\n      // If currently muted then restore to the saved volume\n      // and update the mute properties\n      this.backend.setVolume(this.savedVolume);\n      this.isMuted = false;\n      this.fireEvent(\"volume\", this.savedVolume);\n    }\n    this.fireEvent(\"mute\", this.isMuted);\n  }\n\n  /**\n   * Get the current mute status.\n   *\n   * @example const isMuted = wavesurfer.getMute();\n   * @return {boolean} Current mute status\n   */\n  getMute() {\n    return this.isMuted;\n  }\n\n  /**\n   * Get the list of current set filters as an array.\n   *\n   * Filters must be set with setFilters method first\n   *\n   * @return {array} List of enabled filters\n   */\n  getFilters() {\n    return this.backend.filters || [];\n  }\n\n  /**\n   * Toggles `scrollParent` and redraws\n   *\n   * @example wavesurfer.toggleScroll();\n   */\n  toggleScroll() {\n    this.params.scrollParent = !this.params.scrollParent;\n    this.drawBuffer();\n  }\n\n  /**\n   * Toggle mouse interaction\n   *\n   * @example wavesurfer.toggleInteraction();\n   */\n  toggleInteraction() {\n    this.params.interact = !this.params.interact;\n  }\n\n  /**\n   * Get the fill color of the waveform after the cursor.\n   *\n   * @return {string} A CSS color string.\n   */\n  getWaveColor() {\n    return this.params.waveColor;\n  }\n\n  /**\n   * Set the fill color of the waveform after the cursor.\n   *\n   * @param {string} color A CSS color string.\n   * @example wavesurfer.setWaveColor('#ddd');\n   */\n  setWaveColor(color) {\n    this.params.waveColor = color;\n    this.drawBuffer();\n  }\n\n  /**\n   * Get the fill color of the waveform behind the cursor.\n   *\n   * @return {string} A CSS color string.\n   */\n  getProgressColor() {\n    return this.params.progressColor;\n  }\n\n  /**\n   * Set the fill color of the waveform behind the cursor.\n   *\n   * @param {string} color A CSS color string.\n   * @example wavesurfer.setProgressColor('#400');\n   */\n  setProgressColor(color) {\n    this.params.progressColor = color;\n    this.drawBuffer();\n  }\n\n  /**\n   * Get the background color of the waveform container.\n   *\n   * @return {string} A CSS color string.\n   */\n  getBackgroundColor() {\n    return this.params.backgroundColor;\n  }\n\n  /**\n   * Set the background color of the waveform container.\n   *\n   * @param {string} color A CSS color string.\n   * @example wavesurfer.setBackgroundColor('#FF00FF');\n   */\n  setBackgroundColor(color) {\n    this.params.backgroundColor = color;\n    util.style(this.container, {\n      background: this.params.backgroundColor\n    });\n  }\n\n  /**\n   * Get the fill color of the cursor indicating the playhead\n   * position.\n   *\n   * @return {string} A CSS color string.\n   */\n  getCursorColor() {\n    return this.params.cursorColor;\n  }\n\n  /**\n   * Set the fill color of the cursor indicating the playhead\n   * position.\n   *\n   * @param {string} color A CSS color string.\n   * @example wavesurfer.setCursorColor('#222');\n   */\n  setCursorColor(color) {\n    this.params.cursorColor = color;\n    this.drawer.updateCursor();\n  }\n\n  /**\n   * Get the height of the waveform.\n   *\n   * @return {number} Height measured in pixels.\n   */\n  getHeight() {\n    return this.params.height;\n  }\n\n  /**\n   * Set the height of the waveform.\n   *\n   * @param {number} height Height measured in pixels.\n   * @example wavesurfer.setHeight(200);\n   */\n  setHeight(height) {\n    this.params.height = height;\n    this.drawer.setHeight(height * this.params.pixelRatio);\n    this.drawBuffer();\n  }\n\n  /**\n   * Get the correct peaks for current wave view-port and render wave\n   *\n   * @private\n   * @emits WaveSurfer#redraw\n   */\n  drawBuffer() {\n    const nominalWidth = Math.round(\n      this.getDuration() * this.params.minPxPerSec * this.params.pixelRatio\n    );\n    const parentWidth = this.drawer.getWidth();\n    let width = nominalWidth;\n    // always start at 0 after zooming for scrolling : issue redraw left part\n    let start = 0;\n    let end = Math.max(start + parentWidth, width);\n    // Fill container\n    if (\n      this.params.fillParent &&\n      (!this.params.scrollParent || nominalWidth < parentWidth)\n    ) {\n      width = parentWidth;\n      start = 0;\n      end = width;\n    }\n\n    let peaks;\n    if (this.params.partialRender) {\n      const newRanges = this.peakCache.addRangeToPeakCache(width, start, end);\n      let i;\n      for (i = 0; i < newRanges.length; i++) {\n        peaks = this.backend.getPeaks(width, newRanges[i][0], newRanges[i][1]);\n        this.drawer.drawPeaks(peaks, width, newRanges[i][0], newRanges[i][1]);\n      }\n    } else {\n      peaks = this.backend.getPeaks(width, start, end);\n      this.drawer.drawPeaks(peaks, width, start, end);\n    }\n    this.fireEvent(\"redraw\", peaks, width);\n  }\n\n  /**\n   * Horizontally zooms the waveform in and out. It also changes the parameter\n   * `minPxPerSec` and enables the `scrollParent` option. Calling the function\n   * with a falsey parameter will reset the zoom state.\n   *\n   * @param {?number} pxPerSec Number of horizontal pixels per second of\n   * audio, if none is set the waveform returns to unzoomed state\n   * @emits WaveSurfer#zoom\n   * @example wavesurfer.zoom(20);\n   */\n  zoom(pxPerSec) {\n    if (!pxPerSec) {\n      this.params.minPxPerSec = this.defaultParams.minPxPerSec;\n      this.params.scrollParent = false;\n    } else {\n      this.params.minPxPerSec = pxPerSec;\n      this.params.scrollParent = true;\n    }\n\n    this.drawBuffer();\n    this.drawer.progress(this.backend.getPlayedPercents());\n\n    this.drawer.recenter(this.getCurrentTime() / this.getDuration());\n    this.fireEvent(\"zoom\", pxPerSec);\n  }\n\n  /**\n   * Decode buffer and load\n   *\n   * @private\n   * @param {ArrayBuffer} arraybuffer Buffer to process\n   */\n  loadArrayBuffer(arraybuffer) {\n    this.decodeArrayBuffer(arraybuffer, data => {\n      if (!this.isDestroyed) {\n        this.loadDecodedBuffer(data);\n      }\n    });\n  }\n\n  /**\n   * Directly load an externally decoded AudioBuffer\n   *\n   * @private\n   * @param {AudioBuffer} buffer Buffer to process\n   * @emits WaveSurfer#ready\n   */\n  loadDecodedBuffer(buffer) {\n    this.backend.load(buffer);\n    this.drawBuffer();\n    this.isReady = true;\n    this.fireEvent(\"ready\");\n  }\n\n  /**\n   * Loads audio data from a Blob or File object\n   *\n   * @param {Blob|File} blob Audio data\n   * @example\n   */\n  loadBlob(blob) {\n    // Create file reader\n    const reader = new FileReader();\n    reader.addEventListener(\"progress\", e => this.onProgress(e));\n    reader.addEventListener(\"load\", e => this.loadArrayBuffer(e.target.result));\n    reader.addEventListener(\"error\", () =>\n      this.fireEvent(\"error\", \"Error reading file\")\n    );\n    reader.readAsArrayBuffer(blob);\n    this.empty();\n  }\n\n  /**\n   * Loads audio and re-renders the waveform.\n   *\n   * @param {string|HTMLMediaElement} url The url of the audio file or the\n   * audio element with the audio\n   * @param {number[]|Number.<Array[]>} peaks Wavesurfer does not have to decode\n   * the audio to render the waveform if this is specified\n   * @param {?string} preload (Use with backend `MediaElement` and `MediaElementWebAudio`)\n   * `'none'|'metadata'|'auto'` Preload attribute for the media element\n   * @param {?number} duration The duration of the audio. This is used to\n   * render the peaks data in the correct size for the audio duration (as\n   * befits the current `minPxPerSec` and zoom value) without having to decode\n   * the audio.\n   * @returns {void}\n   * @throws Will throw an error if the `url` argument is empty.\n   * @example\n   * // uses fetch or media element to load file (depending on backend)\n   * wavesurfer.load('http://example.com/demo.wav');\n   *\n   * // setting preload attribute with media element backend and supplying\n   * // peaks\n   * wavesurfer.load(\n   *   'http://example.com/demo.wav',\n   *   [0.0218, 0.0183, 0.0165, 0.0198, 0.2137, 0.2888],\n   *   true\n   * );\n   */\n  load(url, peaks, preload, duration) {\n    if (!url) {\n      throw new Error(\"url parameter cannot be empty\");\n    }\n    this.empty();\n    if (preload) {\n      // check whether the preload attribute will be usable and if not log\n      // a warning listing the reasons why not and nullify the variable\n      const preloadIgnoreReasons = {\n        \"Preload is not 'auto', 'none' or 'metadata'\":\n          [\"auto\", \"metadata\", \"none\"].indexOf(preload) === -1,\n        \"Peaks are not provided\": !peaks,\n        \"Backend is not of type 'MediaElement' or 'MediaElementWebAudio'\":\n          [\"MediaElement\", \"MediaElementWebAudio\"].indexOf(\n            this.params.backend\n          ) === -1,\n        \"Url is not of type string\": typeof url !== \"string\"\n      };\n      const activeReasons = Object.keys(preloadIgnoreReasons).filter(\n        reason => preloadIgnoreReasons[reason]\n      );\n      if (activeReasons.length) {\n        // eslint-disable-next-line no-console\n        console.warn(\n          \"Preload parameter of wavesurfer.load will be ignored because:\\n\\t- \" +\n            activeReasons.join(\"\\n\\t- \")\n        );\n        // stop invalid values from being used\n        preload = null;\n      }\n    }\n\n    switch (this.params.backend) {\n      case \"WebAudio\":\n        return this.loadBuffer(url, peaks, duration);\n      case \"MediaElement\":\n      case \"MediaElementWebAudio\":\n        return this.loadMediaElement(url, peaks, preload, duration);\n    }\n  }\n\n  /**\n   * Loads audio using Web Audio buffer backend.\n   *\n   * @private\n   * @param {string} url URL of audio file\n   * @param {number[]|Number.<Array[]>} peaks Peaks data\n   * @param {?number} duration Optional duration of audio file\n   * @returns {void}\n   */\n  loadBuffer(url, peaks, duration) {\n    const load = action => {\n      if (action) {\n        this.tmpEvents.push(this.once(\"ready\", action));\n      }\n      return this.getArrayBuffer(url, data => this.loadArrayBuffer(data));\n    };\n\n    if (peaks) {\n      this.backend.setPeaks(peaks, duration);\n      this.drawBuffer();\n      this.tmpEvents.push(this.once(\"interaction\", load));\n    } else {\n      return load();\n    }\n  }\n\n  /**\n   * Either create a media element, or load an existing media element.\n   *\n   * @private\n   * @param {string|HTMLMediaElement} urlOrElt Either a path to a media file, or an\n   * existing HTML5 Audio/Video Element\n   * @param {number[]|Number.<Array[]>} peaks Array of peaks. Required to bypass web audio\n   * dependency\n   * @param {?boolean} preload Set to true if the preload attribute of the\n   * audio element should be enabled\n   * @param {?number} duration Optional duration of audio file\n   */\n  loadMediaElement(urlOrElt, peaks, preload, duration) {\n    let url = urlOrElt;\n\n    if (typeof urlOrElt === \"string\") {\n      this.backend.load(url, this.mediaContainer, peaks, preload);\n    } else {\n      const elt = urlOrElt;\n      this.backend.loadElt(elt, peaks);\n\n      // If peaks are not provided,\n      // url = element.src so we can get peaks with web audio\n      url = elt.src;\n    }\n\n    this.tmpEvents.push(\n      this.backend.once(\"canplay\", () => {\n        // ignore when backend was already destroyed\n        if (!this.backend.destroyed) {\n          this.drawBuffer();\n          this.isReady = true;\n          this.fireEvent(\"ready\");\n        }\n      }),\n      this.backend.once(\"error\", err => this.fireEvent(\"error\", err))\n    );\n\n    // If no pre-decoded peaks provided or pre-decoded peaks are\n    // provided with forceDecode flag, attempt to download the\n    // audio file and decode it with Web Audio.\n    if (peaks) {\n      this.backend.setPeaks(peaks, duration);\n    }\n\n    if (\n      (!peaks || this.params.forceDecode) &&\n      this.backend.supportsWebAudio()\n    ) {\n      this.getArrayBuffer(url, arraybuffer => {\n        this.decodeArrayBuffer(arraybuffer, buffer => {\n          this.backend.buffer = buffer;\n          this.backend.setPeaks(null);\n          this.drawBuffer();\n          this.fireEvent(\"waveform-ready\");\n        });\n      });\n    }\n  }\n\n  /**\n   * Decode an array buffer and pass data to a callback\n   *\n   * @private\n   * @param {Object} arraybuffer The array buffer to decode\n   * @param {function} callback The function to call on complete\n   */\n  decodeArrayBuffer(arraybuffer, callback) {\n    this.arraybuffer = arraybuffer;\n    this.backend.decodeArrayBuffer(\n      arraybuffer,\n      data => {\n        // Only use the decoded data if we haven't been destroyed or\n        // another decode started in the meantime\n        if (!this.isDestroyed && this.arraybuffer == arraybuffer) {\n          callback(data);\n          this.arraybuffer = null;\n        }\n      },\n      () => this.fireEvent(\"error\", \"Error decoding audiobuffer\")\n    );\n  }\n\n  /**\n   * Load an array buffer using fetch and pass the result to a callback\n   *\n   * @param {string} url The URL of the file object\n   * @param {function} callback The function to call on complete\n   * @returns {util.fetchFile} fetch call\n   * @private\n   */\n  getArrayBuffer(url, callback) {\n    let options = Object.assign(\n      {\n        url: url,\n        responseType: \"arraybuffer\"\n      },\n      this.params.xhr\n    );\n    const request = util.fetchFile(options);\n\n    this.currentRequest = request;\n\n    this.tmpEvents.push(\n      request.on(\"progress\", e => {\n        this.onProgress(e);\n      }),\n      request.on(\"success\", data => {\n        callback(data);\n        this.currentRequest = null;\n      }),\n      request.on(\"error\", e => {\n        this.fireEvent(\"error\", e);\n        this.currentRequest = null;\n      })\n    );\n\n    return request;\n  }\n\n  /**\n   * Called while the audio file is loading\n   *\n   * @private\n   * @param {Event} e Progress event\n   * @emits WaveSurfer#loading\n   */\n  onProgress(e) {\n    let percentComplete;\n    if (e.lengthComputable) {\n      percentComplete = e.loaded / e.total;\n    } else {\n      // Approximate progress with an asymptotic\n      // function, and assume downloads in the 1-3 MB range.\n      percentComplete = e.loaded / (e.loaded + 1000000);\n    }\n    this.fireEvent(\"loading\", Math.round(percentComplete * 100), e.target);\n  }\n\n  /**\n   * Exports PCM data into a JSON array and opens in a new window.\n   *\n   * @param {number} length=1024 The scale in which to export the peaks\n   * @param {number} accuracy=10000\n   * @param {?boolean} noWindow Set to true to disable opening a new\n   * window with the JSON\n   * @param {number} start Start index\n   * @param {number} end End index\n   * @return {Promise} Promise that resolves with array of peaks\n   */\n  exportPCM(length, accuracy, noWindow, start, end) {\n    length = length || 1024;\n    start = start || 0;\n    accuracy = accuracy || 10000;\n    noWindow = noWindow || false;\n    const peaks = this.backend.getPeaks(length, start, end);\n    const arr = [].map.call(\n      peaks,\n      val => Math.round(val * accuracy) / accuracy\n    );\n    return new Promise((resolve, reject) => {\n      const json = JSON.stringify(arr);\n\n      if (!noWindow) {\n        window.open(\n          \"data:application/json;charset=utf-8,\" + encodeURIComponent(json)\n        );\n      }\n      resolve(json);\n    });\n  }\n\n  /**\n   * Save waveform image as data URI.\n   *\n   * The default format is `'image/png'`. Other supported types are\n   * `'image/jpeg'` and `'image/webp'`.\n   *\n   * @param {string} format='image/png' A string indicating the image format.\n   * The default format type is `'image/png'`.\n   * @param {number} quality=1 A number between 0 and 1 indicating the image\n   * quality to use for image formats that use lossy compression such as\n   * `'image/jpeg'`` and `'image/webp'`.\n   * @param {string} type Image data type to return. Either 'dataURL' (default)\n   * or 'blob'.\n   * @return {string|string[]|Promise} When using `'dataURL'` type this returns\n   * a single data URL or an array of data URLs, one for each canvas. When using\n   * `'blob'` type this returns a `Promise` resolving with an array of `Blob`\n   * instances, one for each canvas.\n   */\n  exportImage(format, quality, type) {\n    if (!format) {\n      format = \"image/png\";\n    }\n    if (!quality) {\n      quality = 1;\n    }\n    if (!type) {\n      type = \"dataURL\";\n    }\n\n    return this.drawer.getImage(format, quality, type);\n  }\n\n  /**\n   * Cancel any fetch request currently in progress\n   */\n  cancelAjax() {\n    if (this.currentRequest && this.currentRequest.controller) {\n      this.currentRequest.controller.abort();\n      this.currentRequest = null;\n    }\n  }\n\n  /**\n   * @private\n   */\n  clearTmpEvents() {\n    this.tmpEvents.forEach(e => e.un());\n  }\n\n  /**\n   * Display empty waveform.\n   */\n  empty() {\n    if (!this.backend.isPaused()) {\n      this.stop();\n      this.backend.disconnectSource();\n    }\n    this.isReady = false;\n    this.cancelAjax();\n    this.clearTmpEvents();\n\n    // empty drawer\n    this.drawer.progress(0);\n    this.drawer.setWidth(0);\n    this.drawer.drawPeaks({ length: this.drawer.getWidth() }, 0);\n  }\n\n  /**\n   * Remove events, elements and disconnect WebAudio nodes.\n   *\n   * @emits WaveSurfer#destroy\n   */\n  destroy() {\n    this.destroyAllPlugins();\n    this.fireEvent(\"destroy\");\n    this.cancelAjax();\n    this.clearTmpEvents();\n    this.unAll();\n    if (this.params.responsive !== false) {\n      window.removeEventListener(\"resize\", this._onResize, true);\n      window.removeEventListener(\"orientationchange\", this._onResize, true);\n    }\n    if (this.backend) {\n      this.backend.destroy();\n    }\n    if (this.drawer) {\n      this.drawer.destroy();\n    }\n    this.isDestroyed = true;\n    this.isReady = false;\n    this.arraybuffer = null;\n  }\n}\n","/**\n * Calculate FFT - Based on https://github.com/corbanbrook/dsp.js\n */\n/* eslint-disable complexity, no-redeclare, no-var, one-var */\nconst FFT = function(bufferSize, sampleRate, windowFunc, alpha) {\n  this.bufferSize = bufferSize;\n  this.sampleRate = sampleRate;\n  this.bandwidth = (2 / bufferSize) * (sampleRate / 2);\n\n  this.sinTable = new Float32Array(bufferSize);\n  this.cosTable = new Float32Array(bufferSize);\n  this.windowValues = new Float32Array(bufferSize);\n  this.reverseTable = new Uint32Array(bufferSize);\n\n  this.peakBand = 0;\n  this.peak = 0;\n\n  var i;\n  switch (windowFunc) {\n    case \"bartlett\":\n      for (i = 0; i < bufferSize; i++) {\n        this.windowValues[i] =\n          (2 / (bufferSize - 1)) *\n          ((bufferSize - 1) / 2 - Math.abs(i - (bufferSize - 1) / 2));\n      }\n      break;\n    case \"bartlettHann\":\n      for (i = 0; i < bufferSize; i++) {\n        this.windowValues[i] =\n          0.62 -\n          0.48 * Math.abs(i / (bufferSize - 1) - 0.5) -\n          0.38 * Math.cos((Math.PI * 2 * i) / (bufferSize - 1));\n      }\n      break;\n    case \"blackman\":\n      alpha = alpha || 0.16;\n      for (i = 0; i < bufferSize; i++) {\n        this.windowValues[i] =\n          (1 - alpha) / 2 -\n          0.5 * Math.cos((Math.PI * 2 * i) / (bufferSize - 1)) +\n          (alpha / 2) * Math.cos((4 * Math.PI * i) / (bufferSize - 1));\n      }\n      break;\n    case \"cosine\":\n      for (i = 0; i < bufferSize; i++) {\n        this.windowValues[i] = Math.cos(\n          (Math.PI * i) / (bufferSize - 1) - Math.PI / 2\n        );\n      }\n      break;\n    case \"gauss\":\n      alpha = alpha || 0.25;\n      for (i = 0; i < bufferSize; i++) {\n        this.windowValues[i] = Math.pow(\n          Math.E,\n          -0.5 *\n            Math.pow(\n              (i - (bufferSize - 1) / 2) / ((alpha * (bufferSize - 1)) / 2),\n              2\n            )\n        );\n      }\n      break;\n    case \"hamming\":\n      for (i = 0; i < bufferSize; i++) {\n        this.windowValues[i] =\n          0.54 - 0.46 * Math.cos((Math.PI * 2 * i) / (bufferSize - 1));\n      }\n      break;\n    case \"hann\":\n    case undefined:\n      for (i = 0; i < bufferSize; i++) {\n        this.windowValues[i] =\n          0.5 * (1 - Math.cos((Math.PI * 2 * i) / (bufferSize - 1)));\n      }\n      break;\n    case \"lanczoz\":\n      for (i = 0; i < bufferSize; i++) {\n        this.windowValues[i] =\n          Math.sin(Math.PI * ((2 * i) / (bufferSize - 1) - 1)) /\n          (Math.PI * ((2 * i) / (bufferSize - 1) - 1));\n      }\n      break;\n    case \"rectangular\":\n      for (i = 0; i < bufferSize; i++) {\n        this.windowValues[i] = 1;\n      }\n      break;\n    case \"triangular\":\n      for (i = 0; i < bufferSize; i++) {\n        this.windowValues[i] =\n          (2 / bufferSize) *\n          (bufferSize / 2 - Math.abs(i - (bufferSize - 1) / 2));\n      }\n      break;\n    default:\n      throw Error(\"No such window function '\" + windowFunc + \"'\");\n  }\n\n  var limit = 1;\n  var bit = bufferSize >> 1;\n  var i;\n\n  while (limit < bufferSize) {\n    for (i = 0; i < limit; i++) {\n      this.reverseTable[i + limit] = this.reverseTable[i] + bit;\n    }\n\n    limit = limit << 1;\n    bit = bit >> 1;\n  }\n\n  for (i = 0; i < bufferSize; i++) {\n    this.sinTable[i] = Math.sin(-Math.PI / i);\n    this.cosTable[i] = Math.cos(-Math.PI / i);\n  }\n\n  this.calculateSpectrum = function(buffer) {\n    // Locally scope variables for speed up\n    var bufferSize = this.bufferSize,\n      cosTable = this.cosTable,\n      sinTable = this.sinTable,\n      reverseTable = this.reverseTable,\n      real = new Float32Array(bufferSize),\n      imag = new Float32Array(bufferSize),\n      bSi = 2 / this.bufferSize,\n      sqrt = Math.sqrt,\n      rval,\n      ival,\n      mag,\n      spectrum = new Float32Array(bufferSize / 2);\n\n    var k = Math.floor(Math.log(bufferSize) / Math.LN2);\n\n    if (Math.pow(2, k) !== bufferSize) {\n      throw \"Invalid buffer size, must be a power of 2.\";\n    }\n    if (bufferSize !== buffer.length) {\n      throw \"Supplied buffer is not the same size as defined FFT. FFT Size: \" +\n        bufferSize +\n        \" Buffer Size: \" +\n        buffer.length;\n    }\n\n    var halfSize = 1,\n      phaseShiftStepReal,\n      phaseShiftStepImag,\n      currentPhaseShiftReal,\n      currentPhaseShiftImag,\n      off,\n      tr,\n      ti,\n      tmpReal;\n\n    for (var i = 0; i < bufferSize; i++) {\n      real[i] = buffer[reverseTable[i]] * this.windowValues[reverseTable[i]];\n      imag[i] = 0;\n    }\n\n    while (halfSize < bufferSize) {\n      phaseShiftStepReal = cosTable[halfSize];\n      phaseShiftStepImag = sinTable[halfSize];\n\n      currentPhaseShiftReal = 1;\n      currentPhaseShiftImag = 0;\n\n      for (var fftStep = 0; fftStep < halfSize; fftStep++) {\n        var i = fftStep;\n\n        while (i < bufferSize) {\n          off = i + halfSize;\n          tr =\n            currentPhaseShiftReal * real[off] -\n            currentPhaseShiftImag * imag[off];\n          ti =\n            currentPhaseShiftReal * imag[off] +\n            currentPhaseShiftImag * real[off];\n\n          real[off] = real[i] - tr;\n          imag[off] = imag[i] - ti;\n          real[i] += tr;\n          imag[i] += ti;\n\n          i += halfSize << 1;\n        }\n\n        tmpReal = currentPhaseShiftReal;\n        currentPhaseShiftReal =\n          tmpReal * phaseShiftStepReal -\n          currentPhaseShiftImag * phaseShiftStepImag;\n        currentPhaseShiftImag =\n          tmpReal * phaseShiftStepImag +\n          currentPhaseShiftImag * phaseShiftStepReal;\n      }\n\n      halfSize = halfSize << 1;\n    }\n\n    for (var i = 0, N = bufferSize / 2; i < N; i++) {\n      rval = real[i];\n      ival = imag[i];\n      mag = bSi * sqrt(rval * rval + ival * ival);\n\n      if (mag > this.peak) {\n        this.peakBand = i;\n        this.peak = mag;\n      }\n      spectrum[i] = mag;\n    }\n    return spectrum;\n  };\n};\n/* eslint-enable complexity, no-redeclare, no-var, one-var */\n\n/**\n * @typedef {Object} SpectrogramPluginParams\n * @property {string|HTMLElement} container Selector of element or element in\n * which to render\n * @property {number} fftSamples=512 Number of samples to fetch to FFT. Must be\n * a power of 2.\n * @property {boolean} labels Set to true to display frequency labels.\n * @property {number} noverlap Size of the overlapping window. Must be <\n * fftSamples. Auto deduced from canvas size by default.\n * @property {string} windowFunc='hann' The window function to be used. One of\n * these: `'bartlett'`, `'bartlettHann'`, `'blackman'`, `'cosine'`, `'gauss'`,\n * `'hamming'`, `'hann'`, `'lanczoz'`, `'rectangular'`, `'triangular'`\n * @property {?number} alpha Some window functions have this extra value.\n * (Between 0 and 1)\n * @property {number} pixelRatio=wavesurfer.params.pixelRatio to control the\n * size of the spectrogram in relation with its canvas. 1 = Draw on the whole\n * canvas. 2 = Draw on a quarter (1/2 the length and 1/2 the width)\n * @property {?boolean} deferInit Set to true to manually call\n * `initPlugin('spectrogram')`\n * @property {?number[][]} colorMap A 256 long array of 4-element arrays.\n * Each entry should contain a float between 0 and 1 and specify\n * r, g, b, and alpha.\n */\n\n/**\n * Render a spectrogram visualisation of the audio.\n *\n * @implements {PluginClass}\n * @extends {Observer}\n * @example\n * // es6\n * import SpectrogramPlugin from 'wavesurfer.spectrogram.js';\n *\n * // commonjs\n * var SpectrogramPlugin = require('wavesurfer.spectrogram.js');\n *\n * // if you are using <script> tags\n * var SpectrogramPlugin = window.WaveSurfer.spectrogram;\n *\n * // ... initialising wavesurfer with the plugin\n * var wavesurfer = WaveSurfer.create({\n *   // wavesurfer options ...\n *   plugins: [\n *     SpectrogramPlugin.create({\n *       // plugin options ...\n *     })\n *   ]\n * });\n */\nexport default class SpectrogramPlugin {\n  /**\n   * Spectrogram plugin definition factory\n   *\n   * This function must be used to create a plugin definition which can be\n   * used by wavesurfer to correctly instantiate the plugin.\n   *\n   * @param  {SpectrogramPluginParams} params Parameters used to initialise the plugin\n   * @return {PluginDefinition} An object representing the plugin.\n   */\n  static create(params) {\n    return {\n      name: \"spectrogram\",\n      deferInit: params && params.deferInit ? params.deferInit : false,\n      params: params,\n      staticProps: {\n        FFT: FFT\n      },\n      instance: SpectrogramPlugin\n    };\n  }\n\n  constructor(params, ws) {\n    this.params = params;\n    this.wavesurfer = ws;\n    this.util = ws.util;\n\n    this.frequenciesDataUrl = params.frequenciesDataUrl;\n    this._onScroll = e => {\n      this.updateScroll(e);\n    };\n    this._onRender = () => {\n      this.render();\n    };\n    this._onWrapperClick = e => {\n      this._wrapperClickHandler(e);\n    };\n    this._onReady = () => {\n      const drawer = (this.drawer = ws.drawer);\n\n      this.container =\n        \"string\" == typeof params.container\n          ? document.querySelector(params.container)\n          : params.container;\n\n      if (!this.container) {\n        throw Error(\"No container for WaveSurfer spectrogram\");\n      }\n      if (params.colorMap) {\n        if (params.colorMap.length < 256) {\n          throw new Error(\"Colormap must contain 256 elements\");\n        }\n        for (let i = 0; i < params.colorMap.length; i++) {\n          const cmEntry = params.colorMap[i];\n          if (cmEntry.length !== 4) {\n            throw new Error(\"ColorMap entries must contain 4 values\");\n          }\n        }\n        this.colorMap = params.colorMap;\n      } else {\n        this.colorMap = [];\n        for (let i = 0; i < 256; i++) {\n          const val = (255 - i) / 256;\n          this.colorMap.push([val, val, val, 1]);\n        }\n      }\n      this.width = drawer.width;\n      this.pixelRatio = this.params.pixelRatio || ws.params.pixelRatio;\n      this.fftSamples = this.params.fftSamples || ws.params.fftSamples || 512;\n      this.height = this.fftSamples / 2;\n      this.noverlap = params.noverlap;\n      this.windowFunc = params.windowFunc;\n      this.alpha = params.alpha;\n\n      this.createWrapper();\n      this.createCanvas();\n      this.render();\n\n      drawer.wrapper.addEventListener(\"scroll\", this._onScroll);\n      ws.on(\"redraw\", this._onRender);\n    };\n  }\n\n  init() {\n    // Check if wavesurfer is ready\n    if (this.wavesurfer.isReady) {\n      this._onReady();\n    } else {\n      this.wavesurfer.once(\"ready\", this._onReady);\n    }\n  }\n\n  destroy() {\n    this.unAll();\n    this.wavesurfer.un(\"ready\", this._onReady);\n    this.wavesurfer.un(\"redraw\", this._onRender);\n    this.drawer.wrapper.removeEventListener(\"scroll\", this._onScroll);\n    this.wavesurfer = null;\n    this.util = null;\n    this.params = null;\n    if (this.wrapper) {\n      this.wrapper.removeEventListener(\"click\", this._onWrapperClick);\n      this.wrapper.parentNode.removeChild(this.wrapper);\n      this.wrapper = null;\n    }\n  }\n\n  createWrapper() {\n    const prevSpectrogram = this.container.querySelector(\"spectrogram\");\n    if (prevSpectrogram) {\n      this.container.removeChild(prevSpectrogram);\n    }\n    const wsParams = this.wavesurfer.params;\n    this.wrapper = document.createElement(\"spectrogram\");\n    // if labels are active\n    if (this.params.labels) {\n      const labelsEl = (this.labelsEl = document.createElement(\"canvas\"));\n      labelsEl.classList.add(\"spec-labels\");\n      this.drawer.style(labelsEl, {\n        left: 0,\n        position: \"absolute\",\n        zIndex: 9,\n        height: `${this.height / this.pixelRatio}px`,\n        width: `${55 / this.pixelRatio}px`\n      });\n      this.wrapper.appendChild(labelsEl);\n      this.loadLabels(\n        \"rgba(68,68,68,0.5)\",\n        \"12px\",\n        \"10px\",\n        \"\",\n        \"#fff\",\n        \"#f7f7f7\",\n        \"center\",\n        \"#specLabels\"\n      );\n    }\n\n    this.drawer.style(this.wrapper, {\n      display: \"block\",\n      position: \"relative\",\n      userSelect: \"none\",\n      webkitUserSelect: \"none\",\n      height: `${this.height / this.pixelRatio}px`\n    });\n\n    if (wsParams.fillParent || wsParams.scrollParent) {\n      this.drawer.style(this.wrapper, {\n        width: \"100%\",\n        overflowX: \"hidden\",\n        overflowY: \"hidden\"\n      });\n    }\n    this.container.appendChild(this.wrapper);\n\n    this.wrapper.addEventListener(\"click\", this._onWrapperClick);\n  }\n\n  _wrapperClickHandler(event) {\n    event.preventDefault();\n    const relX = \"offsetX\" in event ? event.offsetX : event.layerX;\n    this.fireEvent(\"click\", relX / this.width || 0);\n  }\n\n  createCanvas() {\n    const canvas = (this.canvas = this.wrapper.appendChild(\n      document.createElement(\"canvas\")\n    ));\n\n    this.spectrCc = canvas.getContext(\"2d\");\n\n    this.util.style(canvas, {\n      position: \"absolute\",\n      zIndex: 4\n    });\n  }\n\n  render() {\n    this.updateCanvasStyle();\n\n    if (this.frequenciesDataUrl) {\n      this.loadFrequenciesData(this.frequenciesDataUrl);\n    } else {\n      this.getFrequencies(this.drawSpectrogram);\n    }\n  }\n\n  updateCanvasStyle() {\n    const width = Math.round(this.width / this.pixelRatio) + \"px\";\n    this.canvas.width = this.width;\n    this.canvas.height = this.height;\n    this.canvas.style.width = width;\n  }\n\n  drawSpectrogram(frequenciesData, my) {\n    const height = my.height;\n    const pixels = my.resample(frequenciesData);\n    const heightFactor = my.buffer ? 2 / my.buffer.numberOfChannels : 1;\n    let i;\n    let j;\n\n    for (i = 0; i < pixels.length; i++) {\n      for (j = 0; j < pixels[i].length; j++) {\n        const colorMap = my.colorMap[pixels[i][j]];\n        my.spectrCc.fillStyle =\n          \"rgba(\" +\n          colorMap[0] * 256 +\n          \", \" +\n          colorMap[1] * 256 +\n          \", \" +\n          colorMap[2] * 256 +\n          \",\" +\n          colorMap[3] +\n          \")\";\n        my.spectrCc.fillRect(i, height - j * heightFactor, 1, heightFactor);\n      }\n    }\n  }\n\n  getFrequencies(callback) {\n    const fftSamples = this.fftSamples;\n    const buffer = (this.buffer = this.wavesurfer.backend.buffer);\n    if (!buffer) {\n      this.fireEvent(\"error\", \"Web Audio buffer is not available\");\n      return;\n    }\n    const channelOne = buffer.getChannelData(0);\n    const sampleRate = buffer.sampleRate;\n    const frequencies = [];\n\n    let noverlap = this.noverlap;\n    if (!noverlap) {\n      const uniqueSamplesPerPx = buffer.length / this.canvas.width;\n      noverlap = Math.max(0, Math.round(fftSamples - uniqueSamplesPerPx));\n    }\n\n    const fft = new FFT(fftSamples, sampleRate, this.windowFunc, this.alpha);\n    let currentOffset = 0;\n\n    while (currentOffset + fftSamples < channelOne.length) {\n      const segment = channelOne.slice(\n        currentOffset,\n        currentOffset + fftSamples\n      );\n      const spectrum = fft.calculateSpectrum(segment);\n      const array = new Uint8Array(fftSamples / 2);\n      let j;\n      for (j = 0; j < fftSamples / 2; j++) {\n        array[j] = Math.max(-255, Math.log10(spectrum[j]) * 45);\n      }\n      frequencies.push(array);\n      currentOffset += fftSamples - noverlap;\n    }\n    callback(frequencies, this);\n  }\n\n  loadFrequenciesData(url) {\n    const request = this.util.fetchFile({ url: url });\n\n    request.on(\"success\", data => this.drawSpectrogram(JSON.parse(data), this));\n    request.on(\"error\", e => this.fireEvent(\"error\", e));\n\n    return request;\n  }\n\n  freqType(freq) {\n    return freq >= 1000 ? (freq / 1000).toFixed(1) : Math.round(freq);\n  }\n\n  unitType(freq) {\n    return freq >= 1000 ? \"KHz\" : \"Hz\";\n  }\n\n  loadLabels(\n    bgFill,\n    fontSizeFreq,\n    fontSizeUnit,\n    fontType,\n    textColorFreq,\n    textColorUnit,\n    textAlign\n  ) {\n    const frequenciesHeight = this.height;\n    bgFill = bgFill || \"rgba(68,68,68,0)\";\n    fontSizeFreq = fontSizeFreq || \"12px\";\n    fontSizeUnit = fontSizeUnit || \"10px\";\n    fontType = fontType || \"Helvetica\";\n    textColorFreq = textColorFreq || \"#fff\";\n    textColorUnit = textColorUnit || \"#fff\";\n    textAlign = textAlign || \"center\";\n    const bgWidth = 55;\n    const getMaxY = frequenciesHeight || 512;\n    const labelIndex = 5 * (getMaxY / 256);\n    const freqStart = 0;\n    const step =\n      (this.wavesurfer.backend.ac.sampleRate / 2 - freqStart) / labelIndex;\n\n    // prepare canvas element for labels\n    const ctx = this.labelsEl.getContext(\"2d\");\n    this.labelsEl.height = this.height;\n    this.labelsEl.width = bgWidth;\n\n    // fill background\n    ctx.fillStyle = bgFill;\n    ctx.fillRect(0, 0, bgWidth, getMaxY);\n    ctx.fill();\n    let i;\n\n    // render labels\n    for (i = 0; i <= labelIndex; i++) {\n      ctx.textAlign = textAlign;\n      ctx.textBaseline = \"middle\";\n\n      const freq = freqStart + step * i;\n      const label = this.freqType(freq);\n      const units = this.unitType(freq);\n      const yLabelOffset = 2;\n      const x = 16;\n      let y;\n\n      if (i == 0) {\n        y = getMaxY + i - 10;\n        // unit label\n        ctx.fillStyle = textColorUnit;\n        ctx.font = fontSizeUnit + \" \" + fontType;\n        ctx.fillText(units, x + 24, y);\n        // freq label\n        ctx.fillStyle = textColorFreq;\n        ctx.font = fontSizeFreq + \" \" + fontType;\n        ctx.fillText(label, x, y);\n      } else {\n        y = getMaxY - i * 50 + yLabelOffset;\n        // unit label\n        ctx.fillStyle = textColorUnit;\n        ctx.font = fontSizeUnit + \" \" + fontType;\n        ctx.fillText(units, x + 24, y);\n        // freq label\n        ctx.fillStyle = textColorFreq;\n        ctx.font = fontSizeFreq + \" \" + fontType;\n        ctx.fillText(label, x, y);\n      }\n    }\n  }\n\n  updateScroll(e) {\n    if (this.wrapper) {\n      this.wrapper.scrollLeft = e.target.scrollLeft;\n    }\n  }\n\n  resample(oldMatrix) {\n    const columnsNumber = this.width;\n    const newMatrix = [];\n\n    const oldPiece = 1 / oldMatrix.length;\n    const newPiece = 1 / columnsNumber;\n    let i;\n\n    for (i = 0; i < columnsNumber; i++) {\n      const column = new Array(oldMatrix[0].length);\n      let j;\n\n      for (j = 0; j < oldMatrix.length; j++) {\n        const oldStart = j * oldPiece;\n        const oldEnd = oldStart + oldPiece;\n        const newStart = i * newPiece;\n        const newEnd = newStart + newPiece;\n\n        const overlap =\n          oldEnd <= newStart || newEnd <= oldStart\n            ? 0\n            : Math.min(Math.max(oldEnd, newStart), Math.max(newEnd, oldStart)) -\n              Math.max(Math.min(oldEnd, newStart), Math.min(newEnd, oldStart));\n        let k;\n        /* eslint-disable max-depth */\n        if (overlap > 0) {\n          for (k = 0; k < oldMatrix[0].length; k++) {\n            if (column[k] == null) {\n              column[k] = 0;\n            }\n            column[k] += (overlap / newPiece) * oldMatrix[j][k];\n          }\n        }\n        /* eslint-enable max-depth */\n      }\n\n      const intColumn = new Uint8Array(oldMatrix[0].length);\n      let m;\n\n      for (m = 0; m < oldMatrix[0].length; m++) {\n        intColumn[m] = column[m];\n      }\n\n      newMatrix.push(intColumn);\n    }\n\n    return newMatrix;\n  }\n}\n","/* eslint no-unused-vars: 0 */\n/**\n * @typedef {Object} TimelinePluginParams\n * @desc Extends the `WavesurferParams` wavesurfer was initialised with\n * @property {!string|HTMLElement} container CSS selector or HTML element where\n * the timeline should be drawn. This is the only required parameter.\n * @property {number} notchPercentHeight=90 Height of notches in percent\n * @property {string} unlabeledNotchColor='#c0c0c0' The colour of the notches\n * that do not have labels\n * @property {string} primaryColor='#000' The colour of the main notches\n * @property {string} secondaryColor='#c0c0c0' The colour of the secondary\n * notches\n * @property {string} primaryFontColor='#000' The colour of the labels next to\n * the main notches\n * @property {string} secondaryFontColor='#000' The colour of the labels next to\n * the secondary notches\n * @property {number} labelPadding=5 The padding between the label and the notch\n * @property {?number} zoomDebounce A debounce timeout to increase rendering\n * performance for large files\n * @property {string} fontFamily='Arial'\n * @property {number} fontSize=10 Font size of labels in pixels\n * @property {?number} duration Length of the track in seconds. Overrides\n * getDuration() for setting length of timeline\n * @property {function} formatTimeCallback (sec, pxPerSec) -> label\n * @property {function} timeInterval (pxPerSec) -> seconds between notches\n * @property {function} primaryLabelInterval (pxPerSec) -> cadence between\n * labels in primary color\n * @property {function} secondaryLabelInterval (pxPerSec) -> cadence between\n * labels in secondary color\n * @property {?number} offset Offset for the timeline start in seconds. May also be\n * negative.\n * @property {?boolean} deferInit Set to true to manually call\n * `initPlugin('timeline')`\n */\n\n/**\n * Adds a timeline to the waveform.\n *\n * @implements {PluginClass}\n * @extends {Observer}\n * @example\n * // es6\n * import TimelinePlugin from 'wavesurfer.timeline.js';\n *\n * // commonjs\n * var TimelinePlugin = require('wavesurfer.timeline.js');\n *\n * // if you are using <script> tags\n * var TimelinePlugin = window.WaveSurfer.timeline;\n *\n * // ... initialising wavesurfer with the plugin\n * var wavesurfer = WaveSurfer.create({\n *   // wavesurfer options ...\n *   plugins: [\n *     TimelinePlugin.create({\n *       // plugin options ...\n *     })\n *   ]\n * });\n */\nexport default class TimelinePlugin {\n  /**\n   * Timeline plugin definition factory\n   *\n   * This function must be used to create a plugin definition which can be\n   * used by wavesurfer to correctly instantiate the plugin.\n   *\n   * @param  {TimelinePluginParams} params parameters use to initialise the plugin\n   * @return {PluginDefinition} an object representing the plugin\n   */\n  static create(params) {\n    return {\n      name: \"timeline\",\n      deferInit: params && params.deferInit ? params.deferInit : false,\n      params: params,\n      instance: TimelinePlugin\n    };\n  }\n\n  // event handlers\n  _onScroll = () => {\n    if (this.wrapper && this.drawer.wrapper) {\n      this.wrapper.scrollLeft = this.drawer.wrapper.scrollLeft;\n    }\n  };\n\n  /**\n   * @returns {void}\n   */\n  _onRedraw = () => this.render();\n\n  _onReady = () => {\n    const ws = this.wavesurfer;\n    this.drawer = ws.drawer;\n    this.pixelRatio = ws.drawer.params.pixelRatio;\n    this.maxCanvasWidth = ws.drawer.maxCanvasWidth || ws.drawer.width;\n    this.maxCanvasElementWidth =\n      ws.drawer.maxCanvasElementWidth ||\n      Math.round(this.maxCanvasWidth / this.pixelRatio);\n\n    // add listeners\n    ws.drawer.wrapper.addEventListener(\"scroll\", this._onScroll);\n    ws.on(\"redraw\", this._onRedraw);\n    ws.on(\"zoom\", this._onZoom);\n\n    this.render();\n  };\n\n  /**\n   * @param {object} e Click event\n   */\n  _onWrapperClick = e => {\n    e.preventDefault();\n    const relX = \"offsetX\" in e ? e.offsetX : e.layerX;\n    this.fireEvent(\"click\", relX / this.wrapper.scrollWidth || 0);\n  };\n\n  /**\n   * Creates an instance of TimelinePlugin.\n   *\n   * You probably want to use TimelinePlugin.create()\n   *\n   * @param {TimelinePluginParams} params Plugin parameters\n   * @param {object} ws Wavesurfer instance\n   */\n  constructor(params, ws) {\n    this.container =\n      \"string\" == typeof params.container\n        ? document.querySelector(params.container)\n        : params.container;\n\n    if (!this.container) {\n      throw new Error(\"No container for wavesurfer timeline\");\n    }\n\n    this.wavesurfer = ws;\n    this.util = ws.util;\n    this.params = Object.assign(\n      {},\n      {\n        height: 20,\n        notchPercentHeight: 90,\n        labelPadding: 5,\n        unlabeledNotchColor: \"#c0c0c0\",\n        primaryColor: \"#000\",\n        secondaryColor: \"#c0c0c0\",\n        primaryFontColor: \"#000\",\n        secondaryFontColor: \"#000\",\n        fontFamily: \"Arial\",\n        fontSize: 10,\n        duration: null,\n        zoomDebounce: false,\n        formatTimeCallback: this.defaultFormatTimeCallback,\n        timeInterval: this.defaultTimeInterval,\n        primaryLabelInterval: this.defaultPrimaryLabelInterval,\n        secondaryLabelInterval: this.defaultSecondaryLabelInterval,\n        offset: 0\n      },\n      params\n    );\n\n    this.canvases = [];\n    this.wrapper = null;\n    this.drawer = null;\n    this.pixelRatio = null;\n    this.maxCanvasWidth = null;\n    this.maxCanvasElementWidth = null;\n    /**\n     * This event handler has to be in the constructor function because it\n     * relies on the debounce function which is only available after\n     * instantiation\n     *\n     * Use a debounced function if `params.zoomDebounce` is defined\n     *\n     * @returns {void}\n     */\n    this._onZoom = this.params.zoomDebounce\n      ? this.wavesurfer.util.debounce(\n          () => this.render(),\n          this.params.zoomDebounce\n        )\n      : () => this.render();\n  }\n\n  /**\n   * Initialisation function used by the plugin API\n   */\n  init() {\n    // Check if ws is ready\n    if (this.wavesurfer.isReady) {\n      this._onReady();\n    } else {\n      this.wavesurfer.once(\"ready\", this._onReady);\n    }\n  }\n\n  /**\n   * Destroy function used by the plugin API\n   */\n  destroy() {\n    this.unAll();\n    this.wavesurfer.un(\"redraw\", this._onRedraw);\n    this.wavesurfer.un(\"zoom\", this._onZoom);\n    this.wavesurfer.un(\"ready\", this._onReady);\n    this.wavesurfer.drawer.wrapper.removeEventListener(\n      \"scroll\",\n      this._onScroll\n    );\n    if (this.wrapper && this.wrapper.parentNode) {\n      this.wrapper.removeEventListener(\"click\", this._onWrapperClick);\n      this.wrapper.parentNode.removeChild(this.wrapper);\n      this.wrapper = null;\n    }\n  }\n\n  /**\n   * Create a timeline element to wrap the canvases drawn by this plugin\n   *\n   */\n  createWrapper() {\n    const wsParams = this.wavesurfer.params;\n    this.container.innerHTML = \"\";\n    this.wrapper = this.container.appendChild(\n      document.createElement(\"timeline\")\n    );\n    this.util.style(this.wrapper, {\n      display: \"block\",\n      position: \"relative\",\n      userSelect: \"none\",\n      webkitUserSelect: \"none\",\n      height: `${this.params.height}px`\n    });\n\n    if (wsParams.fillParent || wsParams.scrollParent) {\n      this.util.style(this.wrapper, {\n        width: \"100%\",\n        overflowX: \"hidden\",\n        overflowY: \"hidden\"\n      });\n    }\n\n    this.wrapper.addEventListener(\"click\", this._onWrapperClick);\n  }\n\n  /**\n   * Render the timeline (also updates the already rendered timeline)\n   *\n   */\n  render() {\n    if (!this.wrapper) {\n      this.createWrapper();\n    }\n    this.updateCanvases();\n    this.updateCanvasesPositioning();\n    this.renderCanvases();\n  }\n\n  /**\n   * Add new timeline canvas\n   *\n   */\n  addCanvas() {\n    const canvas = this.wrapper.appendChild(document.createElement(\"canvas\"));\n    this.canvases.push(canvas);\n    this.util.style(canvas, {\n      position: \"absolute\",\n      zIndex: 4\n    });\n  }\n\n  /**\n   * Remove timeline canvas\n   *\n   */\n  removeCanvas() {\n    const canvas = this.canvases.pop();\n    canvas.parentElement.removeChild(canvas);\n  }\n\n  /**\n   * Make sure the correct of timeline canvas elements exist and are cached in\n   * this.canvases\n   *\n   */\n  updateCanvases() {\n    const totalWidth = Math.round(this.drawer.wrapper.scrollWidth);\n    const requiredCanvases = Math.ceil(totalWidth / this.maxCanvasElementWidth);\n\n    while (this.canvases.length < requiredCanvases) {\n      this.addCanvas();\n    }\n\n    while (this.canvases.length > requiredCanvases) {\n      this.removeCanvas();\n    }\n  }\n\n  /**\n   * Update the dimensions and positioning style for all the timeline canvases\n   *\n   */\n  updateCanvasesPositioning() {\n    // cache length for performance\n    const canvasesLength = this.canvases.length;\n    this.canvases.forEach((canvas, i) => {\n      // canvas width is the max element width, or if it is the last the\n      // required width\n      const canvasWidth =\n        i === canvasesLength - 1\n          ? this.drawer.wrapper.scrollWidth -\n            this.maxCanvasElementWidth * (canvasesLength - 1)\n          : this.maxCanvasElementWidth;\n      // set dimensions and style\n      canvas.width = canvasWidth * this.pixelRatio;\n      // on certain pixel ratios the canvas appears cut off at the bottom,\n      // therefore leave 1px extra\n      canvas.height = (this.params.height + 1) * this.pixelRatio;\n      this.util.style(canvas, {\n        width: `${canvasWidth}px`,\n        height: `${this.params.height}px`,\n        left: `${i * this.maxCanvasElementWidth}px`\n      });\n    });\n  }\n\n  /**\n   * Render the timeline labels and notches\n   *\n   */\n  renderCanvases() {\n    const duration =\n      this.params.duration || this.wavesurfer.backend.getDuration();\n\n    if (duration <= 0) {\n      return;\n    }\n    const wsParams = this.wavesurfer.params;\n    const fontSize = this.params.fontSize * wsParams.pixelRatio;\n    const totalSeconds = parseInt(duration, 10) + 1;\n    const width =\n      wsParams.fillParent && !wsParams.scrollParent\n        ? this.drawer.getWidth()\n        : this.drawer.wrapper.scrollWidth * wsParams.pixelRatio;\n    const height1 = this.params.height * this.pixelRatio;\n    const height2 =\n      this.params.height *\n      (this.params.notchPercentHeight / 100) *\n      this.pixelRatio;\n    const pixelsPerSecond = width / duration;\n\n    const formatTime = this.params.formatTimeCallback;\n    // if parameter is function, call the function with\n    // pixelsPerSecond, otherwise simply take the value as-is\n    const intervalFnOrVal = option =>\n      typeof option === \"function\" ? option(pixelsPerSecond) : option;\n    const timeInterval = intervalFnOrVal(this.params.timeInterval);\n    const primaryLabelInterval = intervalFnOrVal(\n      this.params.primaryLabelInterval\n    );\n    const secondaryLabelInterval = intervalFnOrVal(\n      this.params.secondaryLabelInterval\n    );\n\n    let curPixel = pixelsPerSecond * this.params.offset;\n    let curSeconds = 0;\n    let i;\n    // build an array of position data with index, second and pixel data,\n    // this is then used multiple times below\n    const positioning = [];\n    for (i = 0; i < totalSeconds / timeInterval; i++) {\n      positioning.push([i, curSeconds, curPixel]);\n      curSeconds += timeInterval;\n      curPixel += pixelsPerSecond * timeInterval;\n    }\n\n    // iterate over each position\n    const renderPositions = cb => {\n      positioning.forEach(pos => {\n        cb(pos[0], pos[1], pos[2]);\n      });\n    };\n\n    // render primary labels\n    this.setFillStyles(this.params.primaryColor);\n    this.setFonts(`${fontSize}px ${this.params.fontFamily}`);\n    this.setFillStyles(this.params.primaryFontColor);\n    renderPositions((i, curSeconds, curPixel) => {\n      if (i % primaryLabelInterval === 0) {\n        this.fillRect(curPixel, 0, 1, height1);\n        this.fillText(\n          formatTime(curSeconds, pixelsPerSecond),\n          curPixel + this.params.labelPadding * this.pixelRatio,\n          height1\n        );\n      }\n    });\n\n    // render secondary labels\n    this.setFillStyles(this.params.secondaryColor);\n    this.setFonts(`${fontSize}px ${this.params.fontFamily}`);\n    this.setFillStyles(this.params.secondaryFontColor);\n    renderPositions((i, curSeconds, curPixel) => {\n      if (i % secondaryLabelInterval === 0) {\n        this.fillRect(curPixel, 0, 1, height1);\n        this.fillText(\n          formatTime(curSeconds, pixelsPerSecond),\n          curPixel + this.params.labelPadding * this.pixelRatio,\n          height1\n        );\n      }\n    });\n\n    // render the actual notches (when no labels are used)\n    this.setFillStyles(this.params.unlabeledNotchColor);\n    renderPositions((i, curSeconds, curPixel) => {\n      if (i % secondaryLabelInterval !== 0 && i % primaryLabelInterval !== 0) {\n        this.fillRect(curPixel, 0, 1, height2);\n      }\n    });\n  }\n\n  /**\n   * Set the canvas fill style\n   *\n   * @param {DOMString|CanvasGradient|CanvasPattern} fillStyle Fill style to\n   * use\n   */\n  setFillStyles(fillStyle) {\n    this.canvases.forEach(canvas => {\n      canvas.getContext(\"2d\").fillStyle = fillStyle;\n    });\n  }\n\n  /**\n   * Set the canvas font\n   *\n   * @param {DOMString} font Font to use\n   */\n  setFonts(font) {\n    this.canvases.forEach(canvas => {\n      canvas.getContext(\"2d\").font = font;\n    });\n  }\n\n  /**\n   * Draw a rectangle on the canvases\n   *\n   * (it figures out the offset for each canvas)\n   *\n   * @param {number} x X-position\n   * @param {number} y Y-position\n   * @param {number} width Width\n   * @param {number} height Height\n   */\n  fillRect(x, y, width, height) {\n    this.canvases.forEach((canvas, i) => {\n      const leftOffset = i * this.maxCanvasWidth;\n\n      const intersection = {\n        x1: Math.max(x, i * this.maxCanvasWidth),\n        y1: y,\n        x2: Math.min(x + width, i * this.maxCanvasWidth + canvas.width),\n        y2: y + height\n      };\n\n      if (intersection.x1 < intersection.x2) {\n        canvas\n          .getContext(\"2d\")\n          .fillRect(\n            intersection.x1 - leftOffset,\n            intersection.y1,\n            intersection.x2 - intersection.x1,\n            intersection.y2 - intersection.y1\n          );\n      }\n    });\n  }\n\n  /**\n   * Fill a given text on the canvases\n   *\n   * @param {string} text Text to render\n   * @param {number} x X-position\n   * @param {number} y Y-position\n   */\n  fillText(text, x, y) {\n    let textWidth;\n    let xOffset = 0;\n\n    this.canvases.forEach(canvas => {\n      const context = canvas.getContext(\"2d\");\n      const canvasWidth = context.canvas.width;\n\n      if (xOffset > x + textWidth) {\n        return;\n      }\n\n      if (xOffset + canvasWidth > x) {\n        textWidth = context.measureText(text).width;\n        context.fillText(text, x - xOffset, y);\n      }\n\n      xOffset += canvasWidth;\n    });\n  }\n\n  /**\n   * Turn the time into a suitable label for the time.\n   *\n   * @param {number} seconds Seconds to format\n   * @param {number} pxPerSec Pixels per second\n   * @returns {number} Time\n   */\n  defaultFormatTimeCallback(seconds, pxPerSec) {\n    if (seconds / 60 > 1) {\n      // calculate minutes and seconds from seconds count\n      const minutes = parseInt(seconds / 60, 10);\n      seconds = parseInt(seconds % 60, 10);\n      // fill up seconds with zeroes\n      seconds = seconds < 10 ? \"0\" + seconds : seconds;\n      return `${minutes}:${seconds}`;\n    }\n    return Math.round(seconds * 1000) / 1000;\n  }\n\n  /**\n   * Return how many seconds should be between each notch\n   *\n   * @param {number} pxPerSec Pixels per second\n   * @returns {number} Time\n   */\n  defaultTimeInterval(pxPerSec) {\n    if (pxPerSec >= 25) {\n      return 1;\n    } else if (pxPerSec * 5 >= 25) {\n      return 5;\n    } else if (pxPerSec * 15 >= 25) {\n      return 15;\n    }\n    return Math.ceil(0.5 / pxPerSec) * 60;\n  }\n\n  /**\n   * Return the cadence of notches that get labels in the primary color.\n   *\n   * @param {number} pxPerSec Pixels per second\n   * @returns {number} Cadence\n   */\n  defaultPrimaryLabelInterval(pxPerSec) {\n    if (pxPerSec >= 25) {\n      return 10;\n    } else if (pxPerSec * 5 >= 25) {\n      return 6;\n    } else if (pxPerSec * 15 >= 25) {\n      return 4;\n    }\n    return 4;\n  }\n\n  /**\n   * Return the cadence of notches that get labels in the secondary color.\n   *\n   * @param {number} pxPerSec Pixels per second\n   * @returns {number} Cadence\n   */\n  defaultSecondaryLabelInterval(pxPerSec) {\n    if (pxPerSec >= 25) {\n      return 5;\n    } else if (pxPerSec * 5 >= 25) {\n      return 2;\n    } else if (pxPerSec * 15 >= 25) {\n      return 2;\n    }\n    return 2;\n  }\n}\n","/* eslint no-unused-vars: 0 */\n/*eslint no-console: [\"error\", { allow: [\"warn\"] }] */\n/**\n * @typedef {Object} MinimapPluginParams\n * @desc Extends the `WavesurferParams` wavesurfer was initialised with\n * @property {?string|HTMLElement} container CSS selector or HTML element where\n * the map should be rendered. By default it is simply appended\n * after the waveform.\n * @property {?boolean} deferInit Set to true to manually call\n * `initPlugin('minimap')`\n */\n\n/**\n * Renders a smaller version waveform as a minimap of the main waveform.\n *\n * @implements {PluginClass}\n * @extends {Observer}\n * @example\n * // es6\n * import MinimapPlugin from 'wavesurfer.minimap.js';\n *\n * // commonjs\n * var MinimapPlugin = require('wavesurfer.minimap.js');\n *\n * // if you are using <script> tags\n * var MinimapPlugin = window.WaveSurfer.minimap;\n *\n * // ... initialising wavesurfer with the plugin\n * var wavesurfer = WaveSurfer.create({\n *   // wavesurfer options ...\n *   plugins: [\n *     MinimapPlugin.create({\n *       // plugin options ...\n *     })\n *   ]\n * });\n */\nexport default class MinimapPlugin {\n  /**\n   * Minimap plugin definition factory\n   *\n   * This function must be used to create a plugin definition which can be\n   * used by wavesurfer to correctly instantiate the plugin.\n   *\n   * @param  {MinimapPluginParams} params parameters use to initialise the plugin\n   * @return {PluginDefinition} an object representing the plugin\n   */\n  static create(params) {\n    return {\n      name: \"minimap\",\n      deferInit: params && params.deferInit ? params.deferInit : false,\n      params: params,\n      staticProps: {},\n      instance: MinimapPlugin\n    };\n  }\n\n  constructor(params, ws) {\n    this.params = Object.assign(\n      {},\n      ws.params,\n      {\n        showRegions: false,\n        showOverview: false,\n        overviewBorderColor: \"green\",\n        overviewBorderSize: 2,\n        // the container should be different\n        container: false,\n        height: Math.max(Math.round(ws.params.height / 4), 20)\n      },\n      params,\n      {\n        scrollParent: false,\n        fillParent: true\n      }\n    );\n    // if container is a selector, get the element\n    if (typeof params.container === \"string\") {\n      const el = document.querySelector(params.container);\n      if (!el) {\n        console.warn(\n          `Wavesurfer minimap container ${params.container} was not found! The minimap will be automatically appended below the waveform.`\n        );\n      }\n      this.params.container = el;\n    }\n    // if no container is specified add a new element and insert it\n    if (!params.container) {\n      this.params.container = ws.util.style(document.createElement(\"minimap\"), {\n        display: \"block\"\n      });\n    }\n    this.drawer = new ws.Drawer(this.params.container, this.params);\n    this.wavesurfer = ws;\n    this.util = ws.util;\n    /**\n     * Minimap needs to listen for the `ready` and `waveform-ready` events\n     * to work with the `MediaElement` backend. The moment the `ready` event\n     * is called is different (and peaks would not load).\n     *\n     * @type {string}\n     * @see https://github.com/katspaugh/wavesurfer.js/issues/736\n     */\n    this.renderEvent =\n      ws.params.backend === \"MediaElement\" ? \"waveform-ready\" : \"ready\";\n    this.overviewRegion = null;\n\n    this.drawer.createWrapper();\n    this.createElements();\n    let isInitialised = false;\n\n    // ws ready event listener\n    this._onShouldRender = () => {\n      // only bind the events in the first run\n      if (!isInitialised) {\n        this.bindWavesurferEvents();\n        this.bindMinimapEvents();\n        isInitialised = true;\n      }\n      // if there is no such element, append it to the container (below\n      // the waveform)\n      if (!document.body.contains(this.params.container)) {\n        ws.container.insertBefore(this.params.container, null);\n      }\n      // how solve this dependency??\n      if (this.wavesurfer.regions && this.params.showRegions) {\n        this.regions();\n      }\n      this.render();\n    };\n\n    this._onAudioprocess = currentTime => {\n      this.drawer.progress(this.wavesurfer.backend.getPlayedPercents());\n    };\n\n    // ws seek event listener\n    this._onSeek = () => this.drawer.progress(ws.backend.getPlayedPercents());\n\n    // event listeners for the overview region\n    this._onScroll = e => {\n      if (!this.draggingOverview) {\n        this.moveOverviewRegion(e.target.scrollLeft / this.ratio);\n      }\n    };\n    this._onMouseover = e => {\n      if (this.draggingOverview) {\n        this.draggingOverview = false;\n      }\n    };\n    let prevWidth = 0;\n    this._onResize = ws.util.debounce(() => {\n      if (prevWidth != this.drawer.wrapper.clientWidth) {\n        prevWidth = this.drawer.wrapper.clientWidth;\n        this.render();\n        this.drawer.progress(this.wavesurfer.backend.getPlayedPercents());\n      }\n    });\n    this._onZoom = e => {\n      this.render();\n    };\n    this.wavesurfer.on(\"zoom\", this._onZoom);\n  }\n\n  init() {\n    if (this.wavesurfer.isReady) {\n      this._onShouldRender();\n    }\n    this.wavesurfer.on(this.renderEvent, this._onShouldRender);\n  }\n\n  destroy() {\n    window.removeEventListener(\"resize\", this._onResize, true);\n    window.removeEventListener(\"orientationchange\", this._onResize, true);\n    this.wavesurfer.drawer.wrapper.removeEventListener(\n      \"mouseover\",\n      this._onMouseover\n    );\n    this.wavesurfer.un(this.renderEvent, this._onShouldRender);\n    this.wavesurfer.un(\"seek\", this._onSeek);\n    this.wavesurfer.un(\"scroll\", this._onScroll);\n    this.wavesurfer.un(\"audioprocess\", this._onAudioprocess);\n    this.wavesurfer.un(\"zoom\", this._onZoom);\n    this.drawer.destroy();\n    this.overviewRegion = null;\n    this.unAll();\n  }\n\n  regions() {\n    this.regions = {};\n\n    this.wavesurfer.on(\"region-created\", region => {\n      this.regions[region.id] = region;\n      this.renderRegions();\n    });\n\n    this.wavesurfer.on(\"region-updated\", region => {\n      this.regions[region.id] = region;\n      this.renderRegions();\n    });\n\n    this.wavesurfer.on(\"region-removed\", region => {\n      delete this.regions[region.id];\n      this.renderRegions();\n    });\n  }\n\n  renderRegions() {\n    const regionElements = this.drawer.wrapper.querySelectorAll(\"region\");\n    let i;\n    for (i = 0; i < regionElements.length; ++i) {\n      this.drawer.wrapper.removeChild(regionElements[i]);\n    }\n\n    Object.keys(this.regions).forEach(id => {\n      const region = this.regions[id];\n      const width =\n        this.getWidth() *\n        ((region.end - region.start) / this.wavesurfer.getDuration());\n      const left =\n        this.getWidth() * (region.start / this.wavesurfer.getDuration());\n      const regionElement = this.util.style(document.createElement(\"region\"), {\n        height: \"inherit\",\n        backgroundColor: region.color,\n        width: width + \"px\",\n        left: left + \"px\",\n        display: \"block\",\n        position: \"absolute\"\n      });\n      regionElement.classList.add(id);\n      this.drawer.wrapper.appendChild(regionElement);\n    });\n  }\n\n  createElements() {\n    this.drawer.createElements();\n    if (this.params.showOverview) {\n      this.overviewRegion = this.util.style(\n        document.createElement(\"overview\"),\n        {\n          top: 0,\n          bottom: 0,\n          width: \"0px\",\n          display: \"block\",\n          position: \"absolute\",\n          cursor: \"move\",\n          border:\n            this.params.overviewBorderSize +\n            \"px solid \" +\n            this.params.overviewBorderColor,\n          zIndex: 2,\n          opacity: this.params.overviewOpacity\n        }\n      );\n      this.drawer.wrapper.appendChild(this.overviewRegion);\n    }\n  }\n\n  bindWavesurferEvents() {\n    window.addEventListener(\"resize\", this._onResize, true);\n    window.addEventListener(\"orientationchange\", this._onResize, true);\n    this.wavesurfer.on(\"audioprocess\", this._onAudioprocess);\n    this.wavesurfer.on(\"seek\", this._onSeek);\n    if (this.params.showOverview) {\n      this.wavesurfer.on(\"scroll\", this._onScroll);\n      this.wavesurfer.drawer.wrapper.addEventListener(\n        \"mouseover\",\n        this._onMouseover\n      );\n    }\n  }\n\n  bindMinimapEvents() {\n    const positionMouseDown = {\n      clientX: 0,\n      clientY: 0\n    };\n    let relativePositionX = 0;\n    let seek = true;\n\n    // the following event listeners will be destroyed by using\n    // this.unAll() and nullifying the DOM node references after\n    // removing them\n    if (this.params.interact) {\n      this.drawer.wrapper.addEventListener(\"click\", event => {\n        this.fireEvent(\"click\", event, this.drawer.handleEvent(event));\n      });\n\n      this.on(\"click\", (event, position) => {\n        if (seek) {\n          this.drawer.progress(position);\n          this.wavesurfer.seekAndCenter(position);\n        } else {\n          seek = true;\n        }\n      });\n    }\n\n    if (this.params.showOverview) {\n      this.overviewRegion.addEventListener(\"mousedown\", event => {\n        this.draggingOverview = true;\n        relativePositionX = event.layerX;\n        positionMouseDown.clientX = event.clientX;\n        positionMouseDown.clientY = event.clientY;\n      });\n\n      this.drawer.wrapper.addEventListener(\"mousemove\", event => {\n        if (this.draggingOverview) {\n          this.moveOverviewRegion(\n            event.clientX -\n              this.drawer.container.getBoundingClientRect().left -\n              relativePositionX\n          );\n        }\n      });\n\n      this.drawer.wrapper.addEventListener(\"mouseup\", event => {\n        if (\n          positionMouseDown.clientX - event.clientX === 0 &&\n          positionMouseDown.clientX - event.clientX === 0\n        ) {\n          seek = true;\n          this.draggingOverview = false;\n        } else if (this.draggingOverview) {\n          seek = false;\n          this.draggingOverview = false;\n        }\n      });\n    }\n  }\n\n  render() {\n    const len = this.drawer.getWidth();\n    const peaks = this.wavesurfer.backend.getPeaks(len, 0, len);\n    this.drawer.drawPeaks(peaks, len, 0, len);\n    this.drawer.progress(this.wavesurfer.backend.getPlayedPercents());\n\n    if (this.params.showOverview) {\n      //get proportional width of overview region considering the respective\n      //width of the drawers\n      this.ratio = this.wavesurfer.drawer.width / this.drawer.width;\n      this.waveShowedWidth = this.wavesurfer.drawer.width / this.ratio;\n      this.waveWidth = this.wavesurfer.drawer.width;\n      this.overviewWidth = this.drawer.container.offsetWidth / this.ratio;\n      this.overviewPosition = 0;\n      this.moveOverviewRegion(\n        this.wavesurfer.drawer.wrapper.scrollLeft / this.ratio\n      );\n      this.overviewRegion.style.width = this.overviewWidth + \"px\";\n    }\n  }\n\n  moveOverviewRegion(pixels) {\n    if (pixels < 0) {\n      this.overviewPosition = 0;\n    } else if (\n      pixels + this.overviewWidth <\n      this.drawer.container.offsetWidth\n    ) {\n      this.overviewPosition = pixels;\n    } else {\n      this.overviewPosition =\n        this.drawer.container.offsetWidth - this.overviewWidth;\n    }\n    this.overviewRegion.style.left = this.overviewPosition + \"px\";\n    if (this.draggingOverview) {\n      this.wavesurfer.drawer.wrapper.scrollLeft =\n        this.overviewPosition * this.ratio;\n    }\n  }\n\n  getWidth() {\n    return this.drawer.width / this.params.pixelRatio;\n  }\n}\n","let TIERS = {};\n/**\n * @typedef {Object} MultilinePluginParams\n * @desc Extends the `WavesurferParams` wavesurfer was initialised with\n * @property {!string|HTMLElement} container CSS selector or HTML element where\n * the multiline should be drawn. This is the only required parameter.\n * @property {number} notchPercentHeight=90 Height of notches in percent\n * that do not have labels\n * @property {string} Color='#000' The color of the main notches\n * @property {string} FontColor='#000' The color of the labels next to\n * the main notches\n * @property {number} labelPadding=5 The padding between the label and the notch\n * @property {?number} zoomDebounce A debounce timeout to increase rendering\n * performance for large files\n * @property {string} fontFamily='Arial'\n * @property {number} fontSize=10 Font size of labels in pixels\n * getDuration() for setting length of multiline\n * @property {function} formatTimeCallback (sec, pxPerSec) -> label\n * @property {?number} offset Offset for the multiline start in seconds. May also be\n * negative.\n * @property {?boolean} deferInit Set to true to manually call\n * `initPlugin('multiline')`\n */\n\n/**\n * Adds a multi annotation tier to the waveform.\n *\n * @implements {PluginClass}\n * @extends {Observer}\n * @example\n * // es6\n * import Multiline from 'wavesurfer.multiline.js';\n *\n * // commonjs\n * var Multiline = require('wavesurfer.multiline.js');\n *\n * // if you are using <script> tags\n * var Multiline = window.WaveSurfer.multiline;\n *\n * // ... initialising wavesurfer with the plugin\n * var wavesurfer = WaveSurfer.create({\n *   // wavesurfer options ...\n *   plugins: [\n *     Multiline.create({\n *       // plugin options ...\n *     })\n *   ]\n * });\n */\nexport default class MultilinePlugin {\n  /**\n   * Multiline plugin definition factory\n   *\n   * This function must be used to create a plugin definition which can be\n   * used by wavesurfer to correctly instantiate the plugin.\n   *\n   * @param  {MultilineParams} params parameters use to initialise the plugin\n   * @return {PluginDefinition} an object representing the plugin\n   */\n  static create(params) {\n    return {\n      name: \"multiline\",\n      deferInit: params && params.deferInit ? params.deferInit : false,\n      params: params,\n      instance: MultilinePlugin\n    };\n  }\n\n  // event handlers\n  /** @private */\n  _onScroll = () => {\n    if (this.wrapper && this.drawer.wrapper) {\n      this.wrapper.scrollLeft = this.drawer.wrapper.scrollLeft;\n    }\n  };\n\n  /**\n   * @private\n   * @returns {void}\n   */\n  _onRedraw = () => this.render();\n\n  /** @private */\n  _onReady = () => {\n    const ws = this.wavesurfer;\n    this.drawer = ws.drawer;\n    this.pixelRatio = ws.drawer.params.pixelRatio;\n    this.isDragging = false;\n    this.draggingItemIdx = null;\n\n    const wsp = ws.params;\n    this.duration = this.wavesurfer.backend.getDuration();\n    const width =\n      wsp.fillParent && !wsp.scrollParent\n        ? this.drawer.getWidth()\n        : this.drawer.wrapper.scrollWidth * wsp.pixelRatio;\n    this.pixelsPerSecond = width / this.duration;\n\n    this.maxCanvasWidth = ws.drawer.maxCanvasWidth || ws.drawer.width;\n    this.maxCanvasElementWidth =\n      ws.drawer.maxCanvasElementWidth ||\n      Math.round(this.maxCanvasWidth / this.pixelRatio);\n\n    // add listeners\n    ws.drawer.wrapper.addEventListener(\"scroll\", this._onScroll);\n    ws.on(\"redraw\", this._onRedraw);\n    ws.on(\"zoom\", this._onZoom);\n    this.render();\n  };\n\n  /**\n   * @private\n   * @param {object} e Click event\n   */\n  _onWrapperClick = e => {\n    e.preventDefault();\n    const relX = \"offsetX\" in e ? e.offsetX : e.layerX;\n    const time = relX / this.pixelsPerSecond;\n    const idx = this.getCurrentItemIndex(time);\n    for (const i in this.items) {\n      this.items[i].color = null;\n      if (i == idx) {\n        if (this.tierType == \"interval\") {\n          this.items[idx].color = this.params.focusColor;\n        } else {\n          this.items[idx].color = this.params.focusPointColor;\n        }\n        this.lastIdx = idx;\n      }\n    }\n    this.updateCanvases();\n    this.updateCanvasesPositioning();\n    this.renderCanvases();\n    this.wavesurfer.seekTo(time / this.duration);\n    const payload = {\n      name: this.name,\n      id: Number(idx),\n      item: this.items[idx]\n    };\n    this.wavesurfer.fireEvent(\"multiline-update-current\", payload);\n  };\n\n  /**\n   * @private\n   * @param {object} e Click event\n   */\n  _onDblClick = e => {\n    e.preventDefault();\n    const relX = \"offsetX\" in e ? e.offsetX : e.layerX;\n    const time = relX / this.pixelsPerSecond;\n    this.addItem({ time: time, text: \"\", color: null });\n  };\n  /**\n   * @private\n   * @param {object} e Mousemove event\n   */\n  _onMouseMove = e => {\n    e.preventDefault();\n    const relX = \"offsetX\" in e ? e.offsetX : e.layerX;\n    const time = relX / this.pixelsPerSecond;\n    if (this.isCollisioned(time)) {\n      if (time.toFixed(this.params.csd) > 0) {\n        document.body.style.cursor = \"col-resize\";\n      }\n      if (this.tierType == \"point\") {\n        this.lastIdx = this.getCurrentItemIndex(time);\n      }\n    } else {\n      if (!this.isDragging) {\n        document.body.style.cursor = \"default\";\n      } else if (this.draggingItemIdx > 0) {\n        this.items[this.draggingItemIdx].time = time;\n        this.items = this.items.sort((a, b) => {\n          return a.time - b.time;\n        });\n        this.wavesurfer.fireEvent(\"multiline-update-tiers\");\n        this.updateCanvases();\n        this.updateCanvasesPositioning();\n        this.renderCanvases();\n      }\n    }\n  };\n\n  /**\n   * @private\n   * @param {object} e Click event\n   */\n  _onMouseUp = e => {\n    e.preventDefault();\n    if (this.isDragging) {\n      this.isDragging = false;\n      document.body.style.cursor = \"default\";\n    }\n  };\n\n  /**\n   * @private\n   * @param {object} e Click event\n   */\n  _onMouseDown = e => {\n    e.preventDefault();\n    const relX = \"offsetX\" in e ? e.offsetX : e.layerX;\n    const time = relX / this.pixelsPerSecond;\n    this.isDragging = false;\n    if (this.isCollisioned(time)) {\n      if (time.toFixed(this.params.csd) > 0) {\n        this.draggingItemIdx = this.getCurrentItemIndex(time);\n        this.isDragging = true;\n      }\n    }\n  };\n\n  /**\n   * @private\n   * @param {object} e Click event\n   */\n  _onMouseOut = e => {\n    e.preventDefault();\n    document.body.style.cursor = \"default\";\n    for (const i in this.items) {\n      this.items[i].color = null;\n    }\n    this.updateCanvases();\n    this.updateCanvasesPositioning();\n    this.renderCanvases();\n    this.wrapper.style.backgroundColor = null;\n  };\n\n  /**\n   * @private\n   * @param {object} e Click event\n   */\n  _onKeyDown = e => {\n    if (e.key != \"Shift\") {\n      e.preventDefault();\n      if (e.key != \"Control\") {\n        if (e.key != \"Alt\") {\n          if (e.key == \"Backspace\") {\n            this._onKeyBackSpace();\n          } else if (e.key == \"Tab\") {\n            this._onTab();\n          }\n          this.onCtrl = false;\n        } else {\n          this.onCtrl = true;\n        }\n      } else {\n        this.onCtrl = true;\n      }\n    }\n  };\n\n  /**\n   * @private\n   * @param {object} e Click event\n   */\n  _onKeyBackSpace = () => {\n    if (this.lastIdx) {\n      if (this.onCtrl === true) {\n        this.deleteItem(this.lastIdx);\n      } else {\n        this.items[this.lastIdx].text = this.items[this.lastIdx].text.slice(\n          0,\n          -1\n        );\n        this.items = this.items.sort((a, b) => {\n          return a.time - b.time;\n        });\n        this.updateCanvases();\n        this.updateCanvasesPositioning();\n        this.renderCanvases();\n        const payload = {\n          name: this.name,\n          id: Number(this.lastIdx),\n          item: this.items[this.lastIdx]\n        };\n        this.wavesurfer.fireEvent(\"multiline-update-tiers\");\n        this.wavesurfer.fireEvent(\"multiline-update-tiers\", payload);\n      }\n    }\n  };\n\n  _onTab = () => {\n    let lastTime;\n    if (this.lastIdx != this.items.length - 1) {\n      lastTime = this.items[this.lastIdx + 1].time;\n    } else {\n      lastTime = this.duration;\n    }\n    if (this.wavesurfer.isPlaying()) {\n      this.wavesurfer.pause();\n    } else {\n      this.wavesurfer.play(this.items[this.lastIdx].time, lastTime);\n      this.fireEvent(\"play\");\n      this.wavesurfer.fireEvent(\"region-play\", this);\n    }\n  };\n\n  /**\n   * Creates an instance of Multiline.\n   *\n   * You probably want to use Multiline.create()\n   *\n   * @param {MultilineParams} params Plugin parameters\n   * @param {object} ws Wavesurfer instance\n   */\n  constructor(params, ws) {\n    /** @private */\n    this.wavesurfer = ws;\n    /** @private */\n    this.util = ws.util;\n\n    /** @private */\n    this.container =\n      \"string\" == typeof params.container\n        ? document.querySelector(params.container)\n        : params.container;\n    if (!this.container) {\n      throw new Error(\"No container for wavesurfer multiline\");\n    } else {\n      this.wavesurfer.getTierNum = () => {\n        return this.container.children.length;\n      };\n      this.wavesurfer.getTiers = () => {\n        const res = [];\n        for (const key in this.tiers) {\n          res.push({\n            name: this.tiers[key].name,\n            tierType: this.tiers[key].tierType,\n            items: this.tiers[key].items\n          });\n        }\n        return res;\n      };\n    }\n\n    /** @private */\n    this.name =\n      \"string\" == typeof params.name ? params.name : String(params.name);\n    if (!this.name) {\n      throw new Error(\"No name for wavesurfer multiline\");\n    }\n\n    /** @private */\n    this.tierType = \"string\" == typeof params.tierType ? params.tierType : null;\n    if (!this.tierType) {\n      throw new Error(\"No tierType for wavesurfer multiline\");\n    }\n    // check tierType\n    if (this.tierType != \"interval\" && this.tierType != \"point\") {\n      throw new Error(`${this.tierType} is not supported tierType`);\n    }\n\n    this.tiers = TIERS;\n    this.tiers[this.name] = this;\n\n    this.items = params.items;\n    this.wavesurfer.fireEvent(\"multiline-update-tiers\");\n\n    /** @private */\n    this.params = this.util.extend(\n      {},\n      {\n        csd: 1, //collisionSignificantDigits\n        height: 50,\n        notchPercentHeight: 90,\n        labelPadding: 5,\n        focusBgColor: \"#CFD8DC\",\n        focusColor: \"#FFE082\",\n        focusPointColor: \"#F44336\",\n        Color: \"#000000\",\n        fontFamily: \"Arial\",\n        fontSize: 10,\n        zoomDebounce: false,\n        formatTimeCallback: this.defaultFormatTimeCallback,\n        offset: 0\n      },\n      params\n    );\n\n    /** @private */\n    this.canvases = [];\n    /** @private */\n    this.wrapper = null;\n    /** @private */\n    this.drawer = null;\n    /** @private */\n    this.pixelRatio = null;\n    /** @private */\n    this.maxCanvasWidth = null;\n    /** @private */\n    this.maxCanvasElementWidth = null;\n    /** @private */\n    this.onCtrl = false;\n    /** @private */\n    this.lastIdx = null;\n    /**\n     * This event handler has to be in the constructor function because it\n     * relies on the debounce function which is only available after\n     * instantiation\n     *\n     * Use a debounced function if `params.zoomDebounce` is defined\n     *\n     * @private\n     * @returns {void}\n     */\n    this._onZoom = this.params.zoomDebounce\n      ? this.wavesurfer.util.debounce(\n          () => this.render(),\n          this.params.zoomDebounce\n        )\n      : () => this.render();\n  }\n\n  /**\n   * Initialisation function used by the plugin API\n   */\n  init() {\n    // Check if ws is ready\n    if (this.wavesurfer.isReady) {\n      this._onReady();\n    } else {\n      this.wavesurfer.once(\"ready\", this._onReady);\n    }\n  }\n\n  /**\n   * Destroy function used by the plugin API\n   */\n  destroy() {\n    this.unAll();\n    this.wavesurfer.un(\"redraw\", this._onRedraw);\n    this.wavesurfer.un(\"zoom\", this._onZoom);\n    this.wavesurfer.un(\"ready\", this._onReady);\n    this.wavesurfer.drawer.wrapper.removeEventListener(\n      \"scroll\",\n      this._onScroll\n    );\n    if (this.wrapper && this.wrapper.parentNode) {\n      this.wrapper.removeEventListener(\"click\", this._onWrapperClick);\n      this.wrapper.parentNode.removeChild(this.wrapper);\n      this.wrapper = null;\n    }\n  }\n  /**\n   * get current item by time\n   * @param {number} time Current time.\n   * @return {Object} an object of this tier.\n   */\n  getCurrentItem(time) {\n    if (this.tierType == \"interval\") {\n      const item = this.items.find(x => {\n        return time.toFixed(this.params.csd) == x.time.toFixed(this.params.csd);\n      });\n      if (item) {\n        return item;\n      } else {\n        const array = this.items.filter(x => {\n          return time >= x.time;\n        });\n        return array.length > 0 ? array[array.length - 1] : undefined;\n      }\n    } else {\n      const array = this.items.map(x => {\n        return {\n          check: Math.abs(x.time - time),\n          item: x\n        };\n      });\n      array.sort((a, b) => {\n        return a.check - b.check;\n      });\n      return array.length > 0 ? array[0].item : undefined;\n    }\n  }\n  getCurrentItemIndex(time) {\n    const item = this.getCurrentItem(time);\n    if (item) {\n      return this.items.findIndex(x => {\n        return x.time == item.time;\n      });\n    }\n    return null;\n  }\n  findItemByTime(time) {\n    return this.items.find(item => {\n      return item.time == time;\n    });\n  }\n  findItemIndexByTime(time) {\n    return this.items.findIndex(item => {\n      return item.time == time;\n    });\n  }\n  addItem(item) {\n    this.items.push(item);\n    this.items = this.items.sort((a, b) => {\n      return a.time - b.time;\n    });\n    this.wavesurfer.fireEvent(\"multiline-update-tiers\");\n    this.updateCanvases();\n    this.updateCanvasesPositioning();\n    this.renderCanvases();\n  }\n  deleteItem(idx) {\n    this.items.splice(idx, 1);\n    this.items = this.items.sort((a, b) => {\n      return a.time - b.time;\n    });\n    this.wavesurfer.fireEvent(\"multiline-update-tiers\");\n    this.updateCanvases();\n    this.updateCanvasesPositioning();\n    this.renderCanvases();\n  }\n  putText(idx, text, isRender = true) {\n    this.items = this.items.sort((a, b) => {\n      a.time - b.time;\n    });\n    this.items[idx].text = text;\n    this.wavesurfer.fireEvent(\"multiline-update-tiers\");\n    if (isRender === true) {\n      this.updateCanvases();\n      this.updateCanvasesPositioning();\n      this.renderCanvases();\n    }\n  }\n  isCollisioned(time) {\n    return this.items.some(x => {\n      return time.toFixed(this.params.csd) == x.time.toFixed(this.params.csd);\n    });\n  }\n  /**\n   * Create a multiline element to wrap the canvases drawn by this plugin\n   *\n   * @private\n   */\n  createWrapper() {\n    const wsParams = this.wavesurfer.params;\n    this.wrapper = this.container.appendChild(\n      document.createElement(`multiline-${this.name}`)\n    );\n    this.util.style(this.wrapper, {\n      display: \"block\",\n      position: \"relative\",\n      userSelect: \"none\",\n      webkitUserSelect: \"none\",\n      height: `${this.params.height}px`\n    });\n    const tiers = this.container.children;\n    if (tiers.length == 1) {\n      this.util.style(this.wrapper, {\n        \"border-top\": \"solid 1px gray\",\n        \"border-bottom\": \"solid 1px gray\"\n      });\n    } else {\n      this.util.style(this.wrapper, {\n        \"border-bottom\": \"solid 1px gray\"\n      });\n    }\n    if (wsParams.fillParent || wsParams.scrollParent) {\n      this.util.style(this.wrapper, {\n        width: \"100%\",\n        overflowX: \"hidden\",\n        overflowY: \"hidden\"\n      });\n    }\n    this.wrapper.addEventListener(\"click\", this._onWrapperClick);\n  }\n\n  /**\n   * Render the multiline (also updates the already rendered multiline)\n   *\n   * @private\n   */\n  render() {\n    if (!this.wrapper) {\n      this.createWrapper();\n    }\n    this.updateCanvases();\n    this.updateCanvasesPositioning();\n    this.renderCanvases();\n  }\n\n  /**\n   * Add new multiline canvas\n   *\n   * @private\n   */\n  addCanvas() {\n    const canvas = this.wrapper.appendChild(document.createElement(\"canvas\"));\n    canvas.addEventListener(\"dblclick\", this._onDblClick, false);\n    canvas.addEventListener(\"mousemove\", this._onMouseMove, false);\n    canvas.addEventListener(\"mousedown\", this._onMouseDown, false);\n    canvas.addEventListener(\"mouseup\", this._onMouseUp, false);\n    canvas.addEventListener(\n      \"mouseover\",\n      () => {\n        canvas.focus();\n        this.wrapper.style.backgroundColor = this.params.focusBgColor;\n      },\n      false\n    );\n    canvas.addEventListener(\"mouseout\", this._onMouseOut, false);\n    canvas.addEventListener(\"keydown\", this._onKeyDown, false);\n    canvas.setAttribute(\"tabindex\", 0);\n\n    this.canvases.push(canvas);\n    this.util.style(canvas, {\n      position: \"absolute\",\n      zIndex: 4\n    });\n  }\n\n  /**\n   * Remove multiline canvas\n   *\n   * @private\n   */\n  removeCanvas() {\n    const canvas = this.canvases.pop();\n    canvas.parentElement.removeChild(canvas);\n  }\n\n  /**\n   * Make sure the correct of multiline canvas elements exist and are cached in\n   * this.canvases\n   *\n   * @private\n   */\n  updateCanvases() {\n    const totalWidth = Math.round(this.drawer.wrapper.scrollWidth);\n    const requiredCanvases = Math.ceil(totalWidth / this.maxCanvasElementWidth);\n    while (this.canvases.length < requiredCanvases) {\n      this.addCanvas();\n    }\n    while (this.canvases.length > requiredCanvases) {\n      this.removeCanvas();\n    }\n  }\n\n  /**\n   * Update the dimensions and positioning style for all the multiline canvases\n   *\n   * @private\n   */\n  updateCanvasesPositioning() {\n    // cache length for performance\n    const canvasesLength = this.canvases.length;\n    this.canvases.forEach((canvas, i) => {\n      // canvas width is the max element width, or if it is the last the\n      // required width\n      const canvasWidth =\n        i === canvasesLength - 1\n          ? this.drawer.wrapper.scrollWidth -\n            this.maxCanvasElementWidth * (canvasesLength - 1)\n          : this.maxCanvasElementWidth;\n      // set dimensions and style\n      canvas.width = canvasWidth * this.pixelRatio;\n      // on certain pixel ratios the canvas appears cut off at the bottom,\n      // therefore leave 1px extra\n      canvas.height = (this.params.height + 1) * this.pixelRatio;\n      this.util.style(canvas, {\n        width: `${canvasWidth}px`,\n        height: `${this.params.height}px`,\n        left: `${i * this.maxCanvasElementWidth}px`\n      });\n    });\n  }\n\n  /**\n   * Render the multiline labels and notches\n   *\n   * @private\n   */\n  renderCanvases() {\n    if (this.duration <= 0) {\n      return;\n    }\n    const wsParams = this.wavesurfer.params;\n    const width =\n      wsParams.fillParent && !wsParams.scrollParent\n        ? this.drawer.getWidth()\n        : this.drawer.wrapper.scrollWidth * wsParams.pixelRatio;\n    const height = this.params.height * this.pixelRatio;\n    const fontSize = this.params.fontSize * wsParams.pixelRatio;\n\n    this.setFillStyles(this.params.Color);\n    this.setFonts(`${fontSize}px ${this.params.fontFamily}`);\n\n    // render items\n    this.fillLine(0, 0, 1, height);\n    this.items.forEach((item, i) => {\n      const curPixel = this.pixelsPerSecond * item.time;\n      if (this.tierType == \"interval\") {\n        if (item.color) {\n          let rectDuration;\n          if (i < this.items.length - 1) {\n            rectDuration = this.items[i + 1].time - item.time;\n          } else {\n            rectDuration = this.duration - item.time;\n          }\n          const rectWidth = rectDuration * this.pixelsPerSecond;\n          this.fillRect(curPixel, 0, rectWidth, height, item.color);\n        }\n        this.fillLine(curPixel, 0, 1, height);\n        this.fillText(item.text, curPixel, height / 2, fontSize);\n      } else {\n        if (item.text) {\n          if (item.color) {\n            this.fillText(\n              item.text,\n              curPixel,\n              height / 2,\n              fontSize,\n              item.color\n            );\n            this.fillLine(curPixel, 0, 3, height / 4, item.color);\n          } else {\n            this.fillText(item.text, curPixel, height / 2, fontSize);\n            this.fillLine(curPixel, 0, 1, height / 4);\n          }\n        } else {\n          if (item.color) {\n            this.fillLine(curPixel, 0, 3, height, item.color);\n          } else {\n            this.fillLine(curPixel, 0, 1, height);\n          }\n        }\n      }\n    });\n    this.fillLine(width, 0, 1, height);\n  }\n\n  /**\n   * Set the canvas fill style\n   *\n   * @param {DOMString|CanvasGradient|CanvasPattern} fillStyle Fill style to\n   * use\n   * @private\n   */\n  setFillStyles(fillStyle) {\n    this.canvases.forEach(canvas => {\n      canvas.getContext(\"2d\").fillStyle = fillStyle;\n    });\n  }\n\n  getFillStyles() {\n    this.canvases.forEach(canvas => {\n      return canvas.getContext(\"2d\").fillStyle;\n    });\n  }\n\n  /**\n   * Set the canvas font\n   *\n   * @param {DOMString} font Font to use\n   * @private\n   */\n  setFonts(font) {\n    this.canvases.forEach(canvas => {\n      canvas.getContext(\"2d\").font = font;\n    });\n  }\n\n  fillRect(x, y, width, height, color) {\n    this.setFillStyles(color);\n    this.canvases.forEach((canvas, i) => {\n      const leftOffset = i * this.maxCanvasWidth;\n      const intersection = {\n        x: Math.max(x, i * this.maxCanvasWidth),\n        y2: y + height\n      };\n      canvas\n        .getContext(\"2d\")\n        .fillRect(intersection.x - leftOffset, y, width, intersection.y2 - y);\n    });\n    this.setFillStyles(this.params.Color);\n  }\n  /**\n   * Draw a rectangle on the canvases\n   *\n   * (it figures out the offset for each canvas)\n   *\n   * @param {number} x X-position\n   * @param {number} y Y-position\n   * @param {number} width Width\n   * @param {number} height Height\n   * @private\n   */\n  fillLine(x, y, width, height, color) {\n    this.setFillStyles(color);\n    this.canvases.forEach((canvas, i) => {\n      const leftOffset = i * this.maxCanvasWidth;\n      const intersection = {\n        x1: Math.max(x, i * this.maxCanvasWidth),\n        y1: y,\n        x2: Math.min(x + width, i * this.maxCanvasWidth + canvas.width),\n        y2: y + height\n      };\n      if (intersection.x1 < intersection.x2) {\n        canvas\n          .getContext(\"2d\")\n          .fillRect(\n            intersection.x1 - leftOffset,\n            intersection.y1,\n            intersection.x2 - intersection.x1,\n            intersection.y2 - intersection.y1\n          );\n      } else {\n        canvas\n          .getContext(\"2d\")\n          .fillRect(\n            intersection.x1 - 1 - leftOffset,\n            intersection.y1,\n            1,\n            intersection.y2 - intersection.y1\n          );\n      }\n    });\n    this.setFillStyles(this.params.Color);\n  }\n\n  /**\n   * Fill a given text on the canvases\n   *\n   * @param {string} text Text to render\n   * @param {number} x X-position\n   * @param {number} y Y-position\n   * @param {number} fs fontSize\n   * @private\n   */\n  fillText(text, x, y, fs, color) {\n    this.setFillStyles(color);\n    let textWidth;\n    let xOffset = 0;\n    this.canvases.forEach(canvas => {\n      const context = canvas.getContext(\"2d\");\n      const canvasWidth = context.canvas.width;\n      if (xOffset > x + textWidth) {\n        return;\n      }\n      if (xOffset + canvasWidth > x) {\n        textWidth = context.measureText(text).width;\n        let _x = x - textWidth / 2;\n        if (this.tierType == \"interval\") {\n          _x = x + fs / 2;\n        }\n        const _y = y + fs / 2;\n        context.fillText(text, _x - xOffset, _y);\n      }\n      xOffset += canvasWidth;\n      this.setFillStyles(this.params.Color);\n    });\n  }\n}\n","<template>\n  <v-container v-resize=\"onResize\" fluid class=\"pa-0 movie-annotaion\">\n    <m-tool-bar v-if=\"item\" :file-name=\"item.name\" :menu-funcs=\"menuFuncs\">\n      <template v-slot:setting>\n        <m-setting-menu :menuFuncs=\"menuFuncs\" />\n      </template>\n    </m-tool-bar>\n    <v-card :color=\"background\">\n      <v-container v-if=\"item\">\n        <v-row>\n          <v-col class=\"flex-grow-1 flex-shrink-1\">\n            <v-card ref=\"videoCard\" flat :color=\"background\">\n              <v-container fluid class=\"pa-0\">\n                <v-row class=\"py-0\">\n                  <v-col cols=\"4\" class=\"py-0\">\n                    <v-card flat :color=\"background\">\n                      <v-system-bar dark color=\"accent\">\n                        {{ frameOffset }}\n                      </v-system-bar>\n                      <video\n                        v-if=\"item.dataUrl\"\n                        muted\n                        ref=\"videoPre\"\n                        :style=\"videoStyle\"\n                        :src=\"item.dataUrl\"\n                      />\n                    </v-card>\n                  </v-col>\n                  <v-col cols=\"4\" class=\"py-0\">\n                    <v-card flat :color=\"background\">\n                      <v-system-bar dark color=\"accent\">\n                        \n                      </v-system-bar>\n                      <video\n                        v-if=\"item.dataUrl\"\n                        ref=\"video\"\n                        :style=\"videoStyle\"\n                        :src=\"item.dataUrl\"\n                      />\n                    </v-card>\n                  </v-col>\n                  <v-col cols=\"4\" class=\"py-0\">\n                    <v-card flat :color=\"background\">\n                      <v-system-bar dark color=\"accent\">\n                        {{ frameOffset }}\n                      </v-system-bar>\n                      <video\n                        muted\n                        v-if=\"item.dataUrl\"\n                        ref=\"videoPos\"\n                        :style=\"videoStyle\"\n                        :src=\"item.dataUrl\"\n                      />\n                    </v-card>\n                  </v-col>\n                </v-row>\n              </v-container>\n              <v-card>\n                <v-card-actions>\n                  <v-btn icon>\n                    <v-icon>mdi-skip-previous</v-icon>\n                  </v-btn>\n                  <v-btn icon>\n                    <v-icon>mdi-skip-backward</v-icon>\n                  </v-btn>\n                  <v-spacer></v-spacer>\n                  <v-btn fab dark small color=\"accent\" @click=\"play\">\n                    <v-icon> mdi-play </v-icon>\n                  </v-btn>\n                  <v-btn fab dark small color=\"accent\" @click=\"pause\">\n                    <v-icon> mdi-pause </v-icon>\n                  </v-btn>\n                  <v-spacer></v-spacer>\n                  <v-btn icon>\n                    <v-icon>mdi-skip-next</v-icon>\n                  </v-btn>\n                  <v-btn icon>\n                    <v-icon>mdi-skip-forward</v-icon>\n                  </v-btn>\n                </v-card-actions>\n              </v-card>\n            </v-card>\n          </v-col>\n          <v-col cols=\"5\" class=\"flex-grow-1 flex-shrink-1 d-none d-sm-flex\">\n            <m-tier-list\n              v-if=\"tiers\"\n              :items=\"tiers\"\n              :ws=\"ws\"\n              :max-height=\"videoHeight\"\n            />\n          </v-col>\n        </v-row>\n        <v-progress-linear\n          v-if=\"isLoading\"\n          color=\"accent\"\n          height=\"10\"\n          indeterminate\n        />\n        <v-card>\n          <v-card id=\"wave-spectrogram\" />\n          <v-card id=\"wave-timeline\" />\n          <v-text-field\n            @input=\"onChangeText\"\n            @keydown.enter=\"onEnterText\"\n            ref=\"textField\"\n            v-model=\"text\"\n            label=\"Text\"\n            hide-details\n            solo\n            dense\n          />\n          <v-card id=\"wave-multiline\" />\n          <v-card id=\"waveform\" />\n          <v-card id=\"wave-minimap\" />\n        </v-card>\n      </v-container>\n    </v-card>\n    <v-card v-if=\"debug\">\n      <v-container v-if=\"item\">\n        <pre>{{ tiers }}</pre>\n      </v-container>\n    </v-card>\n  </v-container>\n</template>\n\n<script>\nimport File from \"@/models/file.js\";\nimport colors from \"vuetify/lib/util/colors\";\nimport MToolBar from \"@/components/MovieAnnotaion/MToolBar.vue\";\nimport MSettingMenu from \"@/components/MovieAnnotaion/MSettingMenu.vue\";\nimport MTierList from \"@/components/MovieAnnotaion/MTierList.vue\";\nimport WaveSurfer from \"@/components/wavesurfer/wavesurfer.js\";\nimport SpectrogramPlugin from \"@/components/wavesurfer/plugin/spectrogram.js\";\nimport TimelinePlugin from \"@/components/wavesurfer/plugin/timeline.js\";\nimport MinimapPlugin from \"@/components/wavesurfer/plugin/minimap.js\";\nimport MultilinePlugin from \"@/components/wavesurfer/plugin/multiline.js\";\n\nexport default {\n  name: \"MovieAnnotaion\",\n  components: {\n    MToolBar,\n    MTierList,\n    MSettingMenu\n  },\n  data: () => ({\n    debug: false,\n    ws: null,\n    isLoading: true,\n    background: \"grey lighten-3\",\n    frameOffset: 1,\n    text: \"\",\n    currentTier: null,\n    currentIdx: null,\n    menuFuncs: [],\n    tiers: [\n      {\n        name: \"Interval\",\n        tierType: \"interval\",\n        items: []\n      },\n      {\n        name: \"Point\",\n        tierType: \"point\",\n        items: []\n      }\n    ],\n    videoHeight: 0,\n    videoStyle: {\n      width: \"100%\",\n      height: \"auto\"\n    },\n    options: {\n      waveColor: colors.grey.base,\n      progressColor: colors.grey.darken4,\n      loaderColor: colors.grey.darken4,\n      cursorColor: colors.teal.base,\n      minPxPerSec: 100,\n      height: 70,\n      scrollParent: true,\n      normalize: true\n    }\n  }),\n  computed: {\n    item: {\n      get: function() {\n        return File.find(this.$route.params.id);\n      },\n      set: function(payload) {\n        File.update({\n          where: this.$route.params.id,\n          data: payload\n        });\n      }\n    },\n    debugItem: function() {\n      const data = {};\n      data.item = this.item;\n      data.isLoading = this.isLoading;\n      return data;\n    },\n    frameRate: function() {\n      return 1 / this.item.fps;\n    }\n  },\n  watch: {\n    \"item.dataUrl\": function() {\n      this.$nextTick(() => {\n        // this.initWs();\n        this.load();\n      });\n    }\n  },\n  methods: {\n    // \n    log: function(tag, msg) {\n      if (this.debug) {\n        console.info(tag, msg);\n      }\n    },\n    // \n    load() {\n      const tag = `${this.$options.name}:load`;\n      const elm = this.$refs.video;\n      if (this.$refs.video) {\n        if (this.ws) {\n          this.ws.load(elm);\n        } else {\n          this.log(tag, \"no ws\");\n        }\n      } else {\n        this.log(tag, \"no video\");\n      }\n    },\n    initWs() {\n      const tag = `${this.$options.name}:initWs`;\n      if (this.ws) {\n        this.log(tag, \"destroy:ws\");\n        this.ws.destroy();\n        this.ws = null;\n      }\n      this.log(tag, \"init:ws\");\n      const options = this.options;\n      options.container = \"#waveform\";\n      options.backend = \"MediaElement\";\n      options.plugins = [\n        SpectrogramPlugin.create({\n          container: \"#wave-spectrogram\",\n          labels: true\n        }),\n        TimelinePlugin.create({\n          container: \"#wave-timeline\"\n        }),\n        MinimapPlugin.create({\n          container: \"#wave-minimap\",\n          height: 20\n        })\n      ];\n      this.ws = WaveSurfer.create(options);\n      for (const i in this.tiers) {\n        const tier = MultilinePlugin.create({\n          container: \"#wave-multiline\",\n          name: this.tiers[i].name,\n          tierType: this.tiers[i].tierType,\n          items: this.tiers[i].items\n        });\n        this.ws.addPlugin(tier).initPlugin(\"multiline\");\n      }\n      this.ws.on(\"interaction\", this.syncVideos);\n      this.ws.on(\"ready\", this.onRedy);\n      this.ws.on(\"destroy\", this.onDestroy);\n      this.ws.on(\"error\", this.onError);\n      this.ws.on(\"multiline-update-current\", this.onUpdateMultiline);\n    },\n    setVideoHeight() {\n      const tag = `${this.$options.name}:setVideoHeight`;\n      this.$nextTick(() => {\n        const el = this.$refs.videoCard ? this.$refs.videoCard.$el : null;\n        if (el) {\n          this.videoHeight = el.clientHeight;\n        }\n        this.log(tag, this.videoHeight);\n      });\n    },\n    addTier(name, type) {\n      this.tiers.push({\n        name: name,\n        tierType: type,\n        items: []\n      });\n      const tier = MultilinePlugin.create({\n        name: this.tiers[this.tiers.length - 1].name,\n        container: \"#wave-multiline\",\n        tierType: this.tiers[this.tiers.length - 1].tierType,\n        items: this.tiers[this.tiers.length - 1].items\n      });\n      this.ws.addPlugin(tier).initPlugin(\"multiline\");\n    },\n    // \n    play: function() {\n      this.syncVideos();\n      this.$refs.videoPre.play();\n      this.$refs.videoPos.play();\n      this.ws.play();\n    },\n    pause: function() {\n      this.$refs.videoPre.pause();\n      this.$refs.videoPos.pause();\n      this.ws.pause();\n      this.syncVideos();\n    },\n    // \n    syncVideos: function() {\n      const tag = `${this.$options.name}:syncVideos`;\n      const currentTime = this.getCurrentTime();\n      const offsetTime = this.frameOffset * this.frameRate;\n      this.log(tag, currentTime);\n      if (currentTime - offsetTime > 0) {\n        const time = currentTime - offsetTime;\n        this.$refs.videoPre.currentTime = time;\n      } else {\n        this.$refs.videoPre.currentTime = 0;\n        this.log(\n          tag + \"video-pre: setCurrentTime\",\n          `${currentTime - offsetTime} is less than 0`\n        );\n      }\n      if (offsetTime + currentTime < this.getDuration()) {\n        this.log(tag, \"video-pos: setCurrentTime\");\n        const time = currentTime + offsetTime;\n        this.$refs.videoPos.currentTime = time;\n      } else {\n        this.$refs.videoPos.currentTime = this.getDuration();\n        this.log(\n          tag + \"video-pos: setCurrentTime\",\n          `${currentTime + offsetTime} is more than ${this.getDuration()}`\n        );\n      }\n    },\n    // \n    getCurrentTime: function() {\n      return this.ws.getCurrentTime();\n    },\n    getDuration: function() {\n      return this.ws.getDuration();\n    },\n    // \n    onChangeText: function(val) {\n      if (this.currentTier) {\n        this.currentTier.putText(this.currentIdx, val);\n      }\n    },\n    onEnterText: function(e) {\n      if (this.currentTier) {\n        this.currentTier.putText(this.currentIdx, e.target.value);\n      }\n    },\n    onRedy() {\n      // \n      const tag = `${this.$options.name}:onRedy`;\n      const vm = this;\n      this.setVideoHeight();\n      this.menuFuncs = [\n        {\n          title: \"Add Interval Tier\",\n          callback: () => {\n            const num = vm.ws.getTierNum();\n            vm.addTier(`tier-${num + 1}`, \"interval\");\n          }\n        },\n        {\n          title: \"Add Point Tier\",\n          callback: () => {\n            const num = vm.ws.getTierNum();\n            vm.addTier(`tier-${num + 1}`, \"point\");\n          }\n        }\n      ];\n      this.log(tag);\n      this.isLoading = false;\n    },\n    onDestroy(val) {\n      const tag = `${this.$options.name}:onDestroy`;\n      this.log(tag, val);\n    },\n    onError(val) {\n      const tag = `${this.$options.name}:onError`;\n      this.log(tag, val);\n    },\n    onUpdateFiler(payload) {\n      const tag = `${this.$options.name}:onUpdateFiler`;\n      this.log(tag, payload);\n      this.ws.backend.setFilters(payload);\n    },\n    onUpdateMultiline(payload) {\n      if (payload.item) {\n        this.text = payload.item.text;\n        this.currentTier = this.ws.multiline.tiers[payload.name];\n        this.currentIdx = payload.id;\n        this.$refs.textField.focus();\n      }\n    },\n    onResize() {\n      this.setVideoHeight();\n    }\n  },\n  mounted: function() {\n    const tag = `${this.$options.name}:mounted`;\n    this.log(tag);\n    if (!this.item) {\n      this.$router.push({ name: \"Home\" });\n    } else {\n      this.initWs();\n      this.load();\n    }\n    this.$nextTick(() => {});\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MovieAnnotation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MovieAnnotation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MovieAnnotation.vue?vue&type=template&id=91cdf72a&\"\nimport script from \"./MovieAnnotation.vue?vue&type=script&lang=js&\"\nexport * from \"./MovieAnnotation.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VProgressLinear } from 'vuetify/lib/components/VProgressLinear';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSystemBar } from 'vuetify/lib/components/VSystemBar';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCol,VContainer,VIcon,VProgressLinear,VRow,VSpacer,VSystemBar,VTextField})\n\n\n/* vuetify-loader */\nimport installDirectives from \"!../../node_modules/vuetify-loader/lib/runtime/installDirectives.js\"\nimport Resize from 'vuetify/lib/directives/resize'\ninstallDirectives(component, {Resize})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"image-annotation\"},[_c('h1',[_vm._v(\"This is an image-annotation page\")]),_c('p',[_vm._v(\"id is \"+_vm._s(_vm.id))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"image-annotation\">\n    <h1>This is an image-annotation page</h1>\n    <p>id is {{ id }}</p>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\n// import HelloWorld from \"@/components/HelloWorld.vue\";\nexport default {\n  name: \"ImageAnnotaion\",\n  props: {\n    id: {\n      type: String,\n      required: true\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageAnnotation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageAnnotation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImageAnnotation.vue?vue&type=template&id=c76ae576&\"\nimport script from \"./ImageAnnotation.vue?vue&type=script&lang=js&\"\nexport * from \"./ImageAnnotation.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"component-debug\"},[_c('h1',[_vm._v(\"Debug components\")]),_c('v-card',{staticClass:\"mx-auto\"},[_c('v-toolbar',{attrs:{\"color\":\"primary\",\"dark\":\"\"}},[_c('v-toolbar-title',[_vm._v(\"\")]),_c('v-spacer'),(_vm.video.name && _vm.video.fps)?_c('v-toolbar-title',[_vm._v(\" \"+_vm._s(_vm.video.name)+\" (\"+_vm._s(_vm.video.fps)+\") \")]):_vm._e()],1),_c('v-container',[_c('m-movie-input',{model:{value:(_vm.video),callback:function ($$v) {_vm.video=$$v},expression:\"video\"}}),_c('v-card',{staticClass:\"mx-auto\"},[_c('v-toolbar',{attrs:{\"color\":\"blue-grey\",\"dark\":\"\"}},[_c('v-toolbar-title',[_vm._v(\" Open CV DEMO \")]),_c('v-spacer'),_c('v-menu',{attrs:{\"bottom\":\"\",\"left\":\"\",\"close-on-content-click\":false},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"icon\":\"\"}},on),[_c('v-icon',[_vm._v(\"mdi-cog\")])],1)]}}]),model:{value:(_vm.conf.show),callback:function ($$v) {_vm.$set(_vm.conf, \"show\", $$v)},expression:\"conf.show\"}},[_c('v-list',{attrs:{\"subheader\":\"\"}},[_c('v-subheader',[_vm._v(\" background-subtractor \")]),_c('v-list-item',[_c('v-list-item-title',[_c('v-text-field',{attrs:{\"label\":\"history\"},model:{value:(_vm.conf.bs.history),callback:function ($$v) {_vm.$set(_vm.conf.bs, \"history\", $$v)},expression:\"conf.bs.history\"}})],1)],1),_c('v-list-item',[_c('v-list-item-title',[_c('v-text-field',{attrs:{\"label\":\"threshold\"},model:{value:(_vm.conf.bs.threshold),callback:function ($$v) {_vm.$set(_vm.conf.bs, \"threshold\", $$v)},expression:\"conf.bs.threshold\"}})],1)],1),_c('v-list-item',[_c('v-list-item-title',[_c('v-switch',{attrs:{\"label\":\"detectShadows\"},model:{value:(_vm.conf.bs.detectShadows),callback:function ($$v) {_vm.$set(_vm.conf.bs, \"detectShadows\", $$v)},expression:\"conf.bs.detectShadows\"}})],1)],1)],1)],1)],1),(_vm.video.dataUrl && _vm.video.file)?_c('v-container',[_c('v-row',[_c('v-card',{staticClass:\"ma-1\"},[_c('v-system-bar',{attrs:{\"dark\":\"\",\"color\":\"primary\"}},[_c('span',[_vm._v(\"origin\")])]),_c('video',{ref:\"video\",attrs:{\"width\":_vm.video.size.width,\"height\":_vm.video.size.height,\"src\":_vm.video.dataUrl}})],1),_c('v-card',{staticClass:\"ma-1\"},[_c('v-system-bar',{attrs:{\"dark\":\"\",\"color\":\"primary\"}},[_c('span',[_vm._v(\"background-subtractor\")])]),_c('background-subtractor',{ref:\"backgroundSubtractor\",attrs:{\"dataUrl\":_vm.video.dataUrl,\"fps\":_vm.video.fps,\"width\":_vm.video.size.width,\"height\":_vm.video.size.height,\"history\":Number(_vm.conf.bs.history),\"threshold\":Number(_vm.conf.bs.threshold),\"detectShadows\":_vm.conf.bs.detectShadows}})],1),_c('v-card',{staticClass:\"ma-1\"},[_c('v-system-bar',{attrs:{\"dark\":\"\",\"color\":\"primary\"}},[_c('span',[_vm._v(\"optical-flow\")])]),_c('optical-flow',{ref:\"opticalFlow\",attrs:{\"dataUrl\":_vm.video.dataUrl,\"fps\":_vm.video.fps,\"width\":_vm.video.size.width,\"height\":_vm.video.size.height}})],1),_c('v-card',{staticClass:\"ma-1\"},[_c('v-system-bar',{attrs:{\"dark\":\"\",\"color\":\"primary\"}},[_c('span',[_vm._v(\"mean-shift\")])]),_c('mean-shift',{ref:\"meanShift\",attrs:{\"dataUrl\":_vm.video.dataUrl,\"fps\":_vm.video.fps,\"width\":_vm.video.size.width,\"height\":_vm.video.size.height}})],1)],1)],1):_vm._e()],1)],1),_c('v-card-actions',[_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.prev}},[_vm._v(\" prev \")]),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.play}},[_vm._v(\"Play\")]),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.pause}},[_vm._v(\" Pause \")]),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.next}},[_vm._v(\"next\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"background-subtractor\"},[_c('video',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],ref:\"video\",attrs:{\"width\":_vm.width,\"height\":_vm.height,\"muted\":\"\",\"src\":_vm.dataUrl},domProps:{\"muted\":true},on:{\"timeupdate\":_vm.onTimeupdate,\"loadeddata\":_vm.onLoadeddata}}),_c('canvas',{ref:\"canvas\",staticStyle:{\"border\":\"1px solid #000000\"},attrs:{\"width\":_vm.width,\"height\":_vm.height}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import colors from \"vuetify/lib/util/colors\";\n\nconst getCode = text => {\n  const args = text.split(\" \");\n  if (args.length == 1) {\n    return colors[args[0]].base;\n  } else {\n    return colors[args[0]][args[1].replace(\"-\", \"\")];\n  }\n};\n\nconst css2rgb = code => {\n  if (code.length !== 7) {\n    return \"rgb(255,255,255)\";\n  } else {\n    if (code.split(\"\")[0] === \"#\") {\n      code = code.substring(1);\n    }\n    if (code.length === 3) {\n      var codeArr = code.split(\"\");\n      code =\n        codeArr[0] +\n        codeArr[0] +\n        codeArr[1] +\n        codeArr[1] +\n        codeArr[2] +\n        codeArr[2];\n    }\n    const r = parseInt(code.substring(0, 2), 16);\n    const g = parseInt(code.substring(2, 4), 16);\n    const b = parseInt(code.substring(4, 6), 16);\n    return `rgb(${r},${g},${b})`;\n  }\n};\n\nconst getRgb = text => {\n  const code = getCode(text);\n  if (code) {\n    return css2rgb(code);\n  }\n};\n\nexport default {\n  getCode: getCode,\n  getRgb: getRgb,\n  css2rgb: css2rgb\n};\n","<template>\n  <div class=\"background-subtractor\">\n    <video\n      v-show=\"false\"\n      ref=\"video\"\n      :width=\"width\"\n      :height=\"height\"\n      muted\n      :src=\"dataUrl\"\n      v-on:timeupdate=\"onTimeupdate\"\n      v-on:loadeddata=\"onLoadeddata\"\n    />\n    <canvas\n      ref=\"canvas\"\n      :width=\"width\"\n      :height=\"height\"\n      style=\"border:1px solid #000000;\"\n    />\n  </div>\n</template>\n\n<script>\nimport ColorUtil from \"@/utils/color.js\";\nexport default {\n  name: \"BackgroundSubtractor\",\n  props: {\n    dataUrl: {\n      type: String,\n      require: true\n    },\n    fps: {\n      type: Number,\n      require: true\n    },\n    width: {\n      type: Number,\n      require: true\n    },\n    height: {\n      type: Number,\n      require: true\n    },\n    history: {\n      type: Number,\n      default: 50\n    },\n    threshold: {\n      type: Number,\n      default: 16\n    },\n    detectShadows: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data: () => ({\n    cap: null,\n    video: null,\n    frame: null,\n    fgmask: null\n  }),\n  computed: {\n    fgbg: function() {\n      const tag = `${this.$options.name}:computed:fgbg`;\n      console.info(tag);\n      return new cv.BackgroundSubtractorMOG2(\n        this.history,\n        this.threshold,\n        this.detectShadows\n      );\n    }\n  },\n  methods: {\n    onLoadeddata: function() {\n      const tag = `${this.$options.name}:onLoadeddata`;\n      this.setCurrentTime(1 / this.fps);\n      try {\n        const canvas = this.$refs.canvas;\n        const ctx = canvas.getContext(\"2d\");\n        ctx.fillStyle = ColorUtil.getRgb(\"grey\");\n        ctx.fillRect(0, 0, this.width, this.height);\n        this.cap.read(this.frame);\n        cv.imshow(this.$refs.canvas, this.frame);\n        console.info(tag);\n      } catch (err) {\n        console.error(tag, err);\n      }\n    },\n    onTimeupdate: function() {\n      const tag = `${this.$options.name}:onTimeupdate`;\n      try {\n        this.cap.read(this.frame);\n        this.fgbg.apply(this.frame, this.fgmask);\n        cv.imshow(this.$refs.canvas, this.fgmask);\n      } catch (err) {\n        console.error(tag, err);\n      }\n    },\n    play: function() {\n      this.video.play();\n    },\n    pause: function() {\n      this.video.pause();\n    },\n    setCurrentTime: function(time) {\n      const tag = `${this.$options.name}:setCurrentTime`;\n      if (time > 0 && time < this.video.duration) {\n        this.video.currentTime = time;\n        console.info(tag, this.video.currentTime);\n      } else {\n        console.error(tag, this.video.currentTime);\n      }\n    }\n  },\n  mounted: function() {\n    this.video = this.$refs.video;\n    this.cap = new cv.VideoCapture(this.video);\n    this.frame = new cv.Mat(this.height, this.width, cv.CV_8UC4);\n    this.fgmask = new cv.Mat(this.height, this.width, cv.CV_8UC1);\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BackgroundSubtractor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BackgroundSubtractor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BackgroundSubtractor.vue?vue&type=template&id=4af4b77c&\"\nimport script from \"./BackgroundSubtractor.vue?vue&type=script&lang=js&\"\nexport * from \"./BackgroundSubtractor.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"optical-flow\"},[_c('video',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],ref:\"video\",attrs:{\"width\":_vm.width,\"height\":_vm.height,\"muted\":\"\",\"src\":_vm.dataUrl},domProps:{\"muted\":true},on:{\"timeupdate\":_vm.onTimeupdate,\"loadeddata\":_vm.onLoadeddata}}),_c('canvas',{ref:\"canvas\",staticStyle:{\"border\":\"1px solid #000000\"},attrs:{\"width\":_vm.width,\"height\":_vm.height}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"optical-flow\">\n    <video\n      v-show=\"false\"\n      ref=\"video\"\n      :width=\"width\"\n      :height=\"height\"\n      muted\n      :src=\"dataUrl\"\n      v-on:timeupdate=\"onTimeupdate\"\n      v-on:loadeddata=\"onLoadeddata\"\n    />\n    <canvas\n      ref=\"canvas\"\n      :width=\"width\"\n      :height=\"height\"\n      style=\"border:1px solid #000000;\"\n    />\n  </div>\n</template>\n\n<script>\n// import ColorUtil from \"@/utils/color.js\";\nexport default {\n  name: \"OpticalFlow\",\n  props: {\n    dataUrl: {\n      type: String,\n      require: true\n    },\n    fps: {\n      type: Number,\n      require: true\n    },\n    width: {\n      type: Number,\n      require: true\n    },\n    height: {\n      type: Number,\n      require: true\n    }\n  },\n  data: () => ({\n    video: null,\n    cap: null,\n    frame2: null,\n    next: null,\n    prvs: null,\n    flow: null,\n    flowVec: null,\n    ang: null,\n    mag: null,\n    hsv0: null,\n    hsv: null,\n    hsv2: null,\n    hsvVec: null,\n    rgb: null\n  }),\n  computed: {},\n  methods: {\n    onLoadeddata: function() {\n      const tag = `${this.$options.name}:onLoadeddata`;\n      this.cap.read(this.frame2);\n      cv.imshow(this.$refs.canvas, this.frame2);\n      console.log(tag);\n    },\n    onTimeupdate: function() {\n      const tag = `${this.$options.name}:onTimeupdate`;\n      try {\n        // start processing.\n        this.cap.read(this.frame2);\n        cv.cvtColor(this.frame2, this.next, cv.COLOR_RGBA2GRAY);\n        cv.calcOpticalFlowFarneback(\n          this.prvs,\n          this.next,\n          this.flow,\n          0.5,\n          3,\n          15,\n          3,\n          5,\n          1.2,\n          0\n        );\n        cv.split(this.flow, this.flowVec);\n        let u = this.flowVec.get(0);\n        let v = this.flowVec.get(1);\n        cv.cartToPolar(u, v, this.mag, this.ang);\n        u.delete();\n        v.delete();\n        this.ang.convertTo(this.hsv0, cv.CV_8UC1, 180 / Math.PI / 2);\n        cv.normalize(this.mag, this.hsv2, 0, 255, cv.NORM_MINMAX, cv.CV_8UC1);\n        cv.merge(this.hsvVec, this.hsv);\n        cv.cvtColor(this.hsv, this.rgb, cv.COLOR_HSV2RGB);\n        cv.imshow(this.$refs.canvas, this.rgb);\n        this.next.copyTo(this.prvs);\n      } catch (err) {\n        console.error(err);\n      }\n\n      console.log(tag);\n    },\n    play: function() {\n      this.video.play();\n    },\n    pause: function() {\n      this.video.pause();\n    },\n    setCurrentTime: function(time) {\n      const tag = `${this.$options.name}:setCurrentTime`;\n      if (time > 0 && time < this.video.duration) {\n        this.video.currentTime = time;\n        console.info(tag, this.video.currentTime);\n      } else {\n        console.error(tag, this.video.currentTime);\n      }\n    }\n  },\n  mounted: function() {\n    this.video = this.$refs.video;\n    this.cap = new cv.VideoCapture(this.video);\n\n    this.prvs = new cv.Mat();\n    this.frame2 = new cv.Mat(this.height, this.width, cv.CV_8UC4);\n    this.next = new cv.Mat(this.height, this.width, cv.CV_8UC1);\n    this.flow = new cv.Mat(this.height, this.width, cv.CV_32FC2);\n    this.flowVec = new cv.MatVector();\n\n    this.mag = new cv.Mat(this.height, this.width, cv.CV_32FC1);\n    this.ang = new cv.Mat(this.height, this.width, cv.CV_32FC1);\n\n    // take first frame of the video\n    let frame1 = new cv.Mat(this.height, this.width, cv.CV_8UC4);\n    this.cap.read(frame1);\n\n    cv.cvtColor(frame1, this.prvs, cv.COLOR_RGBA2GRAY);\n    frame1.delete();\n    this.hsv = new cv.Mat();\n    this.hsv0 = new cv.Mat(this.height, this.width, cv.CV_8UC1);\n    let hsv1 = new cv.Mat(\n      this.height,\n      this.width,\n      cv.CV_8UC1,\n      new cv.Scalar(255)\n    );\n    this.hsv2 = new cv.Mat(this.height, this.width, cv.CV_8UC1);\n    this.hsvVec = new cv.MatVector();\n    this.hsvVec.push_back(this.hsv0);\n    this.hsvVec.push_back(hsv1);\n    this.hsvVec.push_back(this.hsv2);\n    this.rgb = new cv.Mat(this.height, this.width, cv.CV_8UC3);\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OpticalFlow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OpticalFlow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OpticalFlow.vue?vue&type=template&id=3a27a021&\"\nimport script from \"./OpticalFlow.vue?vue&type=script&lang=js&\"\nexport * from \"./OpticalFlow.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mean-shift\"},[_c('video',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],ref:\"video\",attrs:{\"width\":_vm.width,\"height\":_vm.height,\"muted\":\"\",\"src\":_vm.dataUrl},domProps:{\"muted\":true},on:{\"timeupdate\":_vm.onTimeupdate,\"loadeddata\":_vm.onLoadeddata}}),_c('canvas',{ref:\"canvas\",staticStyle:{\"border\":\"1px solid #000000\"},attrs:{\"width\":_vm.width,\"height\":_vm.height}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"mean-shift\">\n    <video\n      v-show=\"false\"\n      ref=\"video\"\n      :width=\"width\"\n      :height=\"height\"\n      muted\n      :src=\"dataUrl\"\n      v-on:timeupdate=\"onTimeupdate\"\n      v-on:loadeddata=\"onLoadeddata\"\n    />\n    <canvas\n      ref=\"canvas\"\n      :width=\"width\"\n      :height=\"height\"\n      style=\"border:1px solid #000000;\"\n    />\n  </div>\n</template>\n\n<script>\n// import ColorUtil from \"@/utils/color.js\";\nexport default {\n  name: \"MeanShift\",\n  props: {\n    dataUrl: {\n      type: String,\n      require: true\n    },\n    fps: {\n      type: Number,\n      require: true\n    },\n    width: {\n      type: Number,\n      require: true\n    },\n    height: {\n      type: Number,\n      require: true\n    }\n  },\n  data: () => ({\n    video: null,\n    cap: null,\n    frame: null,\n    hsv: null,\n    hsvVec: null,\n    roiHist: null,\n    dst: null,\n    trackBox: null,\n    termCrit: null\n  }),\n  methods: {\n    onLoadeddata: function() {\n      const tag = `${this.$options.name}:onLoadeddata`;\n      this.cap.read(this.frame);\n      cv.imshow(this.$refs.canvas, this.frame);\n      console.info(tag, this.video.currentTime);\n    },\n    onTimeupdate: function() {\n      const tag = `${this.$options.name}:onTimeupdate`;\n      try {\n        // start processing.\n        this.cap.read(this.frame);\n        cv.cvtColor(this.frame, this.hsv, cv.COLOR_RGBA2RGB);\n        cv.cvtColor(this.hsv, this.hsv, cv.COLOR_RGB2HSV);\n        cv.calcBackProject(\n          this.hsvVec,\n          [0],\n          this.roiHist,\n          this.dst,\n          [0, 180],\n          1\n        );\n        // apply camshift to get the new location\n        [this.trackBox, this.trackWindow] = cv.CamShift(\n          this.dst,\n          this.trackWindow,\n          this.termCrit\n        );\n        // Draw it on image\n        let pts = cv.rotatedRectPoints(this.trackBox);\n        cv.line(this.frame, pts[0], pts[1], [255, 0, 0, 255], 3);\n        cv.line(this.frame, pts[1], pts[2], [255, 0, 0, 255], 3);\n        cv.line(this.frame, pts[2], pts[3], [255, 0, 0, 255], 3);\n        cv.line(this.frame, pts[3], pts[0], [255, 0, 0, 255], 3);\n        cv.imshow(this.$refs.canvas, this.frame);\n      } catch (err) {\n        console.error(tag, err);\n      }\n    },\n    play: function() {\n      this.video.play();\n    },\n    pause: function() {\n      this.video.pause();\n    },\n    setCurrentTime: function(time) {\n      if (time > 0 && time < this.video.duration) {\n        this.video.currentTime = time;\n      }\n    }\n  },\n  mounted: function() {\n    this.video = this.$refs.video;\n    this.cap = new cv.VideoCapture(this.video);\n    this.frame = new cv.Mat(this.height, this.width, cv.CV_8UC4);\n    this.trackWindow = new cv.Rect(150, 60, 63, 125);\n    let roi = this.frame.roi(this.trackWindow);\n    let hsvRoi = new cv.Mat();\n    cv.cvtColor(roi, hsvRoi, cv.COLOR_RGBA2RGB);\n    cv.cvtColor(hsvRoi, hsvRoi, cv.COLOR_RGB2HSV);\n    let mask = new cv.Mat();\n    let lowScalar = new cv.Scalar(30, 30, 0);\n    let highScalar = new cv.Scalar(180, 180, 180);\n    let low = new cv.Mat(hsvRoi.rows, hsvRoi.cols, hsvRoi.type(), lowScalar);\n    let high = new cv.Mat(hsvRoi.rows, hsvRoi.cols, hsvRoi.type(), highScalar);\n    cv.inRange(hsvRoi, low, high, mask);\n    this.roiHist = new cv.Mat();\n    let hsvRoiVec = new cv.MatVector();\n    hsvRoiVec.push_back(hsvRoi);\n    cv.calcHist(hsvRoiVec, [0], mask, this.roiHist, [180], [0, 180]);\n    cv.normalize(this.roiHist, this.roiHist, 0, 255, cv.NORM_MINMAX);\n\n    // delete useless mats.\n    roi.delete();\n    hsvRoi.delete();\n    mask.delete();\n    low.delete();\n    high.delete();\n    hsvRoiVec.delete();\n\n    // Setup the termination criteria, either 10 iteration or move by atleast 1 pt\n    this.termCrit = new cv.TermCriteria(\n      cv.TERM_CRITERIA_EPS | cv.TERM_CRITERIA_COUNT,\n      10,\n      1\n    );\n\n    this.hsv = new cv.Mat(this.height, this.width, cv.CV_8UC3);\n    this.hsvVec = new cv.MatVector();\n    this.hsvVec.push_back(this.hsv);\n    this.dst = new cv.Mat();\n    this.trackBox = null;\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MeanShift.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MeanShift.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MeanShift.vue?vue&type=template&id=da0130d2&\"\nimport script from \"./MeanShift.vue?vue&type=script&lang=js&\"\nexport * from \"./MeanShift.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"component-debug\">\n    <h1>Debug components</h1>\n    <v-card class=\"mx-auto\">\n      <v-toolbar color=\"primary\" dark>\n        <v-toolbar-title></v-toolbar-title>\n        <v-spacer></v-spacer>\n        <v-toolbar-title v-if=\"video.name && video.fps\">\n          {{ video.name }} ({{ video.fps }})\n        </v-toolbar-title>\n      </v-toolbar>\n      <v-container>\n        <m-movie-input v-model=\"video\" />\n        <v-card class=\"mx-auto\">\n          <v-toolbar color=\"blue-grey\" dark>\n            <v-toolbar-title>\n              Open CV DEMO\n            </v-toolbar-title>\n            <v-spacer></v-spacer>\n            <v-menu\n              bottom\n              left\n              v-model=\"conf.show\"\n              :close-on-content-click=\"false\"\n            >\n              <template v-slot:activator=\"{ on }\">\n                <v-btn icon v-on=\"on\">\n                  <v-icon>mdi-cog</v-icon>\n                </v-btn>\n              </template>\n              <v-list subheader>\n                <v-subheader>\n                  background-subtractor\n                </v-subheader>\n                <v-list-item>\n                  <v-list-item-title>\n                    <v-text-field v-model=\"conf.bs.history\" label=\"history\" />\n                  </v-list-item-title>\n                </v-list-item>\n                <v-list-item>\n                  <v-list-item-title>\n                    <v-text-field\n                      v-model=\"conf.bs.threshold\"\n                      label=\"threshold\"\n                    />\n                  </v-list-item-title>\n                </v-list-item>\n                <v-list-item>\n                  <v-list-item-title>\n                    <v-switch\n                      v-model=\"conf.bs.detectShadows\"\n                      label=\"detectShadows\"\n                    />\n                  </v-list-item-title>\n                </v-list-item>\n              </v-list>\n            </v-menu>\n          </v-toolbar>\n          <v-container v-if=\"video.dataUrl && video.file\">\n            <v-row>\n              <v-card class=\"ma-1\">\n                <v-system-bar dark color=\"primary\">\n                  <span>origin</span>\n                </v-system-bar>\n                <video\n                  ref=\"video\"\n                  :width=\"video.size.width\"\n                  :height=\"video.size.height\"\n                  :src=\"video.dataUrl\"\n                />\n              </v-card>\n              <v-card class=\"ma-1\">\n                <v-system-bar dark color=\"primary\">\n                  <span>background-subtractor</span>\n                </v-system-bar>\n                <background-subtractor\n                  ref=\"backgroundSubtractor\"\n                  :dataUrl=\"video.dataUrl\"\n                  :fps=\"video.fps\"\n                  :width=\"video.size.width\"\n                  :height=\"video.size.height\"\n                  :history=\"Number(conf.bs.history)\"\n                  :threshold=\"Number(conf.bs.threshold)\"\n                  :detectShadows=\"conf.bs.detectShadows\"\n                />\n              </v-card>\n              <v-card class=\"ma-1\">\n                <v-system-bar dark color=\"primary\">\n                  <span>optical-flow</span>\n                </v-system-bar>\n                <optical-flow\n                  ref=\"opticalFlow\"\n                  :dataUrl=\"video.dataUrl\"\n                  :fps=\"video.fps\"\n                  :width=\"video.size.width\"\n                  :height=\"video.size.height\"\n                />\n              </v-card>\n              <v-card class=\"ma-1\">\n                <v-system-bar dark color=\"primary\">\n                  <span>mean-shift</span>\n                </v-system-bar>\n                <mean-shift\n                  ref=\"meanShift\"\n                  :dataUrl=\"video.dataUrl\"\n                  :fps=\"video.fps\"\n                  :width=\"video.size.width\"\n                  :height=\"video.size.height\"\n                />\n              </v-card>\n            </v-row>\n          </v-container>\n        </v-card>\n      </v-container>\n      <v-card-actions>\n        <v-btn text @click=\"prev\">\n          prev\n        </v-btn>\n        <v-btn text @click=\"play\">Play</v-btn>\n        <v-btn text @click=\"pause\">\n          Pause\n        </v-btn>\n        <v-btn text @click=\"next\">next</v-btn>\n      </v-card-actions>\n    </v-card>\n  </div>\n</template>\n\n<script>\nimport MMovieInput from \"@/components/form/MMovieInput.vue\";\nimport BackgroundSubtractor from \"@/components/videos/BackgroundSubtractor.vue\";\nimport OpticalFlow from \"@/components/videos/OpticalFlow.vue\";\nimport MeanShift from \"@/components/videos/MeanShift.vue\";\nexport default {\n  name: \"ComponentDebug\",\n  components: {\n    MMovieInput,\n    BackgroundSubtractor,\n    OpticalFlow,\n    MeanShift\n  },\n  data: () => ({\n    video: {\n      loading: false,\n      name: null,\n      dataUrl: null,\n      fps: null,\n      size: {\n        width: null,\n        height: null\n      }\n    },\n    conf: {\n      show: false,\n      bs: {\n        history: 50,\n        threshold: 16,\n        detectShadows: false\n      }\n    }\n  }),\n  methods: {\n    play: function() {\n      const video = this.$refs.video;\n      video.play();\n      this.$refs.backgroundSubtractor.play();\n      this.$refs.meanShift.play();\n      this.$refs.opticalFlow.play();\n      this.$refs.videoArray.play();\n    },\n    pause: function() {\n      const video = this.$refs.video;\n      video.pause();\n      this.$refs.backgroundSubtractor.pause();\n      this.$refs.meanShift.pause();\n      this.$refs.opticalFlow.pause();\n      this.$refs.videoArray.pause();\n    },\n    prev: function() {\n      const video = this.$refs.video;\n      const frameRate = 1 / this.video.fps;\n      const time = Math.max(0, video.currentTime - frameRate);\n      video.currentTime = time;\n      this.$refs.backgroundSubtractor.setCurrentTime(time);\n      this.$refs.meanShift.setCurrentTime(time);\n      this.$refs.opticalFlow.setCurrentTime(time);\n      this.$refs.videoArray.prev();\n    },\n    next: function() {\n      const video = this.$refs.video;\n      const frameRate = 1 / this.video.fps;\n      const time = Math.min(video.duration, video.currentTime + frameRate);\n      video.currentTime = time;\n      this.$refs.backgroundSubtractor.setCurrentTime(time);\n      this.$refs.meanShift.setCurrentTime(time);\n      this.$refs.opticalFlow.setCurrentTime(time);\n      this.$refs.videoArray.next();\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComponentDebug.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComponentDebug.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ComponentDebug.vue?vue&type=template&id=07756de2&\"\nimport script from \"./ComponentDebug.vue?vue&type=script&lang=js&\"\nexport * from \"./ComponentDebug.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSubheader } from 'vuetify/lib/components/VSubheader';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\nimport { VSystemBar } from 'vuetify/lib/components/VSystemBar';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VCard,VCardActions,VContainer,VIcon,VList,VListItem,VListItemTitle,VMenu,VRow,VSpacer,VSubheader,VSwitch,VSystemBar,VTextField,VToolbar,VToolbarTitle})\n","import Vue from \"vue\";\nimport VueRouter from \"vue-router\";\nimport Home from \"@/views/Home.vue\";\nimport About from \"@/views/About.vue\";\nimport Config from \"@/views/Config.vue\";\nimport MovieAnnotation from \"@/views/MovieAnnotation.vue\";\nimport ImageAnnotation from \"@/views/ImageAnnotation.vue\";\nimport ComponentDebug from \"@/views/ComponentDebug.vue\";\n\nVue.use(VueRouter);\n\nconst routes = [\n  {\n    path: \"/\",\n    name: \"Home\",\n    component: Home\n  },\n  {\n    path: \"/about\",\n    name: \"About\",\n    component: About\n  },\n  {\n    path: \"/config\",\n    name: \"Config\",\n    component: Config\n  },\n  {\n    path: \"/movies/:id\",\n    name: \"MovieAnnotation\",\n    component: MovieAnnotation,\n    props: true\n  },\n  {\n    path: \"/movies/:id\",\n    name: \"ImageAnnotation\",\n    component: ImageAnnotation,\n    props: true\n  },\n  {\n    path: \"/debug/\",\n    name: \"ComponentDebug\",\n    component: ComponentDebug,\n    props: true\n  }\n];\n\nconst router = new VueRouter({\n  mode: \"history\",\n  base: process.env.BASE_URL,\n  routes\n});\n\nexport default router;\n","/**\n * store/current.js\n *\n * .\n * , ,\n * , \n * \n */\n\nconst TAG = \"current\";\nconst MUTATIONTAG = `${TAG}:MUTATION`;\nconst ACTIONTAG = `${TAG}:ACTION`;\n\nexport const current = {\n  namespaced: true,\n  state: {\n    name: null,\n    fileSize: null,\n    fileType: null,\n    fps: null,\n    dataUrl: null,\n    lastModifiedDate: null,\n    currentTime: null,\n    size: {\n      width: null,\n      height: null\n    },\n    videoStream: {\n      bitrate: null,\n      codec_name: null,\n      fps: null,\n      pix_fmt: null,\n      tbc: null,\n      tbn: null,\n      tbr: null\n    },\n    audioStream: {\n      codec_name: null,\n      bitrate: null,\n      channel_layout: null,\n      sample_fmt: null,\n      sample_rate: null\n    }\n  },\n  mutations: {\n    setName: function(state, payload) {\n      console.info(`${MUTATIONTAG}:setName`, payload);\n      state.name = String(payload);\n    },\n    setCurrentTime: function(state, payload) {\n      console.info(`${MUTATIONTAG}:setCurrentTime`, payload);\n      state.currentTime = payload;\n    },\n    setLastModifiedData: function(state, payload) {\n      console.info(`${MUTATIONTAG}:setLastModifiedData`, payload);\n      state.lastModifiedDate = payload;\n    },\n    setFileSize: function(state, payload) {\n      console.info(`${MUTATIONTAG}:setFileSize`, payload);\n      state.fileSize = payload;\n    },\n    setFileType: function(state, payload) {\n      console.info(`${MUTATIONTAG}:setFileType`, payload);\n      state.fileType = payload;\n    },\n    setFps: function(state, payload) {\n      console.info(`${MUTATIONTAG}:setFps`, payload);\n      state.fps = Number(payload);\n    },\n    setDataUrl: function(state, payload) {\n      console.info(`${MUTATIONTAG}:setDataUrl`, payload.split(\",\")[0]);\n      state.dataUrl = String(payload);\n    },\n    setSize: function(state, payload) {\n      console.info(`${MUTATIONTAG}:setSize`, payload);\n      state.size.width = payload.width;\n      state.size.height = payload.height;\n    },\n    setWidth: function(state, payload) {\n      console.info(`${MUTATIONTAG}:setWidth`, payload);\n      state.size.width = payload;\n    },\n    setHeight: function(state, payload) {\n      console.info(`${MUTATIONTAG}:setHeight`, payload);\n      state.size.height = payload;\n    },\n    setVideoStream: function(state, payload) {\n      console.info(`${MUTATIONTAG}:setVideoStream`, payload);\n      state.videoStream.codec_name = String(payload.codec_name);\n      state.videoStream.pix_fmt = String(payload.pix_fmt);\n      state.videoStream.bitrate = Number(payload.bitrate);\n      state.videoStream.fps = Number(payload.fps);\n      state.videoStream.tbc = Number(payload.tbc);\n      state.videoStream.tbn = Number(payload.tbn);\n      state.videoStream.tbr = Number(payload.tbr);\n    },\n    setAudioStream: function(state, payload) {\n      console.info(`${MUTATIONTAG}:setAudioStream`, payload);\n      state.audioStream.bitrate = payload.bitrate;\n      state.audioStream.channel_layout = payload.channel_layout;\n      state.audioStream.codec_name = payload.codec_name;\n      state.audioStream.sample_fmt = payload.sample_fmt;\n      state.audioStream.sample_rate = payload.sample_rate;\n    }\n  },\n  actions: {\n    setItem: function(context, payload) {\n      console.info(`${ACTIONTAG}:setItem`, payload);\n      context.commit(\"setName\", payload.name);\n      context.commit(\"setLastModifiedData\", payload.lastModifiedDate);\n      context.commit(\"setFileSize\", payload.fileSize);\n      context.commit(\"setFileType\", payload.fileType);\n      context.commit(\"setFps\", payload.fps);\n      context.commit(\"setDataUrl\", payload.dataUrl);\n      context.commit(\"setSize\", payload.size);\n      context.commit(\"setVideoStream\", payload.videoStream);\n      context.commit(\"setAudioStream\", payload.audioStream);\n    },\n    setName: function(context, payload) {\n      console.info(`${ACTIONTAG}:setName`, payload);\n      context.commit(\"setName\", payload);\n    },\n    setFps: function(context, payload) {\n      console.info(`${ACTIONTAG}:setFps`, payload);\n      context.commit(\"setFps\", payload);\n    },\n    setCurrentTime: function(context, payload) {\n      console.info(`${ACTIONTAG}:setCurrentTime`, payload);\n      context.commit(\"setCurrentTime\", payload);\n    },\n    setDataUrl: function(context, payload) {\n      console.info(`${ACTIONTAG}:setDataUrl`, payload);\n      context.commit(\"setDataUrl\", payload);\n    },\n    setSize: function(context, payload) {\n      console.info(`${ACTIONTAG}:setSize`, payload);\n      context.commit(\"setSize\", payload);\n    },\n    setWidth: function(context, payload) {\n      console.info(`${ACTIONTAG}:setWidth`, payload);\n      context.commit(\"setWidth\", payload);\n    },\n    setMovieHeight: function(context, payload) {\n      console.info(`${ACTIONTAG}:setHeight`, payload);\n      context.commit(\"setHeight\", payload);\n    },\n    setVideoStream: function(context, payload) {\n      console.info(`${ACTIONTAG}:setVideoStream`, payload);\n      context.commit(\"setVideoStream\", payload);\n    },\n    setAudioStream: function(context, payload) {\n      console.info(`${ACTIONTAG}:setAudioStream`, payload);\n      context.commit(\"setAudioStream\", payload);\n    }\n  }\n};\n","import Vue from \"vue\";\nimport Vuex from \"vuex\";\n// import VuexPersistence from \"vuex-persist\";\nimport VuexORM from \"@vuex-orm/core\";\n// import createPersistedState from \"vuex-persistedstate\";\n\nimport File from \"@/models/file.js\";\nimport AudioStream from \"@/models/audioStream.js\";\nimport VideoStream from \"@/models/videoStream.js\";\nimport VideoSize from \"@/models/videoSize.js\";\n\nimport { current } from \"./current.js\";\n\nconst database = new VuexORM.Database();\ndatabase.register(File);\ndatabase.register(AudioStream);\ndatabase.register(VideoStream);\ndatabase.register(VideoSize);\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n  state: {\n    appName: \"MRI Vuewer\",\n    appVersion: \"2.0\"\n  },\n  mutations: {},\n  actions: {},\n  modules: { current },\n  plugins: [\n    VuexORM.install(database)\n    //createPersistedState()\n  ]\n});\n","export default {\n  badge: \"\",\n  close: \"\",\n  dataIterator: {\n    noResultsText: \"\",\n    loadingText: \"...\"\n  },\n  dataTable: {\n    itemsPerPageText: \"1\",\n    ariaLabel: {\n      sortDescending: \"\",\n      sortAscending: \"\",\n      sortNone: \"\",\n      activateNone: \"\",\n      activateDescending: \"\",\n      activateAscending: \"\"\n    },\n    sortBy: \"\"\n  },\n  dataFooter: {\n    itemsPerPageText: \"1\",\n    itemsPerPageAll: \"\",\n    nextPage: \"\",\n    prevPage: \"\",\n    firstPage: \"\",\n    lastPage: \"\",\n    pageText: \"{0}-{1}  / {2}\"\n  },\n  datePicker: {\n    itemsSelected: \"{0}\"\n  },\n  noDataText: \"\",\n  carousel: {\n    prev: \"\",\n    next: \"\",\n    ariaLabel: {\n      delimiter: \"Carousel slide {0} of {1}\"\n    }\n  },\n  calendar: {\n    moreEvents: \"{0}\"\n  },\n  fileInput: {\n    counter: \"{0} \",\n    counterSize: \"{0}  ( {1})\"\n  },\n  timePicker: {\n    am: \"AM\",\n    pm: \"PM\"\n  },\n  validate: {\n    required: \"\",\n    lessThen: \"{0}\",\n    moreThen: \"{0}\",\n    isFloat: \"\"\n  },\n  baseFromDialog: {\n    open: \"\",\n    hint: \"* \",\n    close: \"\",\n    save: \"\"\n  },\n  movieUploadDialog: {\n    file: {\n      title: \"\",\n      hint: \" mp4, webm   ogv \"\n    },\n    name: {\n      title: \"\",\n      hint: \"\"\n    },\n    fps: {\n      title: \"\",\n      hint: \" FPS \"\n    }\n  },\n  sidebar: {\n    files: {\n      title: \"\",\n      add: \"\",\n      list: \"\"\n    },\n    cache: {\n      destroy: \"\",\n      export: \"\",\n      import: \"\"\n    }\n  },\n  home: {\n    disc: \"MP4 \",\n    upload: {\n      title: \"\",\n      btn: \"\",\n      hint: \"\"\n    },\n    demo: {\n      title: \"\",\n      btn: \"\",\n      hint: \"\"\n    }\n  },\n  movieAnnotation: {\n    info: {\n      title: \"\",\n      videoStream: {\n        codec: {\n          title: \"\"\n        },\n        bitrate: {\n          title: \"\"\n        },\n        fps: { title: \"fps\" },\n        tbr: {\n          title: \"tbr\",\n          help: \"\"\n        },\n        tbn: {\n          title: \"tbn\",\n          help: \"\"\n        },\n        tbc: {\n          title: \"tbc\",\n          help: \"\"\n        }\n      },\n      audioStream: {\n        codec: { title: \"\" },\n        bitrate: {\n          title: \"\"\n        },\n        channel_layout: {\n          title: \"\"\n        },\n        sample_rate: {\n          title: \"\"\n        }\n      }\n    }\n  }\n};\n","export default {\n  badge: \"Badge\",\n  close: \"Close\",\n  dataIterator: {\n    noResultsText: \"No matching records found\",\n    loadingText: \"Loading items...\"\n  },\n  dataTable: {\n    itemsPerPageText: \"Rows per page:\",\n    ariaLabel: {\n      sortDescending: \"Sorted descending.\",\n      sortAscending: \"Sorted ascending.\",\n      sortNone: \"Not sorted.\",\n      activateNone: \"Activate to remove sorting.\",\n      activateDescending: \"Activate to sort descending.\",\n      activateAscending: \"Activate to sort ascending.\"\n    },\n    sortBy: \"Sort by\"\n  },\n  dataFooter: {\n    itemsPerPageText: \"Items per page:\",\n    itemsPerPageAll: \"All\",\n    nextPage: \"Next page\",\n    prevPage: \"Previous page\",\n    firstPage: \"First page\",\n    lastPage: \"Last page\",\n    pageText: \"{0}-{1} of {2}\"\n  },\n  datePicker: {\n    itemsSelected: \"{0} selected\"\n  },\n  noDataText: \"No data available\",\n  carousel: {\n    prev: \"Previous visual\",\n    next: \"Next visual\",\n    ariaLabel: {\n      delimiter: \"Carousel slide {0} of {1}\"\n    }\n  },\n  calendar: {\n    moreEvents: \"{0} more\"\n  },\n  fileInput: {\n    counter: \"{0} files\",\n    counterSize: \"{0} files ({1} in total)\"\n  },\n  timePicker: {\n    am: \"AM\",\n    pm: \"PM\"\n  },\n  validate: {\n    required: \"This field is required\",\n    lessThen: \"This field must be less than {0} characters\",\n    moreThen: \"This field must be more than {0} characters\",\n    isFloat: \"This is a float field\"\n  },\n  movieUploadDialog: {\n    file: {\n      title: \"Your movie\",\n      hint: \"supported format is mp4, webm and ogv\"\n    },\n    name: {\n      title: \"Display name\",\n      hint: \"Display name of your movie\"\n    },\n    fps: {\n      title: \"FPS\",\n      hint: \"Register your video fps\"\n    }\n  },\n  baseFromDialog: {\n    open: \"Open Dialog\",\n    hint: \"*indicates required field\",\n    close: \"Close\",\n    save: \"Save\"\n  },\n  sidebar: {\n    files: {\n      title: \"Annotation\",\n      add: \"File upload\",\n      list: \"Registered files\"\n    },\n    cache: {\n      destroy: \"Destroy an app cache\",\n      export: \"Export an app cache\",\n      import: \"Import an app cache\"\n    }\n  },\n  home: {\n    disc: \"Annotation tool for web videos\",\n    upload: {\n      title: \"Register your video\",\n      btn: \"Upload\",\n      hint: \"Import your video file for annotation\"\n    },\n    demo: {\n      title: \"Live demo\",\n      btn: \"Go to a sample movie\",\n      hint: \"Try the annotation function using a sample video\"\n    }\n  },\n  movieAnnotation: {\n    info: {\n      title: \"video format\",\n      videoStream: {\n        codec: {\n          title: \"codec\"\n        },\n        bitrate: {\n          title: \"bitrate\"\n        },\n        fps: { title: \"fps\" },\n        tbr: {\n          title: \"tbr\",\n          help:\n            \"tbr is guessed from the video stream and is the value users want to see when they look for the video frame rate\"\n        },\n        tbn: {\n          title: \"tbn\",\n          help: \"the time base in AVStream that has come from the container\"\n        },\n        tbc: {\n          title: \"tbc\",\n          help:\n            \"the time base in AVCodecContext for the codec used for a particular stream\"\n        }\n      },\n      audioStream: {\n        bitrate: {\n          title: \"bitrate\"\n        },\n        channel_layout: {\n          title: \"channel layout\"\n        },\n        codec: { title: \"codec\" },\n        sample_rate: {\n          title: \"sampling rate\"\n        }\n      }\n    }\n  }\n};\n","export default {\n  badge: \"\",\n  close: \"\",\n  dataIterator: {\n    noResultsText: \"\",\n    loadingText: \"\"\n  },\n  dataTable: {\n    itemsPerPageText: \"\",\n    ariaLabel: {\n      sortDescending: \"\",\n      sortAscending: \"\",\n      sortNone: \"\",\n      activateNone: \"\",\n      activateDescending: \"\",\n      activateAscending: \"\"\n    },\n    sortBy: \"\"\n  },\n  dataFooter: {\n    itemsPerPageText: \"\",\n    itemsPerPageAll: \"\",\n    nextPage: \"\",\n    prevPage: \"\",\n    firstPage: \"\",\n    lastPage: \"\",\n    pageText: \"{0}-{1}  {2}\"\n  },\n  datePicker: {\n    itemsSelected: \" {0}\"\n  },\n  noDataText: \"\",\n  carousel: {\n    prev: \"\",\n    next: \"\",\n    ariaLabel: {\n      delimiter: \"Carousel slide {0} of {1}\"\n    }\n  },\n  calendar: {\n    moreEvents: \" {0} \"\n  },\n  fileInput: {\n    counter: \"{0} \",\n    counterSize: \"{0}  {1}\"\n  },\n  timePicker: {\n    am: \"AM\",\n    pm: \"PM\"\n  },\n  validate: {\n    required: \"\",\n    lessThen: \"{0}\",\n    moreThen: \"{0}\",\n    isFloat: \"\"\n  },\n  movieUploadDialog: {\n    file: {\n      title: \"\",\n      hint: \"mp4webmogv\"\n    },\n    name: {\n      title: \"\",\n      hint: \"\"\n    },\n    fps: {\n      title: \"\",\n      hint: \"fps\"\n    }\n  },\n  baseFromDialog: {\n    open: \"\",\n    hint: \"*\",\n    close: \"\",\n    save: \"\"\n  },\n  sidebar: {\n    files: {\n      title: \"\",\n      add: \"\",\n      list: \"\"\n    },\n    cache: {\n      destroy: \"\",\n      export: \"\",\n      import: \"\"\n    }\n  },\n  home: {\n    disc: \"\",\n    upload: {\n      title: \"\",\n      btn: \"\",\n      hint: \"\"\n    },\n    demo: {\n      title: \"\",\n      btn: \"\",\n      hint: \"\"\n    }\n  },\n  movieAnnotation: {\n    info: {\n      title: \"\",\n      videoStream: {\n        codec: { title: \"\" },\n        bitrate: { title: \"\" },\n        fps: { title: \"fps\" },\n        tbr: {\n          title: \"tbr\",\n          help: \"tbr \"\n        },\n        tbn: {\n          title: \"tbn\",\n          help: \"\"\n        },\n        tbc: {\n          title: \"tbc\",\n          help: \"\"\n        }\n      },\n      audioStream: {\n        codec: { title: \"\" },\n        bitrate: { title: \"\" },\n        channel_layout: { title: \"\" },\n        sample_rate: { title: \"\" }\n      }\n    }\n  }\n};\n","import Vue from \"vue\";\nimport Vuetify from \"vuetify/lib\";\nimport colors from \"vuetify/lib/util/colors\";\nimport ja from \"@/locales/ja.ts\";\nimport en from \"@/locales/en.ts\";\nimport zhHans from \"@/locales/zh-Hans.ts\";\n\nVue.use(Vuetify);\nexport default new Vuetify({\n  theme: {\n    themes: {\n      light: {\n        primary: colors.blueGrey,\n        secondary: colors.blueGrey.darken3,\n        accent: colors.teal.darken3\n      },\n      dark: {\n        primary: colors.blueGrey.lighten3\n      }\n    }\n  },\n  lang: {\n    locales: { ja, en, zhHans },\n    current: \"zhHans\"\n  }\n});\n","import Vue from \"vue\";\nimport App from \"./App.vue\";\nimport \"./registerServiceWorker\";\nimport router from \"./router\";\nimport store from \"./store\";\nimport vuetify from \"./plugins/vuetify\";\n\nVue.config.productionTip = false;\n\nnew Vue({\n  router,\n  store,\n  vuetify,\n  render: h => h(App)\n}).$mount(\"#app\");\n"],"sourceRoot":""}